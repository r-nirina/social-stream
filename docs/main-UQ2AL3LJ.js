import{$ as Ut,$a as Xf,$b as ft,A as Wr,Aa as Bf,Ab as eg,B as te,Ba as Bo,Bb as Bn,C as Kd,Ca as On,Cb as de,D as cn,Da as zf,Db as Rt,E as ar,Ea as Ws,Eb as ni,F as $r,Fa as Kr,Fb as ur,G as Xd,Ga as jf,Gb as he,H as Le,Ha as hr,Hb as ue,I as Ef,Ia as Ci,Ib as oh,J as zs,Ja as $l,Jb as Ui,K as If,Ka as eh,Kb as Xr,L as Hr,La as Nn,Lb as un,M as Af,Ma as zo,Mb as Et,N as lr,Na as jo,Nb as qr,O as cr,Oa as Vf,Ob as Xs,P as qd,Pa as Uf,Pb as qs,Q as Zd,Qa as Gf,Qb as Kl,R as Rf,Ra as Wf,Rb as ig,S as Tf,Sa as $f,Sb as ng,T as Mf,Ta as Hf,Tb as sh,U as Vl,Ua as Yf,Ub as ah,V as Lf,Va as hi,Vb as rg,W as Qd,Wa as Kf,Wb as og,X as Ul,Xa as $s,Xb as He,Y as dr,Ya as oe,Yb as lh,Z as ki,Za as P,Zb as sg,_ as Ae,_a as Hs,_b as ag,a as z,aa as Of,ab as Hl,ac as ch,b as Xt,ba as Gt,bb as qf,bc as Xl,ca as Re,cb as Yl,cc as lg,d as xf,da as Jd,db as ih,dc as cg,e as sr,ea as js,eb as dn,ec as dh,f as wf,fa as ee,fb as nh,fc as dg,g as di,ga as kt,gb as tt,gc as hg,h as $d,ha as St,hb as rh,hc as hh,i as Hd,ia as qt,ib as ui,ic as ug,j as yt,ja as Vs,jb as Vi,k as ht,ka as Us,kb as Zf,l as kf,la as Ct,lb as Qf,lc as mg,m as Ur,ma as th,mb as Jf,mc as uh,n as Sf,na as Nf,nb as Pn,o as wi,oa as G,ob as Te,oc as mh,p as q,pa as Dt,pb as ii,pc as ph,q as Gr,qa as Pf,qb as Ys,qc as fh,r as Yd,ra as H,rb as se,s as Cf,sa as Gl,sb as Vo,t as X,ta as Ff,tb as Fn,u as Fs,ua as Yr,ub as Lt,v as We,va as Si,vb as Wt,w as zl,wa as Gs,wb as $e,x as jl,xa as Wl,xb as Ks,y as Df,ya as M,yb as tg,z as Bs,za as B,zb as hn}from"./chunk-B7JO5T7V.js";var bh=class{};var Uo=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var vh=class{encodeKey(t){return pg(t)}encodeValue(t){return pg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Ew(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var Iw=/%(\d[a-f0-9])/gi,Aw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pg(e){return encodeURIComponent(e).replace(Iw,(t,n)=>Aw[n]??t)}function ql(e){return`${e}`}var mr=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new vh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Ew(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(ql):[ql(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(ql(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(ql(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var yh=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Rw(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fg(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function gg(e){return typeof Blob<"u"&&e instanceof Blob}function bg(e){return typeof FormData<"u"&&e instanceof FormData}function Tw(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Zs=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Rw(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Uo,this.context??=new yh,!this.params)this.params=new mr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:fg(this.body)||gg(this.body)||bg(this.body)||Tw(this.body)||typeof this.body=="string"?this.body:this.body instanceof mr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bg(this.body)?null:gg(this.body)?this.body.type||null:fg(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof mr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.body!==void 0?t.body:this.body,s=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,a=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,l=t.headers||this.headers,c=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((h,u)=>h.set(u,t.setHeaders[u]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,u)=>h.set(u,t.setParams[u]),c)),new e(n,i,o,{params:c,headers:l,context:d,reportProgress:a,responseType:r,withCredentials:s})}},vg=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(vg||{}),_h=class{constructor(t,n=yg.Ok,i="OK"){this.headers=t.headers||new Uo,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var xh=class e extends _h{constructor(t={}){super(t),this.type=vg.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var yg=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(yg||{});function gh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var _g=(()=>{let t=class t{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Zs)s=i;else{let c;o.headers instanceof Uo?c=o.headers:c=new Uo(o.headers);let d;o.params&&(o.params instanceof mr?d=o.params:d=new mr({fromObject:o.params})),s=new Zs(i,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=q(s).pipe(ar(c=>this.handler.handle(c)));if(i instanceof Zs||o.observe==="events")return a;let l=a.pipe(te(c=>c instanceof xh));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(X(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(X(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new mr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,gh(o,r))}post(i,r,o={}){return this.request("POST",i,gh(o,r))}put(i,r,o={}){return this.request("PUT",i,gh(o,r))}};t.\u0275fac=function(r){return new(r||t)(M(bh))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})();var Sh=class extends ag{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ch=class e extends Sh{static makeCurrent(){sg(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=Lw();return n==null?null:Ow(n)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return lg(document.cookie,t)}},Qs=null;function Lw(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}function Ow(e){return new URL(e,document.baseURI).pathname}var Nw=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),Dh=new H(""),Cg=(()=>{let t=class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new Gt(5101,!1);return this._eventNameToPlugin.set(i,r),r}};t.\u0275fac=function(r){return new(r||t)(M(Dh),M(tt))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),Zl=class{constructor(t){this._doc=t}},wh="ng-app-id",Dg=(()=>{let t=class t{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hh(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${wh}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(wh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(wh,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(M(ft),M(Gl),M(Gs,8),M(Yr))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ih=/%COMP%/g,Eg="%COMP%",Pw=`_nghost-${Eg}`,Fw=`_ngcontent-${Eg}`,Bw=!0,zw=new H("",{providedIn:"root",factory:()=>Bw});function jw(e){return Fw.replace(Ih,e)}function Vw(e){return Pw.replace(Ih,e)}function Ig(e,t){return t.map(n=>n.replace(Ih,e))}var Ql=(()=>{let t=class t{constructor(i,r,o,s,a,l,c,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=hh(l),this.defaultRenderer=new Js(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===js.ShadowDom&&(r=Xt(z({},r),{encapsulation:js.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Jl?o.applyToHost(i):o instanceof ta&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(r.encapsulation){case js.Emulated:s=new Jl(c,d,r,this.appId,h,a,l,u);break;case js.ShadowDom:return new Eh(c,d,i,r,a,l,this.nonce,u);default:s=new ta(c,d,r,h,a,l,u);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(M(Cg),M(Dg),M(Gl),M(zw),M(ft),M(Yr),M(tt),M(Gs))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),Js=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(kh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(xg(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(xg(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Gt(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=kh[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=kh[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&($s.DashCase|$s.Important)?t.style.setProperty(n,i,r&$s.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&$s.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=lh().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function xg(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Eh=class extends Js{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Ig(r.id,r.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ta=class extends Js{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?Ig(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Jl=class extends ta{constructor(t,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=jw(c),this.hostAttr=Vw(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},Uw=(()=>{let t=class t extends Zl{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(M(ft))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),wg=["alt","control","meta","shift"],Gw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ww={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},$w=(()=>{let t=class t extends Zl{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lh().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),wg.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let o=Gw[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),wg.forEach(a=>{if(a!==o){let l=Ww[a];l(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{t.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(r){return new(r||t)(M(ft))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})();function Ag(e,t){return og(z({rootComponent:e},Hw(t)))}function Hw(e){return{appProviders:[...Zw,...e?.providers??[]],platformProviders:qw}}function Yw(){Ch.makeCurrent()}function Kw(){return new Nn}function Xw(){return Nf(document),document}var qw=[{provide:Yr,useValue:dg},{provide:Ff,useValue:Yw,multi:!0},{provide:ft,useFactory:Xw,deps:[]}];var Zw=[{provide:zf,useValue:"root"},{provide:Nn,useFactory:Kw,deps:[]},{provide:Dh,useClass:Uw,multi:!0,deps:[ft,tt,Yr]},{provide:Dh,useClass:$w,multi:!0,deps:[ft]},Ql,Dg,Cg,{provide:Hl,useExisting:Ql},{provide:ug,useClass:Nw,deps:[]},[]];var Rg=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(r){return new(r||t)(M(ft))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ah=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=M(Qw),o},providedIn:"root"});let e=t;return e})(),Qw=(()=>{let t=class t extends Ah{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case hi.NONE:return r;case hi.HTML:return jo(r,"HTML")?zo(r):Yf(this._doc,String(r)).toString();case hi.STYLE:return jo(r,"Style")?zo(r):r;case hi.SCRIPT:if(jo(r,"Script"))return zo(r);throw new Gt(5200,!1);case hi.URL:return jo(r,"URL")?zo(r):Hf(String(r));case hi.RESOURCE_URL:if(jo(r,"ResourceURL"))return zo(r);throw new Gt(5201,!1);default:throw new Gt(5202,!1)}}bypassSecurityTrustHtml(i){return Vf(i)}bypassSecurityTrustStyle(i){return Uf(i)}bypassSecurityTrustScript(i){return Gf(i)}bypassSecurityTrustUrl(i){return Wf(i)}bypassSecurityTrustResourceUrl(i){return $f(i)}};t.\u0275fac=function(r){return new(r||t)(M(ft))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var et="primary",fa=Symbol("RouteTitle"),Oh=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Yo(e){return new Oh(e)}function tk(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function ek(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!mn(e[n],t[n]))return!1;return!0}function mn(e,t){let n=e?Nh(e):void 0,i=t?Nh(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Fg(e[r],t[r]))return!1;return!0}function Nh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Fg(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function Bg(e){return e.length>0?e[e.length-1]:null}function br(e){return Yd(e)?e:ig(e)?wi(Promise.resolve(e)):q(e)}var ik={exact:jg,subset:Vg},zg={exact:nk,subset:rk,ignored:()=>!0};function Mg(e,t,n){return ik[n.paths](e.root,t.root,n.matrixParams)&&zg[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function nk(e,t){return mn(e,t)}function jg(e,t,n){if(!Qr(e.segments,t.segments)||!ic(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!jg(e.children[i],t.children[i],n))return!1;return!0}function rk(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Fg(e[n],t[n]))}function Vg(e,t,n){return Ug(e,t,t.segments,n)}function Ug(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Qr(r,n)||t.hasChildren()||!ic(r,n,i))}else if(e.segments.length===n.length){if(!Qr(e.segments,n)||!ic(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!Vg(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Qr(e.segments,r)||!ic(e.segments,r,i)||!e.children[et]?!1:Ug(e.children[et],t,o,i)}}function ic(e,t,n){return t.every((i,r)=>zg[n](e[r].parameters,i.parameters))}var pr=class{constructor(t=new Tt([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){return ak.serialize(this)}},Tt=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nc(this)}},Zr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Yo(this.parameters),this._parameterMap}toString(){return Wg(this)}};function ok(e,t){return Qr(e,t)&&e.every((n,i)=>mn(n.parameters,t[i].parameters))}function Qr(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function sk(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===et&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==et&&(n=n.concat(t(r,i)))}),n}var au=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>new oc,providedIn:"root"});let e=t;return e})(),oc=class{parse(t){let n=new Fh(t);return new pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ea(t.root,!0)}`,i=dk(t.queryParams),r=typeof t.fragment=="string"?`#${lk(t.fragment)}`:"";return`${n}${i}${r}`}},ak=new oc;function nc(e){return e.segments.map(t=>Wg(t)).join("/")}function ea(e,t){if(!e.hasChildren())return nc(e);if(t){let n=e.children[et]?ea(e.children[et],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==et&&i.push(`${r}:${ea(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=sk(e,(i,r)=>r===et?[ea(e.children[et],!1)]:[`${r}:${ea(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[et]!=null?`${nc(e)}/${n[0]}`:`${nc(e)}/(${n.join("//")})`}}function Gg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tc(e){return Gg(e).replace(/%3B/gi,";")}function lk(e){return encodeURI(e)}function Ph(e){return Gg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rc(e){return decodeURIComponent(e)}function Lg(e){return rc(e.replace(/\+/g,"%20"))}function Wg(e){return`${Ph(e.path)}${ck(e.parameters)}`}function ck(e){return Object.entries(e).map(([t,n])=>`;${Ph(t)}=${Ph(n)}`).join("")}function dk(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${tc(n)}=${tc(r)}`).join("&"):`${tc(n)}=${tc(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var hk=/^[^\/()?;#]+/;function Rh(e){let t=e.match(hk);return t?t[0]:""}var uk=/^[^\/()?;=#]+/;function mk(e){let t=e.match(uk);return t?t[0]:""}var pk=/^[^=?&#]+/;function fk(e){let t=e.match(pk);return t?t[0]:""}var gk=/^[^&#]+/;function bk(e){let t=e.match(gk);return t?t[0]:""}var Fh=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[et]=new Tt(t,n)),i}parseSegment(){let t=Rh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Gt(4009,!1);return this.capture(t),new Zr(rc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=mk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Rh(this.remaining);r&&(i=r,this.capture(i))}t[rc(n)]=rc(i)}parseQueryParam(t){let n=fk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=bk(this.remaining);s&&(i=s,this.capture(i))}let r=Lg(n),o=Lg(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Rh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Gt(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=et);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[et]:new Tt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Gt(4011,!1)}};function $g(e){return e.segments.length>0?new Tt([],{[et]:e}):e}function Hg(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=Hg(r);if(i===et&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new Tt(e.segments,t);return vk(n)}function vk(e){if(e.numberOfChildren===1&&e.children[et]){let t=e.children[et];return new Tt(e.segments.concat(t.segments),t.children)}return e}function Ko(e){return e instanceof pr}function yk(e,t,n=null,i=null){let r=Yg(e);return Kg(r,t,n,i)}function Yg(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new Tt(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=$g(i);return t??r}function Kg(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return Th(r,r,r,n,i);let o=_k(t);if(o.toRoot())return Th(r,r,new Tt([],{}),n,i);let s=xk(o,r,e),a=s.processChildren?ra(s.segmentGroup,s.index,o.commands):qg(s.segmentGroup,s.index,o.commands);return Th(r,s.segmentGroup,a,n,i)}function sc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function aa(e){return typeof e=="object"&&e!=null&&e.outlets}function Th(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=n:s=Xg(e,t,n);let a=$g(Hg(s));return new pr(a,o,r)}function Xg(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=Xg(o,t,n)}),new Tt(e.segments,i)}var ac=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&sc(i[0]))throw new Gt(4003,!1);let r=i.find(aa);if(r&&r!==Bg(i))throw new Gt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _k(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ac(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new ac(n,t,i)}var $o=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function xk(e,t,n){if(e.isAbsolute)return new $o(t,!0,0);if(!n)return new $o(t,!1,NaN);if(n.parent===null)return new $o(n,!0,0);let i=sc(e.commands[0])?0:1,r=n.segments.length-1+i;return wk(n,r,e.numberOfDoubleDots)}function wk(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Gt(4005,!1);r=i.segments.length}return new $o(i,!1,r-o)}function kk(e){return aa(e[0])?e[0].outlets:{[et]:e}}function qg(e,t,n){if(e??=new Tt([],{}),e.segments.length===0&&e.hasChildren())return ra(e,t,n);let i=Sk(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new Tt(e.segments.slice(0,i.pathIndex),{});return o.children[et]=new Tt(e.segments.slice(i.pathIndex),e.children),ra(o,0,r)}else return i.match&&r.length===0?new Tt(e.segments,{}):i.match&&!e.hasChildren()?Bh(e,t,n):i.match?ra(e,0,r):Bh(e,t,n)}function ra(e,t,n){if(n.length===0)return new Tt(e.segments,{});{let i=kk(n),r={};if(Object.keys(i).some(o=>o!==et)&&e.children[et]&&e.numberOfChildren===1&&e.children[et].segments.length===0){let o=ra(e.children[et],t,n);return new Tt(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=qg(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Tt(e.segments,r)}}function Sk(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(aa(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Ng(l,c,s))return o;i+=2}else{if(!Ng(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Bh(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(aa(o)){let l=Ck(o.outlets);return new Tt(i,l)}if(r===0&&sc(n[0])){let l=e.segments[t];i.push(new Zr(l.path,Og(n[0]))),r++;continue}let s=aa(o)?o.outlets[et]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&sc(a)?(i.push(new Zr(s,Og(a))),r+=2):(i.push(new Zr(s,{})),r++)}return new Tt(i,{})}function Ck(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=Bh(new Tt([],{}),0,i))}),t}function Og(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function Ng(e,t,n){return e==n.path&&mn(t,n.parameters)}var oa="imperative",Oe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Oe||{}),Ei=class{constructor(t,n){this.id=t,this.url=n}},la=class extends Ei{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Oe.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fr=class extends Ei{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Oe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Di=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Di||{}),zh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(zh||{}),gr=class extends Ei{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Oe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jr=class extends Ei{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Oe.NavigationSkipped}},ca=class extends Ei{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Oe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lc=class extends Ei{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Oe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jh=class extends Ei{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Oe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vh=class extends Ei{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Oe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uh=class extends Ei{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Oe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gh=class extends Ei{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Oe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wh=class{constructor(t){this.route=t,this.type=Oe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$h=class{constructor(t){this.route=t,this.type=Oe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hh=class{constructor(t){this.snapshot=t,this.type=Oe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yh=class{constructor(t){this.snapshot=t,this.type=Oe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kh=class{constructor(t){this.snapshot=t,this.type=Oe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xh=class{constructor(t){this.snapshot=t,this.type=Oe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var da=class{},ha=class{constructor(t){this.url=t}};var qh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pc,this.attachRef=null}},pc=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new qh,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),cc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Zh(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=Zh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Qh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Qh(t,this._root).map(n=>n.value)}};function Zh(e,t){if(e===t.value)return t;for(let n of t.children){let i=Zh(e,n);if(i)return i}return null}function Qh(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Qh(e,n);if(i.length)return i.unshift(t),i}return[]}var mi=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Wo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var dc=class extends cc{constructor(t,n){super(t),this.snapshot=n,cu(this,t)}toString(){return this.snapshot.toString()}};function Zg(e){let t=Dk(e),n=new ht([new Zr("",{})]),i=new ht({}),r=new ht({}),o=new ht({}),s=new ht(""),a=new zn(n,i,o,s,r,et,e,t.root);return a.snapshot=t.root,new dc(new mi(a,[]),t)}function Dk(e){let t={},n={},i={},r="",o=new ua([],t,i,r,n,et,e,null,{});return new hc("",new mi(o,[]))}var zn=class{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(X(c=>c[fa]))??q(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(t=>Yo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(t=>Yo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lu(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:z(z({},t.params),e.params),data:z(z({},t.data),e.data),resolve:z(z(z(z({},e.data),t.data),r?.data),e._resolvedData)}:i={params:z({},e.params),data:z({},e.data),resolve:z(z({},e.data),e._resolvedData??{})},r&&Jg(r)&&(i.resolve[fa]=r.title),i}var ua=class{get title(){return this.data?.[fa]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},hc=class extends cc{constructor(t,n){super(n),this.url=t,cu(this,n)}toString(){return Qg(this._root)}};function cu(e,t){t.value._routerState=e,t.children.forEach(n=>cu(e,n))}function Qg(e){let t=e.children.length>0?` { ${e.children.map(Qg).join(", ")} } `:"";return`${e.value}${t}`}function Mh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,mn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),mn(t.params,n.params)||e.paramsSubject.next(n.params),ek(t.url,n.url)||e.urlSubject.next(n.url),mn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Jh(e,t){let n=mn(e.params,t.params)&&ok(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||Jh(e.parent,t.parent))}function Jg(e){return typeof e.title=="string"||e.title===null}var du=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=B(pc),this.location=B(rh),this.changeDetector=B(dn),this.environmentInjector=B(Ws),this.inputBinder=B(hu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Gt(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Gt(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new tu(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=qt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hr]});let e=t;return e})(),tu=class{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===zn?this.route:t===pc?this.childContexts:this.parent.get(t,n)}},hu=new H("");function Ek(e,t,n){let i=ma(e,t._root,n?n._root:void 0);return new dc(i,t)}function ma(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=Ik(e,t,n);return new mi(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ma(e,a)),s}}let i=Ak(t.value),r=t.children.map(o=>ma(e,o));return new mi(i,r)}}function Ik(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ma(e,i,r);return ma(e,i)})}function Ak(e){return new zn(new ht(e.url),new ht(e.params),new ht(e.queryParams),new ht(e.fragment),new ht(e.data),e.outlet,e.component,e)}var tb="ngNavigationCancelingError";function eb(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Ko(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=ib(!1,Di.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function ib(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[tb]=!0,n.cancellationCode=t,n}function Rk(e){return nb(e)&&Ko(e.url)}function nb(e){return!!e&&e[tb]}var Tk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["ng-component"]],standalone:!0,features:[Et],decls:1,vars:0,template:function(r,o){r&1&&$e(0,"router-outlet")},dependencies:[du],encapsulation:2});let e=t;return e})();function Mk(e,t){return e.providers&&!e._injector&&(e._injector=Qf(e.providers,t,`Route: ${e.path}`)),e._injector??t}function uu(e){let t=e.children&&e.children.map(uu),n=t?Xt(z({},e),{children:t}):z({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==et&&(n.component=Tk),n}function pn(e){return e.outlet||et}function Lk(e,t){let n=e.filter(i=>pn(i)===t);return n.push(...e.filter(i=>pn(i)!==t)),n}function ga(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ok=(e,t,n,i)=>X(r=>(new eu(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),eu=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Mh(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Wo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Wo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Wo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Wo(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Xh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Yh(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(Mh(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mh(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=ga(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}},uc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ho=class{constructor(t,n){this.component=t,this.route=n}};function Nk(e,t,n){let i=e._root,r=t?t._root:null;return ia(i,r,n,[i.value])}function Pk(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function qo(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!Pf(e)?e:t.get(e):i}function ia(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wo(t);return e.children.forEach(s=>{Fk(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>sa(a,n.getContext(s),r)),r}function Fk(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Bk(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new uc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ia(e,t,a?a.children:null,i,r):ia(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ho(a.outlet.component,s))}else s&&sa(t,a,r),r.canActivateChecks.push(new uc(i)),o.component?ia(e,null,a?a.children:null,i,r):ia(e,null,n,i,r);return r}function Bk(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Qr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Qr(e.url,t.url)||!mn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jh(e,t)||!mn(e.queryParams,t.queryParams);case"paramsChange":default:return!Jh(e,t)}}function sa(e,t,n){let i=Wo(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?sa(s,t.children.getContext(o),n):sa(s,null,n):sa(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ho(t.outlet.component,r)):n.canDeactivateChecks.push(new Ho(null,r)):n.canDeactivateChecks.push(new Ho(null,r))}function ba(e){return typeof e=="function"}function zk(e){return typeof e=="boolean"}function jk(e){return e&&ba(e.canLoad)}function Vk(e){return e&&ba(e.canActivate)}function Uk(e){return e&&ba(e.canActivateChild)}function Gk(e){return e&&ba(e.canDeactivate)}function Wk(e){return e&&ba(e.canMatch)}function rb(e){return e instanceof Cf||e?.name==="EmptyError"}var ec=Symbol("INITIAL_VALUE");function Xo(){return ki(e=>Fs(e.map(t=>t.pipe(Le(1),dr(ec)))).pipe(X(t=>{for(let n of t)if(n!==!0){if(n===ec)return ec;if(n===!1||n instanceof pr)return n}return!0}),te(t=>t!==ec),Le(1)))}function $k(e,t){return We(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?q(Xt(z({},n),{guardsResult:!0})):Hk(s,i,r,e).pipe(We(a=>a&&zk(a)?Yk(i,o,e,t):q(a)),X(a=>Xt(z({},n),{guardsResult:a})))})}function Hk(e,t,n,i){return wi(e).pipe(We(r=>Qk(r.component,r.route,n,t,i)),cr(r=>r!==!0,!0))}function Yk(e,t,n,i){return wi(t).pipe(ar(r=>zl(Xk(r.route.parent,i),Kk(r.route,i),Zk(e,r.path,n),qk(e,r.route,n))),cr(r=>r!==!0,!0))}function Kk(e,t){return e!==null&&t&&t(new Kh(e)),q(!0)}function Xk(e,t){return e!==null&&t&&t(new Hh(e)),q(!0)}function qk(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return q(!0);let r=i.map(o=>jl(()=>{let s=ga(t)??n,a=qo(o,s),l=Vk(a)?a.canActivate(t,e):Kr(s,()=>a(t,e));return br(l).pipe(cr())}));return q(r).pipe(Xo())}function Zk(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Pk(s)).filter(s=>s!==null).map(s=>jl(()=>{let a=s.guards.map(l=>{let c=ga(s.node)??n,d=qo(l,c),h=Uk(d)?d.canActivateChild(i,e):Kr(c,()=>d(i,e));return br(h).pipe(cr())});return q(a).pipe(Xo())}));return q(o).pipe(Xo())}function Qk(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let l=ga(t)??r,c=qo(a,l),d=Gk(c)?c.canDeactivate(e,t,n,i):Kr(l,()=>c(e,t,n,i));return br(d).pipe(cr())});return q(s).pipe(Xo())}function Jk(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return q(!0);let o=r.map(s=>{let a=qo(s,e),l=jk(a)?a.canLoad(t,n):Kr(e,()=>a(t,n));return br(l)});return q(o).pipe(Xo(),ob(i))}function ob(e){return wf(Ut(t=>{if(Ko(t))throw eb(e,t)}),X(t=>t===!0))}function tS(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return q(!0);let o=r.map(s=>{let a=qo(s,e),l=Wk(a)?a.canMatch(t,n):Kr(e,()=>a(t,n));return br(l)});return q(o).pipe(Xo(),ob(i))}var pa=class{constructor(t){this.segmentGroup=t||null}},mc=class extends Error{constructor(t){super(),this.urlTree=t}};function Go(e){return Gr(new pa(e))}function eS(e){return Gr(new Gt(4e3,!1))}function iS(e){return Gr(ib(!1,Di.GuardRejected))}var iu=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return q(i);if(r.numberOfChildren>1||!r.children[et])return eS(t.redirectTo);r=r.children[et]}}applyRedirectCommands(t,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new mc(r);return r}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new pr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Tt(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new Gt(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},nu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nS(e,t,n,i,r){let o=mu(e,t,n);return o.matched?(i=Mk(t,i),tS(i,t,n,r).pipe(X(s=>s===!0?o:z({},nu)))):q(o)}function mu(e,t,n){if(t.path==="**")return rS(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?z({},nu):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||tk)(n,e,t);if(!r)return z({},nu);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?z(z({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function rS(e){return{matched:!0,parameters:e.length>0?Bg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Pg(e,t,n,i){return n.length>0&&aS(e,n,i)?{segmentGroup:new Tt(t,sS(i,new Tt(n,e.children))),slicedSegments:[]}:n.length===0&&lS(e,n,i)?{segmentGroup:new Tt(e.segments,oS(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Tt(e.segments,e.children),slicedSegments:n}}function oS(e,t,n,i){let r={};for(let o of n)if(fc(e,t,o)&&!i[pn(o)]){let s=new Tt([],{});r[pn(o)]=s}return z(z({},i),r)}function sS(e,t){let n={};n[et]=t;for(let i of e)if(i.path===""&&pn(i)!==et){let r=new Tt([],{});n[pn(i)]=r}return n}function aS(e,t,n){return n.some(i=>fc(e,t,i)&&pn(i)!==et)}function lS(e,t,n){return n.some(i=>fc(e,t,i))}function fc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function cS(e,t,n,i){return pn(e)!==i&&(i===et||!fc(t,n,e))?!1:mu(t,e,n).matched}function dS(e,t,n){return t.length===0&&!e.children[n]}var ru=class{};function hS(e,t,n,i,r,o,s="emptyOnly"){return new ou(e,t,n,i,r,s,o).recognize()}var uS=31,ou=class{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new iu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Gt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Pg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(X(n=>{let i=new ua([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,{},et,this.rootComponentType,null,{}),r=new mi(i,n),o=new hc("",r),s=yk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,et).pipe(cn(i=>{if(i instanceof mc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof pa?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,r=lu(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(t,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0).pipe(X(o=>o instanceof mi?[o]:[]))}processChildren(t,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return wi(r).pipe(ar(o=>{let s=i.children[o],a=Lk(n,o);return this.processSegmentGroup(t,a,s,o)}),Vl((o,s)=>(o.push(...s),o)),Xd(null),Rf(),We(o=>{if(o===null)return Go(i);let s=sb(o);return mS(s),q(s)}))}processSegment(t,n,i,r,o,s){return wi(n).pipe(ar(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,i,r,o,s).pipe(cn(l=>{if(l instanceof pa)return q(null);throw l}))),cr(a=>!!a),cn(a=>{if(rb(a))return dS(i,r,o)?q(new ru):Go(i);throw a}))}processSegmentAgainstRoute(t,n,i,r,o,s,a){return cS(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s):Go(r):Go(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=mu(n,r,o);if(!a)return Go(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uS&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(We(u=>this.processSegment(t,i,n,u.concat(d),s,!1)))}matchSegmentAgainstRoute(t,n,i,r,o){let s=nS(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(ki(a=>a.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ki(({routes:l})=>{let c=i._loadedInjector??t,{consumedSegments:d,remainingSegments:h,parameters:u}=a,m=new ua(d,u,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,fS(i),pn(i),i.component??i._loadedComponent??null,i,gS(i)),{segmentGroup:p,slicedSegments:f}=Pg(n,d,h,l);if(f.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(X(y=>y===null?null:new mi(m,y)));if(l.length===0&&f.length===0)return q(new mi(m,[]));let b=pn(i)===o;return this.processSegment(c,l,p,f,b?et:o,!0).pipe(X(y=>new mi(m,y instanceof mi?[y]:[])))}))):Go(n)))}getChildConfig(t,n,i){return n.children?q({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):Jk(t,n,i,this.urlSerializer).pipe(We(r=>r?this.configLoader.loadChildren(t,n).pipe(Ut(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):iS(n))):q({routes:[],injector:t})}};function mS(e){e.sort((t,n)=>t.value.outlet===et?-1:n.value.outlet===et?1:t.value.outlet.localeCompare(n.value.outlet))}function pS(e){let t=e.value.routeConfig;return t&&t.path===""}function sb(e){let t=[],n=new Set;for(let i of e){if(!pS(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=sb(i.children);t.push(new mi(i.value,r))}return t.filter(i=>!n.has(i))}function fS(e){return e.data||{}}function gS(e){return e.resolve||{}}function bS(e,t,n,i,r,o){return We(s=>hS(e,t,n,i,s.extractedUrl,r,o).pipe(X(({state:a,tree:l})=>Xt(z({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function vS(e,t){return We(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return q(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of ab(l))s.add(c);let a=0;return wi(s).pipe(ar(l=>o.has(l)?yS(l,i,e,t):(l.data=lu(l,l.parent,e).resolve,q(void 0))),Ut(()=>a++),Zd(1),We(l=>a===s.size?q(n):Ur))})}function ab(e){let t=e.children.map(n=>ab(n)).flat();return[e,...t]}function yS(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Jg(r)&&(o[fa]=r.title),_S(o,e,t,i).pipe(X(s=>(e._resolvedData=s,e.data=lu(e,e.parent,n).resolve,null)))}function _S(e,t,n,i){let r=Nh(e);if(r.length===0)return q({});let o={};return wi(r).pipe(We(s=>xS(e[s],t,n,i).pipe(cr(),Ut(a=>{o[s]=a}))),Zd(1),zs(o),cn(s=>rb(s)?Ur:Gr(s)))}function xS(e,t,n,i){let r=ga(t)??i,o=qo(e,r),s=o.resolve?o.resolve(t,n):Kr(r,()=>o(t,n));return br(s)}function Lh(e){return ki(t=>{let n=e(t);return n?wi(n).pipe(X(()=>t)):q(t)})}var lb=(()=>{let t=class t{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===et);return r}getResolvedTitleForRoute(i){return i.data[fa]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>B(wS),providedIn:"root"});let e=t;return e})(),wS=(()=>{let t=class t extends lb{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(M(Rg))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),pu=new H("",{providedIn:"root",factory:()=>({})}),fu=new H(""),kS=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(ah)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return q(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=br(i.loadComponent()).pipe(X(cb),Ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),lr(()=>{this.componentLoaders.delete(i)})),o=new Hd(r,()=>new yt).pipe($d());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=SS(r,this.compiler,i,this.onLoadEndListener).pipe(lr(()=>{this.childrenLoaders.delete(r)})),a=new Hd(s,()=>new yt).pipe($d());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function SS(e,t,n,i){return br(e.loadChildren()).pipe(X(cb),We(r=>r instanceof Zf||Array.isArray(r)?q(r):wi(t.compileModuleAsync(r))),X(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(fu,[],{optional:!0,self:!0}).flat()),{routes:s.map(uu),injector:o}}))}function CS(e){return e&&typeof e=="object"&&"default"in e}function cb(e){return CS(e)?e.default:e}var gu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>B(DS),providedIn:"root"});let e=t;return e})(),DS=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ES=new H("");var IS=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yt,this.transitionAbortSubject=new yt,this.configLoader=B(kS),this.environmentInjector=B(Ws),this.urlSerializer=B(au),this.rootContexts=B(pc),this.location=B(Xl),this.inputBindingEnabled=B(hu,{optional:!0})!==null,this.titleStrategy=B(lb),this.options=B(pu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(gu),this.createViewTransition=B(ES,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Wh(o)),r=o=>this.events.next(new $h(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Xt(z(z({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new ht({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oa,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(te(s=>s.id!==0),X(s=>Xt(z({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ki(s=>{this.currentTransition=s;let a=!1,l=!1;return q(s).pipe(Ut(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Xt(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ki(c=>{let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let u="";return this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.rawUrl),u,zh.IgnoredSameUrlNavigation)),c.resolve(null),Ur}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return q(c).pipe(ki(u=>{let m=this.transitions?.getValue();return this.events.next(new la(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),m!==this.transitions?.getValue()?Ur:Promise.resolve(u)}),bS(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ut(u=>{s.targetSnapshot=u.targetSnapshot,s.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Xt(z({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let m=new lc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:u,extractedUrl:m,source:p,restoredState:f,extras:b}=c,y=new la(u,this.urlSerializer.serialize(m),p,f);this.events.next(y);let v=Zg(this.rootComponentType).snapshot;return this.currentTransition=s=Xt(z({},c),{targetSnapshot:v,urlAfterRedirects:m,extras:Xt(z({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,q(s)}else{let u="";return this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.extractedUrl),u,zh.IgnoredByUrlHandlingStrategy)),c.resolve(null),Ur}}),Ut(c=>{let d=new jh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),X(c=>(this.currentTransition=s=Xt(z({},c),{guards:Nk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),$k(this.environmentInjector,c=>this.events.next(c)),Ut(c=>{if(s.guardsResult=c.guardsResult,Ko(c.guardsResult))throw eb(this.urlSerializer,c.guardsResult);let d=new Vh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),te(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Di.GuardRejected),!1)),Lh(c=>{if(c.guards.canActivateChecks.length)return q(c).pipe(Ut(d=>{let h=new Uh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),ki(d=>{let h=!1;return q(d).pipe(vS(this.paramsInheritanceStrategy,this.environmentInjector),Ut({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Di.NoDataFromResolver)}}))}),Ut(d=>{let h=new Gh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Lh(c=>{let d=h=>{let u=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ut(m=>{h.component=m}),X(()=>{})));for(let m of h.children)u.push(...d(m));return u};return Fs(d(c.targetSnapshot.root)).pipe(Xd(null),Le(1))}),Lh(()=>this.afterPreactivation()),ki(()=>{let{currentSnapshot:c,targetSnapshot:d}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?wi(h).pipe(X(()=>s)):q(s)}),X(c=>{let d=Ek(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Xt(z({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Ut(()=>{this.events.next(new da)}),Ok(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Le(1),Ut({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Ae(this.transitionAbortSubject.pipe(Ut(c=>{throw c}))),lr(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Di.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),cn(c=>{if(l=!0,nb(c))this.events.next(new gr(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Rk(c)?this.events.next(new ha(c.url)):s.resolve(!1);else{this.events.next(new ca(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(c))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Ur}))}))}cancelNavigationTransition(i,r,o){let s=new gr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function AS(e){return e!==oa}var RS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>B(TS),providedIn:"root"});let e=t;return e})(),su=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},TS=(()=>{let t=class t extends su{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ci(t)))(o||t)}})(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),db=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>B(MS),providedIn:"root"});let e=t;return e})(),MS=(()=>{let t=class t extends db{constructor(){super(...arguments),this.location=B(Xl),this.urlSerializer=B(au),this.options=B(pu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(gu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zg(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof la)this.stateMemento=this.createStateMemento();else if(i instanceof Jr)this.rawUrlTree=r.initialUrl;else if(i instanceof lc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof da?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof gr&&(i.code===Di.GuardRejected||i.code===Di.NoDataFromResolver)?this.restoreHistory(r):i instanceof ca?this.restoreHistory(r,!0):i instanceof fr&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=z(z({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=z(z({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ci(t)))(o||t)}})(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),na=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(na||{});function LS(e,t){e.events.pipe(te(n=>n instanceof fr||n instanceof gr||n instanceof ca||n instanceof Jr),X(n=>n instanceof fr||n instanceof Jr?na.COMPLETE:(n instanceof gr?n.code===Di.Redirect||n.code===Di.SupersededByNewNavigation:!1)?na.REDIRECTING:na.FAILED),te(n=>n!==na.REDIRECTING),Le(1)).subscribe(()=>{t()})}function OS(e){throw e}var NS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bu=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=B(Kl),this.stateManager=B(db),this.options=B(pu,{optional:!0})||{},this.pendingTasks=B(Jf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(IS),this.urlSerializer=B(au),this.location=B(Xl),this.urlHandlingStrategy=B(gu),this._events=new yt,this.errorHandler=this.options.errorHandler||OS,this.navigated=!1,this.routeReuseStrategy=B(RS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(fu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(hu,{optional:!0}),this.eventsSubscription=new sr,this.isNgZoneEnabled=B(tt)instanceof tt&&tt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof gr&&r.code!==Di.Redirect&&r.code!==Di.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fr)this.navigated=!0;else if(r instanceof ha){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||AS(o.source)};this.scheduleNavigation(a,oa,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}BS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=z({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(uu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=z(z({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let u;try{let m=o?o.snapshot:this.routerState.snapshot.root;u=Yg(m)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),u=this.currentUrlTree.root}return Kg(u,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Ko(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,oa,null,r)}navigate(i,r={skipLocationChange:!1}){return FS(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=z({},NS):r===!1?o=z({},PS):o=r,Ko(i))return Mg(this.currentUrlTree,i,o);let s=this.parseUrl(i);return Mg(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((u,m)=>{l=u,c=m});let h=this.pendingTasks.add();return LS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function FS(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Gt(4008,!1)}function BS(e){return!(e instanceof da)&&!(e instanceof ha)}var hb=(()=>{let t=class t{constructor(i,r,o,s,a,l){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new yt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof fr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:Kf(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(r){return new(r||t)(P(bu),P(zn),$l("tabindex"),P(qf),P(Ct),P(ch))},t.\u0275dir=qt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&hn("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Te("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ee.HasDecoratorInputTransform,"preserveFragment","preserveFragment",He],skipLocationChange:[ee.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",He],replaceUrl:[ee.HasDecoratorInputTransform,"replaceUrl","replaceUrl",He],routerLink:"routerLink"},standalone:!0,features:[Vi,hr]});let e=t;return e})();var zS=new H("");function ub(e,...t){return On([{provide:fu,multi:!0,useValue:e},[],{provide:zn,useFactory:jS,deps:[bu]},{provide:ng,multi:!0,useFactory:VS},t.map(n=>n.\u0275providers)])}function jS(e){return e.routerState.root}function VS(){let e=B(eh);return t=>{let n=e.get(sh);if(t!==n.components[0])return;let i=e.get(bu),r=e.get(US);e.get(GS)===1&&i.initialNavigation(),e.get(WS,null,Jd.Optional)?.setUpPreloading(),e.get(zS,null,Jd.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var US=new H("",{factory:()=>new yt}),GS=new H("",{providedIn:"root",factory:()=>1});var WS=new H("");var vr=e=>t=>Object.values(e).includes(t);var Mt=function(e){return e.Pin="pin",e.InstagramMedia="instagram_media",e.YouTubeVideo="youtube_video",e.Article="article",e.Tweet="tweet",e.FacebookStatus="facebook_status",e}(Mt||{}),mb=e=>vr(Mt)(e),gc=e=>{switch(e){case Mt.Pin:return"Pin";case Mt.InstagramMedia:return"Instagram Media";case Mt.YouTubeVideo:return"YouTube Video";case Mt.Article:return"Article";case Mt.Tweet:return"Tweet";case Mt.FacebookStatus:return"Facebook Status"}};var pm=Object.defineProperty,HS=Object.defineProperties,YS=Object.getOwnPropertyDescriptor,KS=Object.getOwnPropertyDescriptors,Nc=Object.getOwnPropertySymbols,XS=Object.getPrototypeOf,rv=Object.prototype.hasOwnProperty,ov=Object.prototype.propertyIsEnumerable,qS=Reflect.get,vu=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),nt=Math.pow,pb=(e,t,n)=>t in e?pm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))rv.call(t,n)&&pb(e,n,t[n]);if(Nc)for(var n of Nc(t))ov.call(t,n)&&pb(e,n,t[n]);return e},V=(e,t)=>HS(e,KS(t)),we=(e,t)=>{var n={};for(var i in e)rv.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Nc)for(var i of Nc(e))t.indexOf(i)<0&&ov.call(e,i)&&(n[i]=e[i]);return n},Hn=(e,t)=>{for(var n in t)pm(e,n,{get:t[n],enumerable:!0})},g=(e,t,n,i)=>{for(var r=i>1?void 0:i?YS(t,n):t,o=e.length-1,s;o>=0;o--)(s=e[o])&&(r=(i?s(t,n,r):s(r))||r);return i&&r&&pm(t,n,r),r},Yn=(e,t,n)=>qS(XS(e),n,t),T=(e,t,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())}),ZS=function(e,t){this[0]=e,this[1]=t},QS=e=>{var t=e[vu("asyncIterator")],n=!1,i,r={};return t==null?(t=e[vu("iterator")](),i=o=>r[o]=s=>t[o](s)):(t=t.call(e),i=o=>r[o]=s=>{if(n){if(n=!1,o==="throw")throw s;return s}return n=!0,{done:!1,value:new ZS(new Promise(a=>{var l=t[o](s);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),r[vu("iterator")]=()=>r,i("next"),"throw"in t?i("throw"):r.throw=o=>{throw o},"return"in t&&i("return"),r};var sv=(e=>(e.POINTER="pointer",e.NODE="node",e))(sv||{});var JS={};Hn(JS,{day:()=>pv,friday:()=>_C,hour:()=>mv,millisecond:()=>av,minute:()=>hv,monday:()=>gC,month:()=>gv,saturday:()=>xC,second:()=>cv,sunday:()=>fv,thursday:()=>yC,tuesday:()=>bC,utcDay:()=>FC,utcHour:()=>OC,utcMinute:()=>TC,utcMonth:()=>jC,utcYear:()=>GC,wednesday:()=>vC,year:()=>bv});var Tu=new Map;function Mu(e,t){Tu.has(t)||(Tu.set(t,!0),e())}Mu.clear=()=>Tu.clear();function fb(e){return e}function tC(e,t=0,n){let{leading:i=!1,trailing:r=!0,maxWait:o=1/0}=n??{},s,a;if(o<t)throw new Error("Value of maxWait cannot be lower than waitMs.");function l(...c){if(i&&!a){a=Date.now(),s=setTimeout(()=>a=null,t),e(...c);return}let d=t;if(o!==1/0&&a){let h=Date.now()-a;t>o-h&&(d=o-h)}clearTimeout(s),a??(a=Date.now()),s=setTimeout(()=>{a=null,r&&e(...c)},d)}return Object.assign(l,{cancel(){clearTimeout(s),a=null}})}function gb(e,t=0,n){let{leading:i=!0,trailing:r=!0}=n??{},o,s,a=!1;function l(){r&&s?(o=setTimeout(l,t),e(...s)):a=!1,s=null}function c(...d){a?s=d:(a=!0,o=setTimeout(l,t),i?e(...d):s=d)}return Object.assign(c,{cancel(){clearTimeout(o),a=!1,s=null}})}var j={log(...e){console.log(...e)},warn(e,...t){console.warn(`AG Charts - ${e}`,...t)},error(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)},table(...e){console.table(...e)},warnOnce(e,...t){Mu(()=>j.warn(e,...t),`Logger.warn: ${e}`)},errorOnce(e,...t){Mu(()=>j.error(e,...t),`Logger.error: ${e}`)}},Ya=class{constructor(e,t,n){this._encode=e,this._decode=t,this._rangeCallback=n}floor(e){let t=new Date(e),n=this._encode(t);return this._decode(n)}ceil(e){let t=new Date(Number(e)-1),n=this._encode(t);return this._decode(n+1)}range(e,t,n){var i;let r=(i=this._rangeCallback)==null?void 0:i.call(this,e,t),o=this._encode(n?this.floor(e):this.ceil(e)),s=this._encode(n?this.ceil(t):this.floor(t));if(s<o)return[];let a=[];for(let l=o;l<=s;l++){let c=this._decode(l);a.push(c)}return r?.(),a}},vi=class extends Ya{getOffset(e,t){let n=typeof e=="number"||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(n)%t}every(e,t){let n=0,i,r=e;e=Math.max(1,Math.round(e)),r!==e&&j.warnOnce(`interval step of [${r}] rounded to [${e}].`);let{snapTo:o="start"}=t??{};if(typeof o=="string"){let l=n;i=(c,d)=>{let h=o==="start"?c:d;return n=this.getOffset(h,e),()=>n=l}}else typeof o=="number"?n=this.getOffset(new Date(o),e):o instanceof Date&&(n=this.getOffset(o,e));let s=l=>{let c=this._encode(l);return Math.floor((c-n)/e)},a=l=>this._decode(l*e+n);return new Ya(s,a,i)}};function eC(e){return e.getTime()}function iC(e){return new Date(e)}var av=new vi(eC,iC),nC=av,wL=new Date(0).getFullYear(),go=1e3,Ye=go*60,vn=Ye*60,wr=vn*24,xa=wr*7,va=wr*30,bc=wr*365,lv=new Date().getTimezoneOffset()*Ye;function rC(e){return Math.floor((e.getTime()-lv)/go)}function oC(e){return new Date(lv+e*go)}var cv=new vi(rC,oC),sC=cv,dv=new Date().getTimezoneOffset()*Ye;function aC(e){return Math.floor((e.getTime()-dv)/Ye)}function lC(e){return new Date(dv+e*Ye)}var hv=new vi(aC,lC),cC=hv,uv=new Date().getTimezoneOffset()*Ye;function dC(e){return Math.floor((e.getTime()-uv)/vn)}function hC(e){return new Date(uv+e*vn)}var mv=new vi(dC,hC),uC=mv;function mC(e){let t=e.getTimezoneOffset()*Ye;return Math.floor((e.getTime()-t)/wr)}function pC(e){let t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var pv=new vi(mC,pC),fC=pv;function ko(e){let n=(7+e-4)%7;function i(o){let s=o.getTimezoneOffset()*Ye;return Math.floor((o.getTime()-s)/xa-n/7)}function r(o){let s=new Date(1970,0,1);return s.setDate(s.getDate()+o*7+n),s}return new vi(i,r)}var fv=ko(0),gC=ko(1),bC=ko(2),vC=ko(3),yC=ko(4),_C=ko(5),xC=ko(6),wC=fv;function kC(e){return e.getFullYear()*12+e.getMonth()}function SC(e){let t=Math.floor(e/12),n=e-t*12;return new Date(t,n,1)}var gv=new vi(kC,SC),CC=gv;function DC(e){return e.getFullYear()}function EC(e){let t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var bv=new vi(DC,EC),IC=bv;function AC(e){return Math.floor(e.getTime()/Ye)}function RC(e){return new Date(e*Ye)}var TC=new vi(AC,RC);function MC(e){return Math.floor(e.getTime()/vn)}function LC(e){return new Date(e*vn)}var OC=new vi(MC,LC);function NC(e){return Math.floor(e.getTime()/wr)}function PC(e){let t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var FC=new vi(NC,PC);function BC(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function zC(e){let t=Math.floor(e/12),n=e-t*12;return new Date(Date.UTC(t,n,1))}var jC=new vi(BC,zC);function VC(e){return e.getUTCFullYear()}function UC(e){let t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var GC=new vi(VC,UC),ts={isEnterprise:!1},fm=class{constructor(){this.destroyFns=[]}destroy(){for(let e of this.destroyFns)e()}},_n=[];function Wi(e){let t=_n.find(n=>e.type===n.type&&e.optionsKey===n.optionsKey&&e.identifier===n.identifier);if(t){if(e.packageType==="enterprise"&&t.packageType==="community"){let n=_n.indexOf(t);_n.splice(n,1,e)}}else _n.push(e)}function gm(){return _n.some(e=>e.packageType==="enterprise")}var Pc={};function vv(e,t){Pc[e]=t}function WC(e,t){let n=Pc[e];if(n)return new n(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}var bm={has(e){return Object.hasOwn(Pc,e)},get axesTypes(){return Object.keys(Pc)}},yv={};function bb(e,t){yv[e]=t}function $C(e){var t;return(t=yv[e])!=null?t:{}}var Fc=Symbol("BREAK"),es="__decorator_config";function _v(e,t){Object.getOwnPropertyDescriptor(e,es)==null&&Object.defineProperty(e,es,{value:{}});let n=e[es],i=t.toString();if(typeof n[i]<"u")return n[i];let r=new WeakMap;n[i]={setters:[],getters:[],observers:[],valuesMap:r};let o=Object.getOwnPropertyDescriptor(e,t),s=o?.set,a=o?.get;return Object.defineProperty(e,t,{set:function(d){let{setters:h,observers:u}=n[i],m;h.some(p=>p.length>2)&&(m=a?a.call(this):r.get(this));for(let p of h)if(d=p(this,t,d,m),d===Fc)return;s?s.call(this,d):r.set(this,d);for(let p of u)p(this,d,m)},get:function(){let d=a?a.call(this):r.get(this);for(let h of n[i].getters)if(d=h(this,t,d),d===Fc)return;return d},enumerable:!0,configurable:!1}),n[i]}function Gn(e,t,n){return(i,r)=>{let o=_v(i,r);o.setters.push(e),t&&o.getters.unshift(t),n&&Object.assign(o,n)}}function HC(e){return(t,n)=>{_v(t,n).observers.push(e)}}function Xc(e){return typeof e<"u"&&es in e}function is(e){let t=new Set;for(;Xc(e);)t.add(e?.[es]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(n=>Object.keys(n))}function YC(e){return is(e).reduce((t,n)=>{var i;return t[n]=(i=e[n])!=null?i:null,t},{})}function KC(e,t){let n=t.toString();for(;Xc(e);){let i=e[es];if(Object.hasOwn(i,n))return i[n];e=Object.getPrototypeOf(e)}}function Lu(e){return e!=null}function fe(e){return Array.isArray(e)}function xv(e){return typeof e=="boolean"}function qc(e){return e instanceof Date}function cl(e){return qc(e)&&!isNaN(Number(e))}function wv(e){return e instanceof RegExp}function ps(e){return typeof e=="function"}function Cn(e){return typeof e=="object"&&e!==null&&!fe(e)}function XC(e){return fe(e)||Mi(e)}function Mi(e){return typeof e=="object"&&e!==null&&e.constructor===Object}function Ti(e){return typeof e=="string"}function Hi(e){return typeof e=="number"}function xt(e){return Hi(e)&&Number.isFinite(e)}function kv(e){return typeof window<"u"&&e instanceof HTMLElement}function qC(e,t){return Ti(t)&&Object.keys(e).includes(t)}function Sv(e,t){return Object.values(e).includes(t)}function Cv(e){return typeof e=="symbol"}function ZC(...e){return st(...e.reverse())}function st(...e){var t;let n={};for(let i of e){if(!Cn(i))continue;let r=Xc(i)?is(i):Object.keys(i);for(let o of r)Mi(n[o])&&Mi(i[o])?n[o]=st(n[o],i[o]):(t=n[o])!=null||(n[o]=i[o])}return n}function Ou(e,...t){return t&&fe(e)?e.map(n=>st(n,...t)):e}function Dv(e,t){return Object.entries(e).reduce((n,[i,r])=>(n[i]=t(r,i,e),n),{})}function Ev(e,t){return(fe(t)?t:t.split(".")).reduce((i,r)=>i[r],e)}function Iv(e,t,n){let i=fe(t)?t.slice():t.split("."),r=i.pop(),o=i.reduce((s,a)=>s[a],e);o[r]=n}function Nu(e,t,n){if(n===void 0)return t;for(let i of e){let r=n[i];r!==void 0&&(t[i]=r)}return t}var po={},Pu={},Ri={has(e){return Object.hasOwn(po,e)},isCartesian(e){return po[e]==="cartesian"},isPolar(e){return po[e]==="polar"},isHierarchy(e){return po[e]==="hierarchy"},get seriesTypes(){return Object.keys(po)},get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))},get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))},get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}};function QC(e,t){po[e]=t}function JC(e,t){Pu[e]=st(t,Pu[e])}function vb(e){var t;return(t=Pu[e])!=null?t:{}}function tD(e){var t;return(t=po[e])!=null?t:"unknown"}var fs=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function Av(e){return fs.some(t=>t.type==="series"&&t.identifier===e)}function vm(e){var t;return(t=fs.find(n=>n.type==="series"&&n.identifier===e))==null?void 0:t.chartTypes}function eD(e){var t,n;return((n=(t=fs.find(i=>i.type==="series"&&i.identifier===e))==null?void 0:t.useCount)!=null?n:0)>0}function iD(e){var t;return((t=vm(e))==null?void 0:t.find(i=>i==="cartesian"))==="cartesian"}function nD(e){var t;return((t=vm(e))==null?void 0:t.find(i=>i==="polar"))==="polar"}function rD(e){var t;return((t=vm(e))==null?void 0:t.find(i=>i==="hierarchy"))==="hierarchy"}function oD(e){return e.packageType==="enterprise"}function sD(e){var t;if(!oD(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let n=fs.find(i=>i.type===e.type&&i.optionsKey===e.optionsKey&&i.identifier===e.identifier&&e.chartTypes.every(r=>i.chartTypes.includes(r)));return n&&((t=n.useCount)!=null||(n.useCount=0),n.useCount++),n!=null}function aD(){return fs.filter(({useCount:e})=>e==null||e===0)}function dl(e){var t,n,i;return(i=(n=(t=e.series)==null?void 0:t[0])==null?void 0:n.type)!=null?i:"line"}function bo(e){let t=dl(e);return t==null?!0:t==="cartesian"?(j.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ri.isCartesian(t)||iD(t)}function ym(e){let t=dl(e);return t==null?!1:t==="hierarchy"?(j.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ri.isHierarchy(t)||rD(t)}function hl(e){let t=dl(e);return t==null?!1:t==="polar"?(j.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Ri.isPolar(t)||nD(t)}function lD(e){let t=dl(e);return hl(e)&&t!=="pie"&&t!=="donut"}function cD(e){return e==null?!1:Ri.has(e)}function dD(e){return e==null?!1:bm.has(e)}function hD(e){var t,n,i,r;let o=[],s=tD(dl(e));for(let{type:a,chartTypes:l,optionsKey:c,optionsInnerKey:d,identifier:h}of fs)if(!(s!=="unknown"&&!l.includes(s))){if(a==="root"||a==="legend"){let u=e[c];if(u==null)continue;d?u[d]&&(o.push(`${c}.${d}`),delete u[d]):(o.push(c),delete e[c])}else if(a==="axis"){if(!("axes"in e)||!((t=e.axes)!=null&&t.some(u=>u.type===h)))continue;o.push(`axis[type=${h}]`),e.axes=e.axes.filter(u=>u.type!==h)}else if(a==="axis-option"){if(!("axes"in e)||!((n=e.axes)!=null&&n.some(u=>u[c])))continue;o.push(`axis.${c}`),e.axes.forEach(u=>{u[c]&&delete u[c]})}else if(a==="series"){if(!((i=e.series)!=null&&i.some(u=>u.type===h)))continue;o.push(`series[type=${h}]`),e.series=e.series.filter(u=>u.type!==h)}else if(a==="series-option"){if(!((r=e.series)!=null&&r.some(u=>u[c])))continue;o.push(`series.${c}`),e.series.forEach(u=>{u[c]&&delete u[c]})}}o.length&&j.warnOnce([`unable to use these enterprise features as 'ag-charts-enterprise' has not been loaded:
`,"",...o,"","See: https://charts.ag-grid.com/javascript/installation/"].join(`
`))}var Ft=class{constructor(e){this.className=e}set(e){let t=new Set(Object.keys(e));for(let n of is(this))if(t.has(n)){let i=e[n],r=this;gi(r[n])?r[n]=r[n]instanceof ul?r[n].reset(i):r[n].set(i):r[n]=i,t.delete(n)}for(let n of t){let{className:i=this.constructor.name}=this.constructor;j.warn(`unable to set [${n}] in ${i} - property is unknown`)}return this}isValid(){return is(this).every(e=>{let{optional:t}=KC(this,e);return t||typeof this[e]<"u"})}toJson(){return is(this).reduce((e,t)=>{let n=this[t];return e[t]=gi(n)?n.toJson():n,e},{})}},ul=class Rv extends Array{constructor(t,...n){super(n.length),Object.defineProperty(this,"itemFactory",{value:t,enumerable:!1,configurable:!1}),this.set(n)}set(t){if(fe(t)){this.length=t.length;for(let n=0;n<t.length;n++)this[n]=new this.itemFactory().set(t[n])}return this}reset(t){return new Rv(this.itemFactory,...t)}toJson(){return this.slice()}};function gi(e){return e instanceof Ft||e instanceof ul}var Sc="class-instance";function bi(e,t){if(fe(t)){if(!fe(e)||e.length!==t.length||t.some((n,i)=>bi(e[i],n)!=null))return t}else if(Mi(t)){if(!Mi(e))return t;let n={},i=new Set([...Object.keys(e),...Object.keys(t)]);for(let r of i)if(e[r]!==t[r])if(typeof e[r]!=typeof t[r])n[r]=t[r];else{let o=bi(e[r],t[r]);o!==null&&(n[r]=o)}return Object.keys(n).length?n:null}else if(e!==t)return t;return null}function Be(e,t){return fe(e)?e.map(n=>Be(n,t)):Mi(e)?Object.entries(e).reduce((n,[i,r])=>{var o;return n[i]=(o=t?.shallow)!=null&&o.includes(i)?Bc(r):Be(r,t),n},{}):Bc(e)}function Bc(e){return fe(e)?[...e]:Mi(e)?I({},e):qc(e)?new Date(e):wv(e)?new RegExp(e.source,e.flags):e}function xn(e,t,n,...i){var r;if(fe(e))t(e,...i),e.forEach((o,s)=>{xn(o,t,n,...yb(i,s))});else if(Mi(e)){t(e,...i);for(let o of Object.keys(e)){if((r=n?.skip)!=null&&r.includes(o))continue;let s=e[o];(fe(s)||Mi(s))&&xn(s,t,n,...yb(i,o))}}}function kr(e,t,n={}){var i,r,o;let{path:s,matcherPath:a=s?s.replace(/(\[[0-9+]+])/i,"[]"):void 0,skip:l=[],constructors:c={},constructedArrays:d=new WeakMap,allowedTypes:h={},idx:u}=n;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${s??"<root>"}`);if(t==null)return e;if(gi(e))return e.set(t);let m=e;u!=null&&"_declarationOrder"in m&&(m._declarationOrder=u);let p=yu(e);for(let f in t){let b=`${a?a+".":""}${f}`;if(l.indexOf(b)>=0)continue;let y=t[f],v=`${s?s+".":""}${f}`,x=m.constructor,k=m[f],w=(i=c[b])!=null?i:c[f];try{let S=yu(k),C=yu(y);if(p===Sc&&!(f in e||Object.hasOwn(m,f))){j.warn(`unable to set [${v}] in ${x?.name} - property is unknown`);continue}let E=(r=h[b])!=null?r:[S];if(!(S===Sc&&C==="object")){if(S!=null&&C!=null&&!E.includes(C)){j.warn(`unable to set [${v}] in ${x?.name} - can't apply type of [${C}], allowed types are: [${E}]`);continue}}if(C==="array")if(w=(o=w??d.get(k))!=null?o:c[`${b}[]`],gi(m[f]))m[f].set(y);else if(w!=null){let D=y;m[f]=D.map((A,R)=>kr(new w,A,V(I({},n),{path:v,matcherPath:b+"[]",idx:R})))}else m[f]=y;else if(C===Sc)m[f]=y;else if(C==="object")if(gi(k))m[f].set(y);else if(k!=null)kr(k,y,V(I({},n),{path:v,matcherPath:b,idx:void 0}));else if(w!=null){let D=new w;gi(D)?m[f]=D.set(y):m[f]=kr(D,y,V(I({},n),{path:v,matcherPath:b,idx:void 0}))}else m[f]=y;else gi(m[f])?m[f].set(y):m[f]=y}catch(S){j.warn(`unable to set [${v}] in [${x?.name}]; nested error is: ${S.message}`)}}return e}function yb(e,t){return e.map(n=>n?.[t])}function yu(e){return e==null?null:kv(e)||qc(e)?"primitive":fe(e)?"array":Cn(e)?Mi(e)?"object":Sc:ps(e)?"function":"primitive"}var Tv={},Mv={},Fu={},Lv={},Ov={},Nv=new Set,Pv=new Set,Fv=new Set,Bv=new Set,Bu={};function uD({identifier:e,chartTypes:[t],instanceConstructor:n,seriesDefaults:i,themeTemplate:r,enterpriseThemeTemplate:o,paletteFactory:s,solo:a,stackable:l,groupable:c,stackedByDefault:d,swapDefaultAxesCondition:h}){Tv[e]=n,Mv[e]=i,zv(e,r,o),s&&gD(e,s),a&&wD(e),l&&kD(e),c&&xD(e),d&&SD(e),h&&CD(e,h),QC(e,t)}function zv(e,t,n={}){let i=Fu[e];Fu[e]=st(t,i),Lv[e]=st(n,t,i)}function mD(e,t){let n=Tv[e];if(n)return new n(t);throw new Error(`AG Charts - unknown series type: ${e}`)}function pD(e){var t;return Be((t=Mv[e])!=null?t:{})}function fD(e){return ts.isEnterprise?Lv[e]:Fu[e]}function gD(e,t){Ov[e]=t}function bD(e){return Ov[e]}function _u(e){return Nv.has(e)}function vD(e){return Pv.has(e)}function yD(e){return Fv.has(e)}function _D(e){return Bv.has(e)}function xD(e){Fv.add(e)}function wD(e){Nv.add(e)}function kD(e){Pv.add(e)}function SD(e){Bv.add(e)}function CD(e,t){Bu[e]=t}function DD(e){var t,n;let i;for(let r of(t=e.series)!=null?t:[]){let{type:o="line"}=r,s=(n=Bu[o])==null?void 0:n.call(Bu,r);if(s!=null){if(i!=null&&i!=s)throw new Error("AG Charts - The provided series have incompatible directions");i=s}}return i}var ED={},jv={};function Vv(e,t,n,i){ED[e]=n,jv[e]=t,Uv[t]=i}var Uv={};function ID(){return Uv}function AD(){return jv}var Gv=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(Gv||{}),Wv=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))(Wv||{}),$v=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))($v||{}),Hv=(e=>(e.CATEGORY="category",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(Hv||{}),Yv=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(Yv||{}),Kv=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(Kv||{}),bn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},vo={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},fo=Symbol("is-dark-theme"),Xv=Symbol("extends-chart-defaults"),qv=Symbol("extends-legend-defaults"),Zv=Symbol("extends-legend-item-defaults"),Qv=Symbol("extends-legend-item-marker-defaults"),Jv=Symbol("extends-axes-defaults"),ty=Symbol("extends-axes-label-defaults"),ey=Symbol("extends-axes-line-defaults"),iy=Symbol("extends-axes-tick-defaults"),ny=Symbol("extends-axes-grid-line-defaults"),Kn=Symbol("extends-series-defaults"),gs=Symbol("extends-cartesian-marker-defaults"),ry=Symbol("override-series-label-defaults"),_e=Symbol("default-font"),_t=Symbol("default-label-colour"),oy=Symbol("default-inverted-label-colour"),bs=Symbol("default-inside-series-label-colour"),ns=Symbol("default-muted-label-colour"),zc=Symbol("default-axis-grid-colour"),Cc=Symbol("default-axis-line-colour"),za=Symbol("default-cross-lines-colour"),Ka=Symbol("default-background-colour"),vs=Symbol("default-shadow-colour"),Ki=Symbol("default-waterfall-series-positive-colors"),Xi=Symbol("default-waterfall-series-negative-colors"),qi=Symbol("default-waterfall-series-total-colors"),Zi=Symbol("default-waterfall-series-connector-line-stroke"),_m=Symbol("default-polar-series-stroke"),Qi=Symbol("default-diverging-series-colour-range"),xm=Symbol("default-hierarchy-fills"),wm=Symbol("default-hierarchy-strokes"),xu="white",RD={fills:Object.values(bn),strokes:Object.values(vo)},zu={get cartesian(){return{seriesTypes:Ri.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Ri.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Ri.hierarchyTypes,commonOptions:[]}}},TD=Object.values(zu).reduce((e,{commonOptions:t})=>[...e,...t],[]);function MD(e,t){var n,i;return e==null?null:{fills:(n=e.fills)!=null?n:t.fills,strokes:(i=e.strokes)!=null?i:t.strokes}}var io=class ie{getPalette(){return RD}static getAxisDefaults(t){return st(t,{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:_e,color:_t},label:{fontSize:12,fontFamily:_e,padding:5,color:_t,avoidCollisions:!0},line:{enabled:!0,width:1,color:Cc},tick:{enabled:!1,width:1,color:Cc},gridLine:{enabled:!0,style:[{stroke:zc,lineDash:[]}]},crossLines:{enabled:!1,fill:za,stroke:za,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:_e,padding:5,color:_t}}})}static getSeriesDefaults(){return{tooltip:{enabled:!0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1}}static getLegendItemMarkerDefaults(){return{size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:Ka},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:_e,color:_t,wrapping:ie.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:_e,color:ns,wrapping:ie.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:_e,color:"rgb(140, 140, 140)",wrapping:ie.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:ie.getLegendItemMarkerDefaults(),toggleSeriesVisible:!0,label:{color:_t,fontSize:12,fontFamily:_e}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:_t},inactiveStyle:{fill:ns},highlightStyle:{fill:_t},label:{color:_t}}},tooltip:{enabled:!0,darkTheme:fo,range:"nearest",delay:0},overlays:{loading:{darkTheme:fo},noData:{darkTheme:fo},noVisibleSeries:{darkTheme:fo}},listeners:{}}}constructor(t){var n;t=Be(t??{});let{overrides:i=null,palette:r=null}=t,o=this.createChartConfigPerChartType(this.getDefaults());if(i){let{common:a}=i,l=(c,d)=>{if(d)for(let h of c){let u=h;o[u]=st(d,o[u])}};for(let[,{seriesTypes:c,commonOptions:d}]of Object.entries(zu)){let h=I({},a);for(let u of TD)d.includes(u)||delete h[u];l(c,h)}Ri.seriesTypes.forEach(c=>{let d=c;i[d]&&(o[d]=st(i[d],o[d]))})}let s=this.getPalette();this.palette=(n=MD(r,s))!=null?n:s,this.config=Object.freeze(this.templateTheme(o))}createChartConfigPerChartType(t){return Object.entries(zu).forEach(([n,{seriesTypes:i}])=>{let r=vb(n);i.forEach(o=>{let s=o;t[s]||(t[s]=Be(r))})}),t}getDefaults(){let t=i=>I(I(I({axes:{}},ID()),ie.getChartDefaults()),vb(i)),n=(i,r)=>{var o;let s=t(i),a={};for(let l of r){a[l]=st(fD(l),(o=a[l])!=null?o:Be(s));let{axes:c}=a[l];for(let d of bm.axesTypes)c[d]=st(c[d],$C(d),i==="cartesian"&&ie.cartesianAxisDefault[d])}return a};return st(n("cartesian",Ri.cartesianTypes),n("polar",Ri.polarTypes),n("hierarchy",Ri.hierarchyTypes))}templateTheme(t){let n=Be(t),{extensions:i,properties:r}=this.getTemplateParameters();return xn(n,o=>{if(o.__extends__){let s=o.__extends__,a=i.get(s);if(a==null)throw new Error(`AG Charts - no template variable provided for: ${s}`);Object.keys(a).forEach(l=>{l in o?Cn(o[l])&&(o[l]=st(o[l],a[l])):o[l]=a[l]}),delete o.__extends__}if(o.__overrides__){let s=o.__overrides__,a=i.get(s);if(a==null)throw new Error(`AG Charts - no template variable provided for: ${s}`);Object.assign(o,a),delete o.__overrides__}if(fe(o))for(let s=0;s<o.length;s++){let a=o[s];r.has(a)&&(o[s]=r.get(a))}else for(let[s,a]of Object.entries(o))r.has(a)&&(o[s]=r.get(a))}),Be(n)}static getWaterfallSeriesDefaultPositiveColors(){return{fill:bn.BLUE,stroke:vo.BLUE,label:{color:_t}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:bn.ORANGE,stroke:vo.ORANGE,label:{color:_t}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:bn.GRAY,stroke:vo.GRAY,label:{color:_t}}}getTemplateParameters(){let t=new Map;t.set(Xv,ie.getChartDefaults()),t.set(Jv,ie.getAxisDefaults()),t.set(qv,ie.getChartDefaults().legend),t.set(Zv,ie.getChartDefaults().legend.item),t.set(Qv,ie.getLegendItemMarkerDefaults()),t.set(ty,ie.getAxisDefaults().label),t.set(ey,ie.getAxisDefaults().line),t.set(iy,ie.getAxisDefaults().tick),t.set(ny,ie.getAxisDefaults().gridLine),t.set(Kn,ie.getSeriesDefaults()),t.set(ry,{}),t.set(gs,ie.getCartesianSeriesMarkerDefaults());let n=new Map;return n.set(fo,!1),n.set(_e,"Verdana, sans-serif"),n.set(_t,"rgb(70, 70, 70)"),n.set(oy,"white"),n.set(ns,"rgb(140, 140, 140)"),n.set(zc,"rgb(224,234,241)"),n.set(Cc,"rgb(195, 195, 195)"),n.set(za,"rgb(70, 70, 70)"),n.set(bs,xu),n.set(Ka,xu),n.set(vs,"rgba(0, 0, 0, 0.5)"),n.set(Qi,[bn.ORANGE,bn.YELLOW,bn.GREEN]),n.set(xm,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),n.set(wm,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),n.set(_m,xu),n.set(Ki,ie.getWaterfallSeriesDefaultPositiveColors()),n.set(Xi,ie.getWaterfallSeriesDefaultNegativeColors()),n.set(qi,ie.getWaterfallSeriesDefaultTotalColors()),n.set(Zi,ie.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:t,properties:n}}};io.cartesianAxisDefault={number:io.getAxisDefaults({line:{enabled:!1}}),log:io.getAxisDefaults({base:10,line:{enabled:!1}}),category:io.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:!1}}),time:io.getAxisDefaults({gridLine:{enabled:!1}}),"grouped-category":io.getAxisDefaults()};var Xn=io,wu="#192232",no={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Dc={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},LD={fills:Object.values(no),strokes:Object.values(Dc)},ml=class wa extends Xn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:no.BLUE,stroke:Dc.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:no.ORANGE,stroke:Dc.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:no.GRAY,stroke:Dc.GRAY,label:{color:"white"}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(fo,!0),t.properties.set(Ki,wa.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,wa.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,wa.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Zi,wa.getWaterfallSeriesDefaultTotalColors().stroke),t.properties.set(_m,wu),t.properties.set(_t,"white"),t.properties.set(ns,"#7D91A0"),t.properties.set(zc,"#545A6E"),t.properties.set(za,"white"),t.properties.set(Qi,[no.ORANGE,no.YELLOW,no.GREEN]),t.properties.set(xm,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.properties.set(wm,["#192834","#3b5164","#496275","#577287","#668399"]),t.properties.set(Ka,wu),t.properties.set(bs,wu),t}getPalette(){return LD}constructor(t){super(t)}},ro={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Ec={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},OD={fills:Object.values(ro),strokes:Object.values(Ec)},ND=class ka extends ml{static getWaterfallSeriesDefaultPositiveColors(){return{fill:ro.BLUE,stroke:Ec.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:ro.RED,stroke:Ec.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:ro.GRAY,stroke:Ec.GRAY,label:{color:"white"}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(Ki,ka.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,ka.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,ka.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Qi,[ro.ORANGE,ro.YELLOW,ro.GREEN]),t.properties.set(Zi,ka.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return OD}},oo={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Ic={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},PD={fills:Object.values(oo),strokes:Object.values(Ic)},FD=class Sa extends Xn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:oo.BLUE,stroke:Ic.BLUE,label:{color:_t}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:oo.RED,stroke:Ic.RED,label:{color:_t}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:oo.GRAY,stroke:Ic.GRAY,label:{color:_t}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(Ki,Sa.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Sa.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,Sa.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Qi,[oo.ORANGE,oo.YELLOW,oo.GREEN]),t.properties.set(Zi,Sa.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return PD}},Ca={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},ju={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},BD="#bbbbbb",zD="#eeeeee",jD={fills:Object.values(Ca),strokes:Object.values(ju)},VD=class Da extends ml{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Ca.BLUE,stroke:ju.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Ca.RED,stroke:ju.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:BD,stroke:zD,label:{color:"white"}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(Ki,Da.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Da.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,Da.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Qi,[Ca.BLUE,Ca.RED]),t.properties.set(Zi,Da.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return jD}},Ea={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},Vu={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},UD="#bbbbbb",GD="#888888",WD={fills:Object.values(Ea),strokes:Object.values(Vu)},$D=class Ia extends Xn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Ea.BLUE,stroke:Vu.BLUE,label:{color:_t}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Ea.RED,stroke:Vu.RED,label:{color:_t}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:UD,stroke:GD,label:{color:_t}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(Ki,Ia.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Ia.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,Ia.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Qi,[Ea.BLUE,Ea.RED]),t.properties.set(Zi,Ia.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return WD}},so={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Ac={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},HD={fills:Object.values(so),strokes:Object.values(Ac)},YD=class Aa extends ml{static getWaterfallSeriesDefaultPositiveColors(){return{fill:so.BLUE,stroke:Ac.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:so.ORANGE,stroke:Ac.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:so.GRAY,stroke:Ac.GRAY,label:{color:"white"}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(Ki,Aa.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Aa.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,Aa.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Qi,[so.ORANGE,so.YELLOW,so.GREEN]),t.properties.set(Zi,Aa.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return HD}},ao={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Rc={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},KD={fills:Object.values(ao),strokes:Object.values(Rc)},XD=class Ra extends Xn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:ao.BLUE,stroke:Rc.BLUE,label:{color:_t}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:ao.ORANGE,stroke:Rc.ORANGE,label:{color:_t}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:ao.GRAY,stroke:Rc.GRAY,label:{color:_t}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(Ki,Ra.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Ra.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,Ra.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Qi,[ao.ORANGE,ao.YELLOW,ao.GREEN]),t.properties.set(Zi,Ra.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return KD}},lo={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Tc={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},qD={fills:Object.values(lo),strokes:Object.values(Tc)},ZD=class Ta extends ml{static getWaterfallSeriesDefaultPositiveColors(){return{fill:lo.BLUE,stroke:Tc.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:lo.ORANGE,stroke:Tc.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:lo.GRAY,stroke:Tc.GRAY,label:{color:"white"}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(Ki,Ta.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Ta.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,Ta.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Qi,[lo.ORANGE,lo.YELLOW,lo.GREEN]),t.properties.set(Zi,Ta.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return qD}},co={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Mc={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},QD={fills:Object.values(co),strokes:Object.values(Mc)},JD=class Ma extends Xn{static getWaterfallSeriesDefaultPositiveColors(){return{fill:co.BLUE,stroke:Mc.BLUE,label:{color:_t}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:co.ORANGE,stroke:Mc.ORANGE,label:{color:_t}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:co.GRAY,stroke:Mc.GRAY,label:{color:_t}}}getTemplateParameters(){let t=super.getTemplateParameters();return t.properties.set(Ki,Ma.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Xi,Ma.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(qi,Ma.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Qi,[co.ORANGE,co.YELLOW,co.GREEN]),t.properties.set(Zi,Ma.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return QD}},ja=()=>new Xn,ku=()=>new ml,tE={undefined:ja,null:ja,"ag-default":ja,"ag-sheets":()=>new XD,"ag-polychroma":()=>new $D,"ag-vivid":()=>new JD,"ag-material":()=>new FD},eE={undefined:ku,null:ku,"ag-default-dark":ku,"ag-sheets-dark":()=>new YD,"ag-polychroma-dark":()=>new VD,"ag-vivid-dark":()=>new ZD,"ag-material-dark":()=>new ND},sy=I(I({},eE),tE);function iE(e){if(e===null)return;let t=!0,{baseTheme:n,palette:i,overrides:r}=e;if(n!==void 0&&typeof n!="string"&&typeof n!="object"&&(j.warn(`invalid theme.baseTheme type ${typeof n}, expected (string | object).`),t=!1),r!==void 0&&typeof r!="object"&&(j.warn(`invalid theme.overrides type ${typeof r}, expected object.`),t=!1),typeof i=="object"){if(i!==null){let{fills:o,strokes:s}=i;o!==void 0&&!Array.isArray(o)&&(j.warn("theme.overrides.fills must be undefined or an array"),t=!1),s!==void 0&&!Array.isArray(s)&&(j.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else i!==void 0&&(j.warn(`invalid theme.palette type ${typeof i}, expected object.`),t=!1);if(t)return e}function nE(e){if(e===void 0||typeof e=="string"||e instanceof Xn)return e;if(typeof e=="object")return iE(e);j.warn(`invalid theme value type ${typeof e}, expected object or string.`)}function km(e){let t=nE(e);if(t instanceof Xn)return t;if(t===void 0||typeof t=="string"){let s=sy[t];return s?s():(j.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),ja())}let n=[],i;for(;typeof t=="object";)n.push(t.overrides),i??(i=t.palette),t=t.baseTheme;let r={baseTheme:t,overrides:st(...n),palette:i},o=r.baseTheme?km(r.baseTheme):ja();return new o.constructor(r)}function En(e){if(e.length===0)return;let t=1/0,n=-1/0;for(let r of e)r instanceof Date&&(r=r.getTime()),typeof r=="number"&&(r<t&&(t=r),r>n&&(n=r));let i=[t,n];if(i.every(isFinite))return i}function ay(e,t,n){return pl(e,t,n).extent}function pl(e,t,n){var i;let r=!1;return e.length>2&&(e=(i=En(e))!=null?i:[NaN,NaN]),isNaN(t)||(r||(r=t>e[0]),e=[t,e[1]]),isNaN(n)||(r||(r=n<e[1]),e=[e[0],n]),e[0]>e[1]&&(e=[]),{extent:e,clipped:r}}function Va(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!Va(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function jc(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function Sm(e){return Array.from(new Set(e))}function Cm(e,t){return e.reduce((n,i)=>{var r;let o=t(i);return(r=n[o])!=null||(n[o]=[]),n[o].push(i),n},{})}function Uu(e,t,n=0){if(e.length===0)return[];let i=[];for(let r=0;r<t;r++)i.push(e.at((r+n)%e.length));return i}function Gu(e){let t=typeof window<"u"?window:void 0;return t?.[e]}var rE=2e3,_b=Date.now(),oE=()=>{let e=Date.now()-_b;if(e>rE){let t=(Math.floor(e/100)/10).toFixed(1);j.log(`**** ${t}s since last log message ****`)}_b=Date.now()},ne={create(...e){return Object.assign((...n)=>{ne.check(...e)&&(typeof n[0]=="function"&&(n=jc(n[0]())),oE(),j.log(...n))},{check:()=>ne.check(...e)})},check(...e){return e.length===0&&e.push(!0),jc(Gu("agChartsDebug")).some(n=>e.includes(n))}},ly=class{constructor(e,t){var n,i,r;let o={shallow:["data"]},s=Be(e,o),a=this.optionsType(s);this.sanityCheckAndCleanup(s),this.userOptions=s,this.activeTheme=km(s.theme),this.seriesDefaults=this.getOptionsDefaults(s),this.specialOverrides=this.specialOverridesDefaults(I({},t));let l=this.getSeriesThemeConfig(a),{axes:c={},series:d}=l,h=we(l,["axes","series"]);this.processedOptions=Be(st(this.userOptions,h,this.seriesDefaults),o),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),(bo(this.processedOptions)||lD(this.processedOptions))&&((n=this.processedOptions.legend)==null?void 0:n.enabled)==null&&((r=(i=this.processedOptions).legend)!=null||(i.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),ts.isEnterprise||hD(this.processedOptions)}getOptions(){var e;return(e=this.processedOptions)!=null?e:{}}diffOptions(e){return bi(e,this.processedOptions)}getSeriesThemeConfig(e){var t,n;return Be((n=(t=this.activeTheme)==null?void 0:t.config[e])!=null?n:{})}getOptionsDefaults(e){let t=this.optionsType(e),n=pD(t);return DD(e)&&this.swapAxesPosition(n),n}optionsType(e){var t,n,i;return(i=(n=(t=e.series)==null?void 0:t[0])==null?void 0:n.type)!=null?i:"line"}sanityCheckAndCleanup(e){var t;this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),(t=e.series)!=null&&t.some(n=>n.type==="bullet")&&e.sync!=null&&e.sync.enabled!==!1&&(j.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}swapAxesPosition(e){var t;if(bo(e)){let[n,i]=(t=e.axes)!=null?t:[];e.axes=[V(I({},n),{position:i.position}),V(I({},i),{position:n.position})]}}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map(n=>{var i,r,o,s;let a=st((i=this.seriesDefaults.axes)==null?void 0:i.find(({type:y})=>y===n.type),(r=t[n.type])==null?void 0:r[n.position],t[n.type]),{crossLines:l}=a,c=we(a,["crossLines"]);n.crossLines&&(n.crossLines=Ou(n.crossLines,l));let d=(o=c.gridLine)==null?void 0:o.style;(s=n.gridLine)!=null&&s.style&&d?.length&&(n.gridLine.style=n.gridLine.style.map((y,v)=>y.stroke!=null||y.lineDash!=null?st(y,d.at(v%d.length)):y));let h=st(n,c),{top:u,right:m,bottom:p,left:f}=h;return we(h,["top","right","bottom","left"])}))}processSeriesOptions(e){let t=this.getDefaultSeriesType(e),n=this.getTooltipPositionDefaults(e),i={colourIndex:0,userPalette:!!(Cn(e.theme)&&e.theme.palette)},r=e.series.map(o=>{var s,a;(s=o.type)!=null||(o.type=t);let l=(a=this.getSeriesThemeConfig(o.type).series)!=null?a:{},{innerLabels:c}=l,d=we(l,["innerLabels"]),h=st(this.getSeriesGroupingOptions(o),o,n,d,this.getSeriesPalette(o.type,i));return h.innerLabels&&(h.innerLabels=Ou(h.innerLabels,c)),this.activeTheme.templateTheme(h)});e.series=this.setSeriesGroupingOptions(r)}getSeriesPalette(e,t){let n=bD(e),{colourIndex:i,userPalette:r}=t,{fills:o=[],strokes:s=[]}=this.activeTheme.palette;return n?.({userPalette:r,colorsCount:Math.max(o.length,s.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),takeColors(a){return t.colourIndex+=a,{fills:Uu(o,a,i),strokes:Uu(s,a,i)}}})}getSeriesGroupingOptions(e){let t=yD(e.type),n=vD(e.type),i=_D(e.type);e.grouped&&!t&&j.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!n&&j.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:r,stacked:o}=e;return o??(o=(i||e.stackGroup!=null)&&!(t&&r)),r??(r=!0),{stacked:n&&o,grouped:t&&r&&!(n&&o)}}setSeriesGroupingOptions(e){let t=this.getSeriesGrouping(e);ne.create(!0,"opts")("setSeriesGroupingOptions() - series grouping: ",t);let n={},i=t.reduce((r,o)=>{var s,a;return o.groupType==="default"||((a=r[s=o.seriesType])!=null||(r[s]=0),r[o.seriesType]+=o.groupType==="stack"?1:o.series.length),r},{});return t.flatMap(r=>{var o,s;switch((s=n[o=r.seriesType])!=null||(n[o]=0),r.groupType){case"stack":let a=n[r.seriesType]++;return r.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupIndex:a,groupCount:i[r.seriesType],stackIndex:c,stackCount:r.series.length}}));case"group":return r.series.map(l=>Object.assign(l,{seriesGrouping:{groupIndex:n[r.seriesType]++,groupCount:i[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(r=>{var o=r,{stacked:s,grouped:a}=o,l=we(o,["stacked","grouped"]);return l})}getSeriesGroupId(e){var t;return!e.stacked&&!e.grouped?"default-ag-charts-group":[e.type,e.xKey,e.stacked?(t=e.stackGroup)!=null?t:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){let t=new Map;return e.reduce((n,i)=>{let r=i.type;if(!i.stacked&&!i.grouped)n.push({groupType:"default",seriesType:r,series:[i]});else{let o=this.getSeriesGroupId(i);if(!t.has(o)){let a={groupType:i.stacked?"stack":"group",seriesType:r,series:[]};t.set(o,a),n.push(a)}t.get(o).series.push(i)}return n},[])}getDefaultSeriesType(e){if(bo(e))return"line";if(ym(e))return"treemap";if(hl(e))return"pie";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){var t;let n=(t=e.tooltip)==null?void 0:t.position;if(!Mi(n))return;let{type:i,xOffset:r,yOffset:o}=n,s={};return Ti(i)&&Sv(sv,i)&&(s.type=i),xt(r)&&(s.xOffset=r),xt(o)&&(s.yOffset=o),{tooltip:{position:s}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([n,i])=>{var r;(r=e.series)!=null&&r.some(o=>o[n]!=null)&&j.warnOnce(`Property [series.${n}] is deprecated, please use [series.${i}] and multiple series instead.`)})}axesTypeIntegrity(e){var t;if("axes"in e){let n=(t=e.axes)!=null?t:[];for(let{type:i}of n)dD(i)||(delete e.axes,j.warnOnce(`unknown axis type: ${i}; expected one of: ${bm.axesTypes.join(", ")}, ignoring.`))}}seriesTypeIntegrity(e){var t;let n=(t=e.series)!=null?t:[];e.series=n.filter(({type:i})=>{if(i==null||cD(i)||Av(i))return!0;j.warnOnce(`unknown series type: ${i}; expected one of: ${Ri.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){let t=e.series;if(t&&t.length>1&&t.some(n=>_u(n.type))){let n=this.optionsType(e);if(_u(n))j.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{let{solo:i,nonSolo:r}=Cm(t,s=>_u(s.type)?"solo":"nonSolo"),o=Sm(i.map(s=>s.type)).join(", ");j.warn(`Unable to mix these series types with the lead series type: ${o}`),e.series=r}}}enableConfiguredOptions(e){xn(this.userOptions,(t,n)=>{n&&"enabled"in n&&!n._enabledFromTheme&&t.enabled==null&&(n.enabled=!0)},{skip:["data","theme"]},e),xn(e,t=>{t._enabledFromTheme!=null&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(e){xn(e,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(n=>{n!=="enabled"&&delete t[n]})},{skip:["data","theme"]})}removeLeftoverSymbols(e){xn(e,t=>{if(!(!t||!Cn(t)))for(let[n,i]of Object.entries(t))Cv(i)&&delete t[n]},{skip:["data"]})}specialOverridesDefaults(e){if(e.window==null)if(typeof window<"u")e.window=window;else if(typeof global<"u")e.window=global.window;else throw new Error("AG Charts - unable to resolve global window");if(e.document==null)if(typeof document<"u")e.document=document;else if(typeof global<"u")e.document=global.document;else throw new Error("AG Charts - unable to resolve global document");return e}};function Dm(){return(e,t)=>{let n=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");j.warnOnce(n)}}function So(e,t){let n=Dm(),i=t?.default;return Gn((r,o,s)=>(s!==i&&n(o.toString(),e),s))}function sE(e,t){let n=Dm();return Gn((i,r,o)=>(o!==i[e]&&(n(r.toString(),`Use [${e}] instead.`),i[e]=t?t(o):o),Fc),(i,r)=>(n(r.toString(),`Use [${e}] instead.`),i[e]))}var cy={};Hn(cy,{NODE_UPDATE_PHASES:()=>Sy,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Ke,fromToMotion:()=>Ht,staticFromToMotion:()=>An});function Wu(e,t){let n={};if(Array.isArray(t))for(let i=0;i<e.length;i++)n[`${e[i]}`]=t[i];else for(let i=0;i<e.length;i++)n[`${e[i]}`]=t;return n}var $u=new Map;function dy(){$u.clear()}function In(e){var t;let n=e.constructor,i=Object.hasOwn(n,"className")?n.className:n.name;if(!i)throw new Error(`The ${n} is missing the 'className' property.`);let r=((t=$u.get(i))!=null?t:0)+1;return $u.set(i,r),`${i}-${r}`}var yr=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(yr||{});function aE(){try{return new Function("return true"),!0}catch{return!1}}var lE=aE();function W(e){let{changeCb:t,convertor:n}=e??{};return function(i,r){let o=`__${r}`;i[r]||(lE&&t==null&&n==null?cE(i,r,o,e):dE(i,r,o,e))}}function cE(e,t,n,i){let{redraw:r=1,type:o="normal",checkDirtyOnAssignment:s=!1}=i??{},a=new Function("value",`
        const oldValue = this.${n};
        if (value !== oldValue) {
            this.${n} = value;
            ${o==="normal"?`this.markDirty(this, ${r});`:""}
            ${o==="transform"?`this.markDirtyTransform(${r});`:""}
            ${o==="path"?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${r}); }`:""}
            ${o==="font"?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${r}); }`:""}
        }
        ${s?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}
`),l=new Function(`return this.${n};`);Object.defineProperty(e,t,{set:a,get:l,enumerable:!0,configurable:!0})}function dE(e,t,n,i){let{redraw:r=1,type:o="normal",changeCb:s,convertor:a,checkDirtyOnAssignment:l=!1}=i??{};Object.defineProperty(e,t,{set:function(h){let u=this[n];h=a?a(h):h,h!==u&&(this[n]=h,o==="normal"&&this.markDirty(this,r),o==="transform"&&this.markDirtyTransform(r),o==="path"&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,r)),o==="font"&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,r)),s&&s(this)),l&&h!=null&&h._dirty>0&&this.markDirty(h,h._dirty)},get:function(){return this[n]},enumerable:!0,configurable:!0})}var hE=class{constructor(){this._dirty=3}markDirty(e,t=1){this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}};function gt(e,t,n){return Math.min(n,Math.max(e,t))}function Vc(e,t){let[n,i]=Wn(t);return gt(n,e,i)}function Wn(e){return e.length?[Math.min(...e),Math.max(...e)]:[]}function ds(e){let[t,n]=Wn(e);return n-t}function yo(e,t,n=1e-10){return Math.abs(e-t)<n}function fl(e){return Math.sign(e)===-1||Object.is(e,-0)}function Em(e,t=2){let n=nt(10,t);return Math.round(e*n)/n}function Zc(e,t=2){let n=Math.floor(Math.log(Math.abs(e))/Math.LN10);return n>=0||!isFinite(n)?e.toFixed(t):e.toFixed(Math.abs(n)-1+t)}function Qc(e,t){return Math.floor(e%t+(e<0?t:0))}function Im(e,t=10){let[,n=""]=(Math.abs(e)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return n.length}function hy(e,t,n=1/0){let i={nearest:void 0,distanceSquared:n};for(let r of t){let o=r.distanceSquared(e);if(o===0)return{nearest:r,distanceSquared:0};o<i.distanceSquared&&(i.nearest=r,i.distanceSquared=o)}return i}function uE(e,t,n=1/0){let i=t.transformPoint(e.x,e.y),r={nearest:void 0,distanceSquared:n};for(let o of t.children){let{nearest:s,distanceSquared:a}=o.nearestSquared(i,r.distanceSquared);if(a===0)return{nearest:s,distanceSquared:a};a<r.distanceSquared&&(r.nearest=s,r.distanceSquared=a)}return r}var Hu=class Yu{constructor(t,n,i,r){this.x=t,this.y=n,this.width=i,this.height=r}clone(){let{x:t,y:n,width:i,height:r}=this;return new Yu(t,n,i,r)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,n){return t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}isInfinite(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0}distanceSquared(t){if(this.containsPoint(t.x,t.y))return 0;let n=t.x-gt(this.x,t.x,this.x+this.width),i=t.y-gt(this.y,t.y,this.y+this.height);return n*n+i*i}static nearestBox(t,n){return hy(t,n)}shrink(t,n){let i=(r,o)=>{switch(r){case"top":this.y+=o;case"bottom":this.height-=o;break;case"left":this.x+=o;case"right":this.width-=o;break;case"vertical":this.y+=o,this.height-=o*2;break;case"horizontal":this.x+=o,this.width-=o*2;break;case void 0:this.x+=o,this.width-=o*2,this.y+=o,this.height-=o*2;break;default:}};return typeof t=="number"?i(n,t):typeof t=="object"&&Object.entries(t).forEach(([r,o])=>i(r,o)),this}grow(t,n){if(typeof t=="number")this.shrink(-t,n);else{let i=I({},t);for(let r in i)i[r]*=-1;this.shrink(i)}return this}static merge(t){let n=1/0,i=1/0,r=-1/0,o=-1/0;return t.forEach(s=>{s.x<n&&(n=s.x),s.y<i&&(i=s.y),s.x+s.width>r&&(r=s.x+s.width),s.y+s.height>o&&(o=s.y+s.height)}),new Yu(n,i,r-n,o-i)}};Hu.zero=new Hu(0,0,0,0);var Q=Hu,Ku=class La{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){let n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],this}get identity(){let t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0}AxB(t,n,i){let r=t[0]*n[0]+t[2]*n[1],o=t[1]*n[0]+t[3]*n[1],s=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];i=i??t,i[0]=r,i[1]=o,i[2]=s,i[3]=a,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){let n=new Array(6);return this.AxB(this.elements,t.elements,n),new La(n)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){let t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=1/(n*o-i*r);return n*=l,i*=l,r*=l,o*=l,new La([o,-i,-r,n,r*a-o*s,i*s-n*a])}inverseTo(t){let n=this.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=1/(i*s-r*o);return i*=c,r*=c,o*=c,s*=c,t.setElements([s,-r,-o,i,o*l-s*a,r*a-i*l]),this}invertSelf(){let t=this.elements,n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=1/(n*o-i*r);return n*=l,i*=l,r*=l,o*=l,t[0]=o,t[1]=-i,t[2]=-r,t[3]=n,t[4]=r*a-o*s,t[5]=i*s-n*a,this}transformPoint(t,n){let i=this.elements;return{x:t*i[0]+n*i[2]+i[4],y:t*i[1]+n*i[3]+i[5]}}transformBBox(t,n){let i=this.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=t.width*.5,c=t.height*.5,d=t.x+l,h=t.y+c,u=Math.abs(l*r)+Math.abs(c*s),m=Math.abs(l*o)+Math.abs(c*a);return n||(n=new Q(0,0,0,0)),n.x=d*r+h*s+i[4]-u,n.y=d*o+h*a+i[5]-m,n.width=u+u,n.height=m+m,n}toContext(t){if(this.identity)return;let n=this.elements;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}static flyweight(t){return La.instance.setElements(t.elements)}static updateTransformMatrix(t,n,i,r,o,s,a){let[l,c]=[0,0],d=n,h=i,u,m;d===1&&h===1?(u=0,m=0):(u=a?.scalingCenterX==null?l:a?.scalingCenterX,m=a?.scalingCenterY==null?c:a?.scalingCenterY);let p=r,f=Math.cos(p),b=Math.sin(p),y,v;p===0?(y=0,v=0):(y=a?.rotationCenterX==null?l:a?.rotationCenterX,v=a?.rotationCenterY==null?c:a?.rotationCenterY);let x=o,k=s,w=u*(1-d)-y,S=m*(1-h)-v;return t.setElements([f*d,b*d,-b*h,f*h,f*w-b*S+y+x,b*w+f*S+v+k]),t}static fromContext(t){let n=t.getTransform();return new La([n.a,n.b,n.c,n.d,n.e,n.f])}};Ku.instance=new Ku;var $i=Ku,uy=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(uy||{}),my=e=>{e.parent&&(e.parent.dirtyZIndex=!0),e.zIndexChanged()},ri=class py extends hE{constructor({isVirtual:t,tag:n}={}){super(),this.serialNumber=py._nextSerialNumber++,this.id=In(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new $i,this.inverseMatrix=new $i,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=n??NaN}get datum(){var t,n;return(n=this._datum)!=null?n:(t=this._parent)==null?void 0:t.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(let n of this._children)n._setLayerManager(t);for(let n of this._virtualChildren)n._setLayerManager(t)}get layerManager(){return this._layerManager}get parent(){return this._parent}get children(){if(this._virtualChildren.length===0)return this._children;let t=[...this._children];for(let n of this._virtualChildren)t.push(...n.children);return t}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,n){let i=n??Object.keys(t);for(let r of i)this[r]=t[r];return this}append(t){Array.isArray(t)||(t=[t]);for(let n of t){if(n.parent)throw new Error(`${n} already belongs to another parent: ${n.parent}.`);if(n.layerManager)throw new Error(`${n} already belongs to a scene: ${n.layerManager}.`);if(this.childSet[n.id])throw new Error(`Duplicate ${n.constructor.name} node: ${n}`);n.isVirtual?this._virtualChildren.push(n):this._children.push(n),this.childSet[n.id]=!0,n._parent=this,n._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){let n=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&n(),t.isVirtual){let i=this._virtualChildren.indexOf(t);i<0&&n(),this._virtualChildren.splice(i,1)}else{let i=this._children.indexOf(t);i<0&&n(),this._children.splice(i,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();let t=$i.flyweight(this.matrix),n=this.parent;for(;n;)n.computeTransformMatrix(),t.preMultiplySelf(n.matrix),n=n.parent;return t}transformPoint(t,n){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,n)}inverseTransformPoint(t,n){return this.calculateCumulativeMatrix().transformPoint(t,n)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(t,n){return!1}pickNode(t,n){var i;if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))return;let r=this.children;if(r.length>1e3)for(let o=r.length-1;o>=0;o--){let s=r[o],l=((i=s.computeTransformedBBox())==null?void 0:i.containsPoint(t,n))?s.pickNode(t,n):void 0;if(l)return l}else if(r.length)for(let o=r.length-1;o>=0;o--){let s=r[o].pickNode(t,n);if(s)return s}else if(!this.isContainerNode)return this}findNodes(t){let n=t(this)?[this]:[];for(let i of this.children){let r=i.findNodes(t);r&&n.push(...r)}return n}computeBBox(){}computeTransformedBBox(){let t=this.computeBBox();if(!t)return;this.computeTransformMatrix();let n=$i.flyweight(this.matrix),i=this.parent;for(;i;)i.computeTransformMatrix(),n.preMultiplySelf(i.matrix),i=i.parent;return n.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;let{matrix:t,scalingX:n,scalingY:i,rotation:r,translationX:o,translationY:s,scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:d}=this;$i.updateTransformMatrix(t,n,i,r,o,s,{scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:d}),t.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}render(t){let{stats:n}=t;this._dirty=0,n&&n.nodesRendered++}clearBBox(t){let n=this.computeBBox();if(n==null)return;let{x:i,y:r,width:o,height:s}=n,a=this.transformPoint(i,r),l=this.transformPoint(i+o,r+s);t.clearRect(a.x,a.y,l.x-a.x,l.y-a.y)}markDirty(t,n=1,i=n){this._dirty>n||this._dirty===n&&n===i||(this._dirty=n,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){let{force:n=!1,recursive:i=!0}=t??{};if(!(this._dirty===0&&!n)){if(this._dirty=0,i!==!1)for(let r of this._virtualChildren)r.markClean({force:n});if(i===!0)for(let r of this._children)r.markClean({force:n})}}visibilityChanged(){}get nodeCount(){let t=1,n=this._dirty>=0||this.dirtyTransform?1:0,i=this.visible?1:0,r=o=>{let{count:s,visibleCount:a,dirtyCount:l}=o.nodeCount;t+=s,i+=a,n+=l};for(let o of this._children)r(o);for(let o of this._virtualChildren)r(o);return{count:t,visibleCount:i,dirtyCount:n}}zIndexChanged(){}};ri._nextSerialNumber=0;g([W({type:"transform"})],ri.prototype,"scalingX",2);g([W({type:"transform"})],ri.prototype,"scalingY",2);g([W({type:"transform"})],ri.prototype,"scalingCenterX",2);g([W({type:"transform"})],ri.prototype,"scalingCenterY",2);g([W({type:"transform"})],ri.prototype,"rotationCenterX",2);g([W({type:"transform"})],ri.prototype,"rotationCenterY",2);g([W({type:"transform"})],ri.prototype,"rotation",2);g([W({type:"transform"})],ri.prototype,"translationX",2);g([W({type:"transform"})],ri.prototype,"translationY",2);g([W({redraw:3,changeCb:e=>e.visibilityChanged()})],ri.prototype,"visible",2);g([W({redraw:1,changeCb:my})],ri.prototype,"zIndex",2);g([W({redraw:1,changeCb:my})],ri.prototype,"zIndexSubOrder",2);var ys=ri,Su=e=>{let t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*nt((n+.055)/1.055,2.4)},Cu=e=>{let t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*nt(n,1/2.4)-.055):12.92*e},Am=class ut{constructor(t,n,i,r=1){this.r=gt(0,t||0,1),this.g=gt(0,n||0,1),this.b=gt(0,i||0,1),this.a=gt(0,r||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!ut.parseHex(t):t.indexOf("rgb")>=0?!!ut.stringToRgba(t):!!ut.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return ut.fromHexString(t);let n=ut.nameToHex[t.toLowerCase()];if(n)return ut.fromHexString(n);if(t.indexOf("rgb")>=0)return ut.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static tryParseFromString(t){try{return ut.fromString(t)}catch{return j.warnOnce(`invalid color string: '${t}'.`),ut.fromArray([0,0,0])}}static parseHex(t){t=t.replace(/ /g,"").slice(1);let n;switch(t.length){case 6:case 8:n=[];for(let i=0;i<t.length;i+=2)n.push(parseInt(`${t[i]}${t[i+1]}`,16));break;case 3:case 4:n=t.split("").map(i=>parseInt(i,16)).map(i=>i+i*16);break}if(n?.length>=3&&n.every(i=>i>=0))return n.length===3&&n.push(255),n}static fromHexString(t){let n=ut.parseHex(t);if(n){let[i,r,o,s]=n;return new ut(i/255,r/255,o/255,s/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let[n,i]=[NaN,NaN];for(let a=0;a<t.length;a++){let l=t[a];if(!n&&l==="(")n=a;else if(l===")"){i=a;break}}let r=n&&i&&t.substring(n+1,i);if(!r)return;let o=r.split(","),s=[];for(let a=0;a<o.length;a++){let l=o[a],c=parseFloat(l);if(isNaN(c))return;l.indexOf("%")>=0?(c=gt(0,c,100),c/=100):a===3?c=gt(0,c,1):(c=gt(0,c,255),c/=255),s.push(c)}return s}static fromRgbaString(t){let n=ut.stringToRgba(t);if(n){if(n.length===3)return new ut(n[0],n[1],n[2]);if(n.length===4)return new ut(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new ut(t[0],t[1],t[2],t[3]);if(t.length===3)return new ut(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,n,i,r=1){let o=ut.HSBtoRGB(t,n,i);return new ut(o[0],o[1],o[2],r)}static fromHSL(t,n,i,r=1){let o=ut.HSLtoRGB(t,n,i);return new ut(o[0],o[1],o[2],r)}static fromOKLCH(t,n,i,r=1){let o=ut.OKLCHtoRGB(t,n,i);return new ut(o[0],o[1],o[2],r)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+ut.padHex(Math.round(this.r*255).toString(16))+ut.padHex(Math.round(this.g*255).toString(16))+ut.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=ut.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){let n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],i=Math.pow(10,t);return this.a!==1?(n.push(Math.round(this.a*i)/i),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return ut.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,n,i){let r=Su(t),o=Su(n),s=Su(i),a=Math.cbrt(.4122214708*r+.5363325363*o+.0514459929*s),l=Math.cbrt(.2119034982*r+.6806995451*o+.1073969566*s),c=Math.cbrt(.0883024619*r+.2817188376*o+.6299787005*s),d=.2104542553*a+.793617785*l-.0040720468*c,h=1.9779984951*a-2.428592205*l+.4505937099*c,u=.0259040371*a+.7827717662*l-.808675766*c,m=Math.atan2(u,h)*180/Math.PI,p=d,f=Math.hypot(h,u),b=m>=0?m:m+360;return[p,f,b]}static OKLCHtoRGB(t,n,i){let r=t,o=n*Math.cos(i*Math.PI/180),s=n*Math.sin(i*Math.PI/180),a=nt(r+.3963377774*o+.2158037573*s,3),l=nt(r-.1055613458*o-.0638541728*s,3),c=nt(r-.0894841775*o-1.291485548*s,3),d=4.0767416621*a-3.3077115913*l+.2309699292*c,h=-1.2684380046*a+2.6097574011*l-.3413193965*c,u=-.0041960863*a-.7034186147*l+1.707614701*c,m=Cu(d),p=Cu(h),f=Cu(u);return[m,p,f]}static RGBtoHSL(t,n,i){let r=Math.min(t,n,i),o=Math.max(t,n,i),s=(o+r)/2,a,l;if(o===r)a=NaN,l=0;else{let c=o-r;l=s>.5?c/(2-o-r):c/(o+r),o===t?a=(n-i)/c+(n<i?6:0):o===n?a=(i-t)/c+2:a=(t-n)/c+4,a*=360/6}return[a,l,s]}static HSLtoRGB(t,n,i){if(n===0)return[i,i,i];let r=i<.5?i*(1+n):i+n-i*n,o=2*i-r;function s(d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?o+(r-o)*6*d:d<1/2?r:d<2/3?o+(r-o)*(2/3-d)*6:o}let a=s(t/360+1/3),l=s(t/360),c=s(t/360-1/3);return[a,l,c]}static RGBtoHSB(t,n,i){let r=Math.min(t,n,i),o=Math.max(t,n,i),s=o!==0?(o-r)/o:0,a=NaN;if(r!==o){let l=o-r,c=(o-t)/l,d=(o-n)/l,h=(o-i)/l;t===o?a=h-d:n===o?a=2+c-h:a=4+d-c,a/=6,a<0&&(a=a+1)}return[a*360,s,o]}static HSBtoRGB(t,n,i){isNaN(t)&&(t=0),t=(t%360+360)%360/360;let r=0,o=0,s=0;if(n===0)r=o=s=i;else{let a=(t-Math.floor(t))*6,l=a-Math.floor(a),c=i*(1-n),d=i*(1-n*l),h=i*(1-n*(1-l));switch(a>>0){case 0:r=i,o=h,s=c;break;case 1:r=d,o=i,s=c;break;case 2:r=c,o=i,s=h;break;case 3:r=c,o=d,s=i;break;case 4:r=h,o=c,s=i;break;case 5:r=i,o=c,s=d;break}}return[r,o,s]}derive(t,n,i,r){let o=ut.RGBtoHSB(this.r,this.g,this.b),s=o[2];s==0&&i>1&&(s=.05);let a=((o[0]+t)%360+360)%360,l=gt(0,o[1]*n,1);s=gt(0,s*i,1);let c=gt(0,this.a*r,1),d=ut.HSBtoRGB(a,l,s);return d.push(c),ut.fromArray(d)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(t,n){let i=ut.tryParseFromString(t),r=ut.tryParseFromString(n);return o=>{let s=(l,c)=>l*(1-o)+c*o;return new ut(s(i.r,r.r),s(i.g,r.g),s(i.b,r.b),s(i.a,r.a)).toString()}}};Am.didDebug=!1;Am.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});var yn=Am;function Oa(e,t){return n=>Number(e)*(1-n)+Number(t)*n}function mE(e,t){if(typeof e=="string")try{e=yn.fromString(e)}catch{e=yn.fromArray([0,0,0])}if(typeof t=="string")try{t=yn.fromString(t)}catch{t=yn.fromArray([0,0,0])}let n=Oa(e.r,t.r),i=Oa(e.g,t.g),r=Oa(e.b,t.b),o=Oa(e.a,t.a);return s=>yn.fromArray([n(s),i(s),r(s),o(s)]).toRgbaString()}var Rm={};Hn(Rm,{easeIn:()=>pE,easeInOut:()=>fE,easeInOutQuad:()=>vE,easeInQuad:()=>gE,easeOut:()=>Xa,easeOutQuad:()=>bE,inverseEaseOut:()=>gy,linear:()=>fy});var fy=e=>e,pE=e=>1-Math.cos(e*Math.PI/2),Xa=e=>Math.sin(e*Math.PI/2),fE=e=>-(Math.cos(e*Math.PI)-1)/2,gE=e=>e*e,bE=e=>1-nt(1-e,2),vE=e=>e<.5?2*e*e:1-nt(-2*e+2,2)/2,gy=e=>2*Math.asin(e)/Math.PI,Jc=.2,by={animationDuration:1,animationDelay:0},vy={animationDuration:.25,animationDelay:0},yy={animationDuration:.5,animationDelay:.25},Tm={animationDuration:.25,animationDelay:.75},_y={animationDuration:Jc,animationDelay:1},ho=["initial","remove","update","add","trailing","end"],xy={initial:by,add:Tm,remove:vy,update:yy,trailing:_y,end:{animationDelay:1+Jc,animationDuration:0}},wy=(e=>(e.Loop="loop",e.Reverse="reverse",e))(wy||{});function yE(e){return e.every(t=>t instanceof ys)}function td(e){return yE(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}var ky=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1;var t,n,i,r,o,s,a,l;this.id=e.id,this.groupId=e.groupId,this.autoplay=(t=e.autoplay)!=null?t:!0,this.ease=(n=e.ease)!=null?n:fy,this.phase=e.phase;let c=(i=e.duration)!=null?i:xy[this.phase].animationDuration;this.duration=c*e.defaultDuration,this.delay=((r=e.delay)!=null?r:0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),e.skip===!0?((o=this.onUpdate)==null||o.call(this,e.to,!1,this),(s=this.onStop)==null||s.call(this,this),(a=this.onComplete)==null||a.call(this,this),this.isComplete=!0):this.autoplay&&(this.play(),(l=this.onUpdate)==null||l.call(this,e.from,!0,this)),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){let n=e.from===e.to;return n||(n=typeof e.from=="object"&&bi(e.from,e.to)==null),n?0:t}play(){var e;!this.isPlaying&&!this.isComplete&&(this.isPlaying=!0,(e=this.onPlay)==null||e.call(this,this))}pause(){this.isPlaying&&(this.isPlaying=!1)}stop(){var e;this.isPlaying&&(this.isPlaying=!1,this.isComplete=!0,(e=this.onStop)==null||e.call(this,this))}update(e){var t,n;let i=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;let r=this.interpolate(this.isReverse?1-this.delta:this.delta);(t=this.onUpdate)==null||t.call(this,r,!1,this);let o=this.delay+this.duration;return this.elapsed>=o?(this.stop(),this.isComplete=!0,(n=this.onComplete)==null||n.call(this,this),e-(o-i)):0}get delta(){return this.ease(gt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object")return this.interpolateValue(e,t);let n=[];for(let i in t){let r=this.interpolateValue(e[i],t[i]);r!=null&&n.push([i,r])}return i=>{let r={};for(let[o,s]of n)r[o]=s(i);return r}}interpolateValue(e,t){if(!(e===void 0||t===void 0)){try{switch(typeof e){case"number":return Oa(e,t);case"string":return mE(e,t)}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},Sy=["removed","updated","added"],Ke={added:"add",updated:"update",removed:"remove",unknown:"initial"};function Ht(e,t,n,i,r,o,s){let{fromFn:a,toFn:l,intermediateFn:c}=r,{nodes:d,selections:h}=td(i),u={added:{},removed:{}};o&&s&&(u.added=Wu(s.added,!0),u.removed=Wu(s.removed,!0));let m=(f,b)=>{var y;let v,x=0,k=0;for(let w of b){let S=f[x]===w,C={last:k>=b.length-1,lastLive:x>=f.length-1,prev:b[k-1],prevFromProps:v,prevLive:f[x-1],next:b[k+1],nextLive:f[x+(S?1:0)]},E=`${e}_${t}_${w.id}`;n.stopByAnimationId(E);let D="unknown";S?o&&s&&(D=_E(w,w.datum,o,u)):D="removed";let A=a(w,w.datum,D,C),{phase:R,start:N,finish:O,delay:U,duration:rt}=A,J=we(A,["phase","start","finish","delay","duration"]),dt=l(w,w.datum,D,C),{phase:ot,start:vt,finish:at,delay:pt,duration:Vt}=dt,Ee=we(dt,["phase","start","finish","delay","duration"]),Ue=O==null&&at==null;n.animate({id:E,groupId:e,phase:(y=R??ot)!=null?y:"update",duration:rt??Vt,delay:U??pt,from:J,to:Ee,ease:Xa,collapsable:Ue,onPlay:()=>{w.setProperties(I(I({},N),vt))},onUpdate(Je){w.setProperties(Je),c&&w.setProperties(c(w,w.datum,D,C))},onStop:()=>{w.setProperties(I(I(I({},Ee),O),at))}}),S&&x++,k++,v=J}},p=0;for(let f of h){let b=f.nodes(),y=b.filter(v=>!f.isGarbage(v));m(y,b),n.animate({id:`${e}_${t}_selection_${p}`,groupId:e,phase:"end",from:0,to:1,ease:Xa,onStop(){f.cleanup()}}),p++}m(d,d)}function An(e,t,n,i,r,o,s){let{nodes:a,selections:l}=td(i),{start:c={},finish:d,phase:h}=s,u=d==null;n.animate({id:`${e}_${t}`,groupId:e,phase:h??"update",from:r,to:o,ease:Xa,collapsable:u,onPlay:()=>{for(let m of a)m.setProperties(c);for(let m of l)for(let p of m.nodes())p.setProperties(c)},onUpdate(m){for(let p of a)p.setProperties(m);for(let p of l)for(let f of p.nodes())f.setProperties(m)},onStop:()=>{for(let m of a)m.setProperties(I(I({},o),d));for(let m of l)for(let p of m.nodes())p.setProperties(I(I({},o),d))}})}function _E(e,t,n,i){let r=n(e,t);return i.added[r]?"added":"updated"}var wn=Math.PI*2;function ae(e){return e%=wn,e+=wn,e%=wn,e}function xE(e){return e%=wn,e+=wn,e!==wn&&(e%=wn),e}function qa(e){return e%=wn,e<-Math.PI?e+=wn:e>=Math.PI&&(e-=wn),e}function ze(e){return e/180*Math.PI}function wE(e){return e/Math.PI*180}function Mm(e,t){return e=ae(e),t=ae(t),t-e+(e>t?2*Math.PI:0)}var oi=(e,t)=>{let n=Symbol(String(t));e[n]=void 0,Object.defineProperty(e,t,{get(){return this[n]},set(i){this[n]!==i&&(this[n]=i,this.invalid=!0)},enumerable:!0,configurable:!1})},Dn=class{constructor(){this.type="band",this.invalid=!0,this.interval=1,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&j.warnOnce("Expected update to not invalidate scale"))}set domain(e){this.invalid=!0;let t=[];this.index=new Map;let n=this.index;e.forEach(i=>{n.get(i)===void 0&&n.set(i,t.push(i)-1)}),this._domain=t}get domain(){return this._domain}ticks(){this.refresh();let{interval:e=1}=this,t=Math.abs(Math.round(e));return this._domain.filter((n,i)=>i%t===0)}convert(e){this.refresh();let t=this.index.get(e);if(t===void 0)return NaN;let n=this.ordinalRange[t];return n===void 0?NaN:n}invert(e){this.refresh();let t=this.ordinalRange.findIndex(n=>n===e);return this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=gt(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this._paddingInner=gt(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this._paddingOuter=gt(0,e,1)}get paddingOuter(){return this._paddingOuter}update(){let e=this._domain.length;if(e===0)return;let t=this.round,n=this._paddingInner,i=this._paddingOuter,[r,o]=this.range,s=o-r,a=s/Math.max(1,e+2*i-n),l=t?Math.floor(a):a,c=l*(e-n),d=r+(s-c)/2,h=t?Math.round(d):d,u=l*(1-n),m=t?Math.round(u):u,p=a*(1-n),f=[];for(let b=0;b<e;b++)f.push(h+l*b);this._bandwidth=m,this._rawBandwidth=p,this._step=l,this.ordinalRange=f}};g([oi],Dn.prototype,"interval",2);g([oi],Dn.prototype,"range",2);g([oi],Dn.prototype,"round",2);function _(e,t={}){let{optional:n=!1}=t;return Gn((i,r,o)=>{var s;let a=V(I({},t),{target:i,property:r});if(n&&typeof o>"u"||e(o,a))return gi(i[r])&&!gi(o)?(i[r].set(o),i[r]):o;let l=String(r).replace(/^_*/,""),c=(s=i.constructor.className)!=null?s:i.constructor.name.replace(/Properties$/,"");return j.warn(`Property [${l}] of [${c}] cannot be set to [${Ua(o)}]${e.message?`; expecting ${yl(e,a)}`:""}, ignoring.`),Fc},void 0,{optional:n})}var Rn=(...e)=>{let t=[];return Pt((n,i)=>(t.length=0,e.every(r=>{let o=r(n,i);return o||t.push(yl(r,i)),o})),()=>t.filter(Boolean).join(" AND "))},Co=(...e)=>Pt((t,n)=>e.some(i=>i(t,n)),t=>e.map(AE(t)).filter(Boolean).join(" OR ")),K=ME(Pt((e,t)=>gi(e)||Cn(e)&&gi(t.target[t.property]),"an object")),Z=Pt(xv,"a boolean"),Oi=Pt(ps,"a function"),F=Pt(Ti,"a string"),zt=TE(Pt(xt,"a number")),ed=Pt(e=>Hi(e)&&isNaN(e),"NaN"),L=zt.restrict({min:0}),At=zt.restrict({min:0,max:1}),Ir=zt.restrict({min:-360,max:360}),_s=Co(zt,ed),gl=RE(Pt(fe,"an array")),qn=(e,t)=>Pt((n,i)=>fe(n)&&n.every(r=>e(r,i)),n=>{var i;let r=(i=yl(gl,n))!=null?i:"";return t?`${r} of ${t}`:r}),Uc=e=>xt(e)||cl(e),bl=e=>Pt((t,n)=>!Uc(t)||!Uc(n.target[e])||t<n.target[e],`expected to be less than ${e}`),vl=e=>Pt((t,n)=>!Uc(t)||!Uc(n.target[e])||t>n.target[e],`expected to be greater than ${e}`),Lm=Pt(cl,"Date object"),Om=Co(Lm,L),Cy="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",mt=Pt(e=>Ti(e)&&yn.validColorString(e),`color String. ${Cy}`),Ni=Pt(qn(mt),`color strings. ${Cy}`),kE=qn(Z,"boolean values"),id=qn(zt,"numbers"),Dy=qn(F,"strings"),SE=Pt(qn(Lm),"Date objects"),Nm=Pt(qn(K),"objects"),Ey=le(["butt","round","square"],"a line cap"),CE=le(["round","bevel","miter"],"a line join"),Zn=Pt(qn(L),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Pm=le(["top","right","bottom","left"],"a position"),Ar=le(["normal","italic","oblique"],"a font style"),Rr=Co(le(["normal","bold","bolder","lighter"],"a font weight"),zt.restrict({min:1,max:1e3})),nd=le(["never","always","hyphenate","on-space"],"a text wrap strategy"),Iy=le(["left","center","right"],"a text align"),DE=le(["top","middle","bottom"],"a vertical align"),EE=le(["ellipsis","hide"],"an overflow strategy"),Ay=le(["horizontal","vertical"],"a direction"),Ry=le(["inside","outside"],"a placement"),Fm=Co(le(["exact","nearest"],"interaction range"),zt);function le(e,t="a"){return Pt(n=>e.includes(n),`${t} keyword such as ${IE(e)}`)}var Ty=Co(Rn(zt.restrict({min:1}),bl("maxSpacing")),ed),Bm=Co(Rn(zt.restrict({min:1}),vl("minSpacing")),ed);function Pt(e,t){return e.message=t,e}function IE(e){let t=e.map(i=>`'${i}'`);if(t.length===1)return t[0];let n=t.pop();return`${t.join(", ")} or ${n}`}function yl(e,t){return ps(e.message)?e.message(t):e.message}function AE(e){return t=>yl(t,e)}function RE(e){return Object.assign(e,{restrict({length:t,minLength:n}={}){return Pt(i=>fe(i)&&(Hi(t)?i.length===t:!0)&&(Hi(n)?i.length>=n:!0),Hi(n)&&n>0?"a non-empty array":Hi(t)?`an array of length ${t}`:"an array")}})}function TE(e){return Object.assign(e,{restrict({min:t,max:n}={}){let i=["a number"],r=Hi(t),o=Hi(n);return r&&o?i.push(`between ${t} and ${n} inclusive`):r?i.push(`greater than or equal to ${t}`):o&&i.push(`less than or equal to ${n}`),Pt(s=>xt(s)&&(r?s>=t:!0)&&(o?s<=n:!0),i.join(" "))}})}function ME(e){return Object.assign(e,{restrict(t){let n=i=>gi(i)&&i instanceof t;return Pt((i,r)=>n(i)||Cn(i)&&n(r.target[r.property]),i=>{var r;return(r=yl(e,i))!=null?r:"an object"})}})}function Ua(e){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var My=(e=>(e.X="x",e.Y="y",e))(My||{});function Ly(){if(typeof navigator>"u")return!1;let e=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(e==null)return!1;let t=e[1].split("_"),n=Number(t[0]);return n>16?!1:n===16?Number(t[1])<6:!0}var zm=class Xu{constructor(t){this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0;let{document:n,window:i,width:r=600,height:o=300,domLayer:s=!1,zIndex:a=0,name:l=void 0,overrideDevicePixelRatio:c=void 0}=t;this.document=n,this.window=i,Xu.document=n,this.element=n.createElement("canvas"),this.element.width=r,this.element.height=o,this.realContext=this.element.getContext("2d"),this.imageSource=this.realContext.canvas;let{style:d}=this.element;d.userSelect="none",d.display="block",s&&(d.position="absolute",d.zIndex=String(a),d.top="0",d.left="0",d.pointerEvents="none",d.opacity="1",l&&(this.element.id=l)),this.context=this.setPixelRatio(c),this.resize(r,o)}set container(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)}get container(){return this._container}set enabled(t){this.element.style.display=t?"block":"none",this._enabled=!!t}get enabled(){return this._enabled}remove(){let{parentNode:t}=this.element;t?.removeChild(this.element)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}snapshot(){}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}toImage(){let t=this.document.createElement("img");return t.src=this.getDataURL(),t}getDataURL(t){return this.element.toDataURL(t)}download(t,n="image/png"){t=(t??"").trim()||"image";let i=this.getDataURL(n),r=this.document,o=r.createElement("a");o.href=i,o.download=t,o.style.display="none",r.body.appendChild(o),o.click(),r.body.removeChild(o)}get pixelRatio(){return this._pixelRatio}setPixelRatio(t){let n=t??this.window.devicePixelRatio;return Ly()&&(n=1),this._pixelRatio=n,Xu.overrideScale(this.realContext,n)}set pixelated(t){this.element.style.imageRendering=t?"pixelated":"auto"}get pixelated(){return this.element.style.imageRendering==="pixelated"}get width(){return this._width}get height(){return this._height}resize(t,n){if(!(t>0&&n>0))return;let{element:i,context:r,pixelRatio:o}=this;i.width=Math.round(t*o),i.height=Math.round(n*o),i.style.width=t+"px",i.style.height=n+"px",r.resetTransform(),this._width=t,this._height=n}static get textMeasuringContext(){if(this._textMeasuringContext)return this._textMeasuringContext;let t=this.document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext}static get svgText(){if(this._svgText)return this._svgText;let t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");n.setAttribute("width","100"),n.setAttribute("height","100"),n.classList?n.classList.add("text-measuring-svg"):n.setAttribute("class","text-measuring-svg"),n.style.position="absolute",n.style.top="-1000px",n.style.visibility="hidden";let i=document.createElementNS(t,"text");return i.setAttribute("x","0"),i.setAttribute("y","30"),i.setAttribute("text","black"),n.appendChild(i),document.body.appendChild(n),this._svgText=i,i}static get has(){if(this._has)return this._has;let t=typeof navigator>"u"||navigator.userAgent.indexOf("Chrome")>-1,n=typeof navigator<"u"&&navigator.userAgent.indexOf("Firefox")>-1,i=!t&&typeof navigator<"u"&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:this.textMeasuringContext.measureText("test").actualBoundingBoxDescent!==void 0&&!n&&!i,getTransform:this.textMeasuringContext.getTransform!==void 0}),this._has}static measureText(t,n,i,r){let o=this.textMeasuringContext;return o.font=n,o.textBaseline=i,o.textAlign=r,o.measureText(t)}static getTextSize(t,n){if(this.has.textMetrics){let i=this.textMeasuringContext;i.font=n;let r=i.measureText(t);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}else return this.measureSvgText(t,n)}static measureSvgText(t,n){let i=this.textSizeCache,r=i[n];if(r){let l=r[t];if(l)return l}else i[n]={};let o=this.svgText;o.style.font=n,o.textContent=t;let s=o.getBBox(),a={width:s.width,height:s.height};return i[n][t]=a,a}static overrideScale(t,n){let i=0,r={save(){this.$save(),i++},restore(){if(i>0)this.$restore(),i--;else throw new Error("AG Charts - Unable to restore() past depth 0")},setTransform(o,s,a,l,c,d){typeof o=="object"?this.$setTransform(o):this.$setTransform(o*n,s*n,a*n,l*n,c*n,d*n)},resetTransform(){this.$setTransform(n,0,0,n,0,0)},verifyDepthZero(){if(i!==0)throw new Error("AG Charts - Save/restore depth is non-zero: "+i)}};for(let o in r)Object.hasOwn(r,o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=r[o]);return t}};zm.document=globalThis.document;zm.textSizeCache={};var re=zm,LE=class{constructor(){this.stops=[]}},OE=class extends LE{constructor(){super(...arguments),this.angle=0}createGradient(e,t){let{stops:i,angle:r}=this,o=ae(ze(r+90)),s=Math.cos(o),a=Math.sin(o),l=t.width,c=t.height,d=t.x+l*.5,h=t.y+c*.5;if(l>0&&c>0){let u=Math.sqrt(c*c+l*l)/2,m=Math.atan2(c,l),p;o<Math.PI/2?p=o:o<Math.PI?p=Math.PI-o:o<3*Math.PI/2?p=o-Math.PI:p=2*Math.PI-o;let f=u*Math.abs(Math.cos(p-m)),b=e.createLinearGradient(d+s*f,h+a*f,d-s*f,h-a*f);return i.forEach(y=>{b.addColorStop(y.offset,y.color)}),b}return"black"}},NE=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,yi=class fn extends ys{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=fn.defaultStyles.fill,this.stroke=fn.defaultStyles.stroke,this.strokeWidth=fn.defaultStyles.strokeWidth,this.lineDash=fn.defaultStyles.lineDash,this.lineDashOffset=fn.defaultStyles.lineDashOffset,this.lineCap=fn.defaultStyles.lineCap,this.lineJoin=fn.defaultStyles.lineJoin,this.opacity=fn.defaultStyles.opacity,this.fillShadow=fn.defaultStyles.fillShadow}restoreOwnStyles(){let t=this.constructor.defaultStyles,n=Object.getOwnPropertyNames(t);for(let i=0,r=n.length;i<r;i++){let o=n[i];this[o]=t[o]}}updateGradient(){let{fill:t}=this,n;if(t?.startsWith("linear-gradient")&&(n=NE.exec(t))){let i=parseFloat(n[1]),r=[],o=n[2],s=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,a;for(;a=s.exec(o);)r.push(a[0]);this.gradient=new OE,this.gradient.angle=i,this.gradient.stops=r.map((l,c)=>({offset:c/(r.length-1),color:l}))}else this.gradient=void 0}align(t,n){var i,r,o;let s=(o=(r=(i=this.layerManager)==null?void 0:i.canvas)==null?void 0:r.pixelRatio)!=null?o:1,a=Math.round(t*s)/s;return n==null?a:n===0?0:n<1?Math.ceil(n*s)/s:Math.round((n+t)*s)/s-a}fillStroke(t){this.renderFill(t),this.renderStroke(t)}renderFill(t){if(this.fill){let{globalAlpha:n}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=n}t.shadowColor="rgba(0, 0, 0, 0)"}applyFill(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill}applyFillAlpha(t){let{globalAlpha:n}=t;t.globalAlpha=n*this.opacity*this.fillOpacity}applyShadow(t){var n,i;let r=(i=(n=this.layerManager)==null?void 0:n.canvas.pixelRatio)!=null?i:1,o=this.fillShadow;o?.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*r,t.shadowOffsetY=o.yOffset*r,t.shadowBlur=o.blur*r)}renderStroke(t){if(this.stroke&&this.strokeWidth){let{globalAlpha:n}=t;t.strokeStyle=this.stroke,t.globalAlpha=n*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=n}}containsPoint(t,n){return this.isPointInPath(t,n)}};yi.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0});g([W({redraw:2})],yi.prototype,"fillOpacity",2);g([W({redraw:2})],yi.prototype,"strokeOpacity",2);g([W({redraw:2,changeCb:e=>e.updateGradient()})],yi.prototype,"fill",2);g([W({redraw:2})],yi.prototype,"stroke",2);g([W({redraw:2})],yi.prototype,"strokeWidth",2);g([W({redraw:2})],yi.prototype,"lineDash",2);g([W({redraw:2})],yi.prototype,"lineDashOffset",2);g([W({redraw:2})],yi.prototype,"lineCap",2);g([W({redraw:2})],yi.prototype,"lineJoin",2);g([W({redraw:2,convertor:e=>gt(0,e,1)})],yi.prototype,"opacity",2);g([W({redraw:2,checkDirtyOnAssignment:!0})],yi.prototype,"fillShadow",2);var Li=yi,qu="\u2026";function rd(e){let{redraw:t=3,changeCb:n}=e??{};return W({redraw:t,type:"font",changeCb:n})}var je=class pi extends Li{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=pi.defaultStyles.textAlign,this.textBaseline=pi.defaultStyles.textBaseline,this.lineHeight=void 0}_setLines(){this.lines=Fy(this.text)}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=Sr(this)),this._font}computeBBox(){return re.has.textMetrics?Oy(this.lines,this.x,this.y,this):Ny(this.lines,this.x,this.y,this)}getLineHeight(t){var n,i;if(this.lineHeight)return this.lineHeight;if(re.has.textMetrics){let r=re.measureText(t,this.font,this.textBaseline,this.textAlign);return((n=r.fontBoundingBoxAscent)!=null?n:r.emHeightAscent)+((i=r.fontBoundingBoxDescent)!=null?i:r.emHeightDescent)}return re.getTextSize(t,this.font).height}isPointInPath(t,n){let i=this.transformPoint(t,n),r=this.computeBBox();return r?r.containsPoint(i.x,i.y):!1}render(t){let{ctx:n,forceRender:i,stats:r}=t;if(this.dirty===0&&!i){r&&(r.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){r&&(r.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(n);let{fill:o,stroke:s,strokeWidth:a}=this;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;let l=this.layerManager.canvas.pixelRatio||1,{globalAlpha:c}=n;if(o){n.fillStyle=o,n.globalAlpha=c*this.opacity*this.fillOpacity;let{fillShadow:d}=this;d?.enabled&&(n.shadowColor=d.color,n.shadowOffsetX=d.xOffset*l,n.shadowOffsetY=d.yOffset*l,n.shadowBlur=d.blur*l),this.renderLines((h,u,m)=>n.fillText(h,u,m))}if(s&&a){n.strokeStyle=s,n.lineWidth=a,n.globalAlpha=c*this.opacity*this.strokeOpacity;let{lineDash:d,lineDashOffset:h,lineCap:u,lineJoin:m}=this;d&&n.setLineDash(d),h&&(n.lineDashOffset=h),u&&(n.lineCap=u),m&&(n.lineJoin=m),this.renderLines((p,f,b)=>n.strokeText(p,f,b))}super.render(t)}renderLines(t){let{lines:n,x:i,y:r}=this,o=this.lines.map(l=>this.getLineHeight(l)),a=-(o.reduce((l,c)=>l+c,0)-o[0])*Py(this.textBaseline);for(let l=0;l<n.length;l++)t(n[l],i,r+a),a+=o[l]}static wrapLines(t,n,i,r,o,s){let a=s!=="hide",l=Sr(r),c=PE(l),d=t.split(/\r?\n/g);if(d.length===0)return{lines:void 0,truncated:!1};if(o==="never"){let{text:p,truncated:f}=pi.truncateLine(d[0],n,c,a?"auto":"never");return{lines:p!=null?[p]:void 0,truncated:f}}let h=[],u=0,m=!1;for(let p of d){let f=pi.wrapLine(p,n,i,c,r,o,u,a);if(f==null)return{lines:void 0,truncated:!1};if(h.push(...f.result),u=f.cumulativeHeight,f.truncated){m=!0;break}}return{lines:h,truncated:m}}static wrap(t,n,i,r,o,s="ellipsis"){let{lines:a,truncated:l}=pi.wrapLines(t,n,i,r,o,s);return{text:a!=null?a.join(`
`).trim():"",truncated:l}}static wrapLine(t,n,i,r,o,s,a,l){if(t=t.trim(),!t)return{result:[],truncated:!1,cumulativeHeight:a};let c=r.size(t);if(c.width<=n)return{result:[t],truncated:!1,cumulativeHeight:a+c.height};if(c.height>i||r.width("W")>n)return l?{result:[],truncated:!0,cumulativeHeight:a}:void 0;let d=t.split(/\s+/g),h=pi.wrapLineSequentially(d,n,i,r,o,s,a,l);if(h==null)return;a=h.cumulativeHeight;let{lines:u}=h;if(!(h.wordsBrokenOrTruncated||h.linesTruncated)){let p=h.lines.length,f=pi.wrapLineBalanced(d,n,r,p);f.length===u.length&&(u=f)}return{result:u.map(p=>p.join(" ")),truncated:h.linesTruncated,cumulativeHeight:a}}static breakWord(t,n,i,r,o){let s=m=>pi.punctuationMarks.includes(t[m]),a=r?o.width("-"):0,l=[],c=0,d=0;for(let m=0;m<t.length;m++){let p=t[m],f=o.width(p),b=d===0?n:i;c+f+a>b&&(l.push(m),c=0,d++),c+=f}let h=[],u=0;for(let m of l){let p=t.substring(u,m);r&&p.length>0&&!s(m-1)&&!s(m)&&(p+="-"),h.push(p),u=m}return h.push(t.substring(u)),h}static truncateLine(t,n,i,r){t=t.trimEnd();let o=i.width(t);if(o>n&&r==="never")return{text:void 0,truncated:!1};if(o<=n&&r!=="force")return{text:t,truncated:!1};let s=i.width(qu),a=t,l=o;for(;a.length>0&&l+s>n;)a=a.slice(0,-1).trimEnd(),l=i.width(a);return l+s<=n?{text:`${a}${qu}`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(t,n,i,r,o,s,a,l){let{fontSize:c=0,lineHeight:d=c*pi.defaultLineHeightRatio}=o,h=s==="always"||s==="hyphenate",u=s==="hyphenate",m=r.width(" "),p=!1,f=!1,b=[],y=[],v=0,x=()=>({lines:b,linesTruncated:f,wordsBrokenOrTruncated:p,cumulativeHeight:a}),k=()=>{if(!l)return;let S=y.join(" "),{text:C}=pi.truncateLine(S,n,r,"force");if(C!=null)return y.splice(0,y.length,C),f=!0,x()},w=()=>{let S=a+d;return S>=i?!1:(y=[],v=0,a=S,b.push(y),!0)};if(!w())return k();for(let S=0;S<t.length;S++){let C=t[S],E=r.width(C),D=y.length===0?0:m,A=v+D+E;if(A<=n){y.push(C),v=A;continue}if(E<=n){if(!w())return k();y.push(C),v=E;continue}if(p=!0,h){let R=n-v-D,N=pi.breakWord(C,R,n,u,r);for(let O=0;O<N.length;O++){let U=N[O];if(U&&y.push(U),O===N.length-1)v=r.width(U);else if(!w())return k()}}else if(l){if(!w())return k();let{text:R}=pi.truncateLine(C,n,r,"force");if(R==null)return;y.push(R),S<t.length-1&&(f=!0);break}else return}return x()}static wrapLineBalanced(t,n,i,r){let o=t.reduce((m,p)=>m+i.width(p),0),s=i.width(" "),a=s*(t.length-r-2),l=(o+a)/r,c=[],d=[],h=i.width(t[0]),u=!0;for(let m of t){let p=i.width(m);if(u){d=[],d.push(m),h=p,u=!1,c.push(d);continue}let f=h+s+p;f<=l?(d.push(m),h=f):f<=n?(d.push(m),u=!0):(d=[m],h=p,c.push(d))}return c}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}};je.className="Text";je.defaultLineHeightRatio=1.15;je.defaultStyles=Object.assign({},Li.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});je.ellipsis=qu;je.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"];g([W({redraw:3})],je.prototype,"x",2);g([W({redraw:3})],je.prototype,"y",2);g([W({redraw:3,changeCb:e=>e._setLines()})],je.prototype,"text",2);g([rd()],je.prototype,"fontStyle",2);g([rd()],je.prototype,"fontWeight",2);g([rd()],je.prototype,"fontSize",2);g([rd()],je.prototype,"fontFamily",2);g([W({redraw:3})],je.prototype,"textAlign",2);g([W({redraw:3})],je.prototype,"textBaseline",2);g([W({redraw:3})],je.prototype,"lineHeight",2);var bt=je;function PE(e){let t=new Map,n=r=>re.getTextSize(r,e);return{size:n,width:r=>{if(t.has(r))return t.get(r);let{width:o}=n(r);return t.set(r,o),o}}}function Sr(e){let{fontFamily:t,fontSize:n,fontStyle:i,fontWeight:r}=e;return[i??"",r??"",n+"px",t].join(" ").trim()}function FE(e,t,n,i){return re.has.textMetrics?Oy(e,t,n,i):Ny(e,t,n,i)}function Oy(e,t,n,i){var r,o;let s=0,a=0,l=0,c=0,d=0,h=Sr(i),{lineHeight:u,textBaseline:m=bt.defaultStyles.textBaseline,textAlign:p=bt.defaultStyles.textAlign}=i;for(let f=0;f<e.length;f++){let b=re.measureText(e[f],h,m,p);s=Math.max(s,b.actualBoundingBoxLeft),l=Math.max(l,b.width),f==0?(a+=b.actualBoundingBoxAscent,c+=b.actualBoundingBoxAscent):d+=(r=b.fontBoundingBoxAscent)!=null?r:b.emHeightAscent,f==e.length-1?c+=b.actualBoundingBoxDescent:d+=(o=b.fontBoundingBoxDescent)!=null?o:b.emHeightDescent}return u!==void 0&&(d=(e.length-1)*u),c+=d,a+=d*Py(m),new Q(t-s,n-a,l,c)}function Ny(e,t,n,i){let r=0,o=0,s=0,a=Sr(i),{lineHeight:l,textBaseline:c=bt.defaultStyles.textBaseline,textAlign:d=bt.defaultStyles.textAlign}=i;if(e.length>0){let h=re.getTextSize(e[0],a);r=h.width,o=h.height}for(let h=1;h<e.length;h++){let u=re.getTextSize(e[h],a);r=Math.max(r,u.width),s+=l??u.height}switch(d){case"end":case"right":t-=r;break;case"center":t-=r/2}switch(c){case"alphabetic":n-=o*.7+s*.5;break;case"middle":n-=o*.45+s*.5;break;case"ideographic":n-=o+s;break;case"hanging":n-=o*.2+s*.5;break;case"bottom":n-=o+s;break}return new Q(t,n,r,o+s)}function Py(e){switch(e){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}function Fy(e){return typeof e=="string"?e.split(/\r?\n/g):[]}function Tr(e){let t=fe(e)?e:e.split(".");if(t.length===1){let[n]=t;return Gn((i,r,o)=>i[n]=o,i=>i[n])}return Gn((n,i,r)=>Iv(n,t,r),n=>Ev(n,t))}function BE(e){return Gn((t,n,i)=>t[e]=i)}function jt(e,t){return Gn((n,i,r)=>n[e][t??i]=r)}function Se(e){let{newValue:t,oldValue:n,changeValue:i}=e;return Gn((r,o,s,a)=>(s!==a&&(a!==void 0&&n?.call(r,a),s!==void 0&&t?.call(r,s),i?.call(r,s,a)),s))}function xs(e){return HC(e)}function od(e,t){let n=e.createElement("style");n.innerHTML=t,e.head.insertBefore(n,e.head.querySelector("style"))}var me="ag-chart-tooltip",zE="ag-chart-dark-tooltip",jE=`
.${me} {
    transition: transform 0.1s ease;
    max-width: 100%;
    position: fixed;
    left: 0px;
    top: 0px;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: rgb(70, 70, 70);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.${me}-wrap-always {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
}

.${me}-wrap-hyphenate {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

.${me}-wrap-on-space {
    overflow-wrap: normal;
    word-break: normal;
}

.${me}-wrap-never {
    white-space: pre;
    text-overflow: ellipsis;
}

.${me}-no-interaction {
    pointer-events: none;
    user-select: none;
}

.${me}-no-animation {
    transition: none !important;
}

.${me}-hidden {
    visibility: hidden;
}

.${me}-title {
    overflow: hidden;
    position: relative;
    padding: 8px 14px;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    color: white;
    background-color: #888888;
    z-index: 1;
    text-overflow: inherit;
}

.${me}-title:only-child {
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.${me}-content {
    overflow: hidden;
    padding: 6px 14px;
    line-height: 1.7em;
    background: white;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    overflow: hidden;
    text-overflow: inherit;
}

.${me}-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid #d9d9d9;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.${me}-arrow::after {
    content: "";

    position: absolute;
    top: calc(100% - 1px);
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid white;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`;function Za(e,t){var n,i,r;if(typeof e=="string")return e;let{content:o=(n=t?.content)!=null?n:"",title:s=t?.title,color:a=(i=t?.color)!=null?i:"white",backgroundColor:l=(r=t?.backgroundColor)!=null?r:"#888"}=e,c=s?`<div class="${me}-title"
        style="color: ${a}; background-color: ${l}">${s}</div>`:"",d=o?`<div class="${me}-content">${o}</div>`:"";return`${c}${d}`}var _l=class extends Ft{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};g([_(le(["pointer","node"],"a position type"))],_l.prototype,"type",2);g([_(zt)],_l.prototype,"xOffset",2);g([_(zt)],_l.prototype,"yOffset",2);var Qn=class Zu{constructor(t,n,i,r){this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.darkTheme=!1,this.lastVisibilityChange=Date.now(),this.position=new _l,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=r,this.window=i;let o=n.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add(me),this.canvasElement=t,typeof IntersectionObserver<"u"){let s=new IntersectionObserver(a=>{for(let l of a)l.target===this.canvasElement&&l.intersectionRatio===0&&this.toggle(!1)},{root:this.tooltipRoot});s.observe(this.canvasElement),this.observer=s}Zu.tooltipDocuments.indexOf(n)<0&&(od(n,jE),Zu.tooltipDocuments.push(n))}destroy(){let{parentNode:t}=this.element;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)}isVisible(){let{element:t}=this;return!t.classList.contains(me+"-hidden")}updateClass(t,n,i=!0){let{element:r,class:o,lastClass:s,enableInteraction:a,lastVisibilityChange:l}=this,c=this.isVisible(),d=!!t,h=1/0;if(c!==d){let b=Date.now();h=b-l,this.lastVisibilityChange=b}let u=(b,y)=>{let v=`${me}-${b}`;y?r.classList.add(v):r.classList.remove(v)},m=100,p=5,f=!c&&d&&h>m;h>p&&u("no-animation",f),u("no-interaction",!a),u("hidden",!t),u("arrow",!!n),r.classList.toggle(zE,this.darkTheme),this.updateWrapping(),i?(o!==s&&(s&&r.classList.remove(s),o&&r.classList.add(o)),this.lastClass=o):(s&&r.classList.remove(s),this.lastClass=void 0)}updateWrapping(){let{element:t,wrapping:n}=this,i={always:!1,hyphenate:!1,"on-space":!1,never:!1};i[n]=!0,Object.entries(i).forEach(([r,o])=>{t.classList.toggle(`${me}-wrap-${r}`,o)})}show(t,n,i=!1){var r,o,s,a,l,c,d;let{element:h,canvasElement:u}=this;if(n!==void 0)h.innerHTML=n;else if(!h.innerHTML){this.toggle(!1);return}let m=(o=(r=t.position)==null?void 0:r.xOffset)!=null?o:0,p=(a=(s=t.position)==null?void 0:s.yOffset)!=null?a:0,f=u.getBoundingClientRect(),b=f.left+t.offsetX-h.clientWidth/2+m,y=f.top+t.offsetY-h.clientHeight-8+p,v=this.getWindowBoundingBox(),x=v.x+v.width-h.clientWidth-1,k=v.y+v.height-h.clientHeight,w=gt(v.x,b,x),S=gt(v.y,y,k),E=!(w!==b||S!==y)&&!m&&!p,D=(c=(l=t.showArrow)!=null?l:this.showArrow)!=null?c:E;if(this.updateShowArrow(D),h.style.transform=`translate(${Math.round(w)}px, ${Math.round(S)}px)`,this.enableInteraction=(d=t.enableInteraction)!=null?d:!1,this.delay>0&&!i){this.toggle(!1),this.showTimeout=this.window.setTimeout(()=>{this.toggle(!0,t.addCustomClass)},this.delay);return}this.toggle(!0,t.addCustomClass)}getWindowBoundingBox(){return new Q(0,0,this.window.innerWidth,this.window.innerHeight)}toggle(t,n){t||this.window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow,n)}pointerLeftOntoTooltip(t){var n;if(!this.enableInteraction)return!1;let i=(n=t.sourceEvent.relatedTarget)==null?void 0:n.classList,o=!!["","-title","-content"].filter(s=>i?.contains(`${me}${s}`));return i!==void 0&&o}updateShowArrow(t){this._showArrow=t}};Qn.tooltipDocuments=[];g([_(Z)],Qn.prototype,"enabled",2);g([_(Z,{optional:!0})],Qn.prototype,"showArrow",2);g([_(F,{optional:!0})],Qn.prototype,"class",2);g([_(L)],Qn.prototype,"delay",2);g([_(Fm)],Qn.prototype,"range",2);g([_(nd)],Qn.prototype,"wrapping",2);g([_(Z)],Qn.prototype,"darkTheme",2);var By=Qn,Zt=class extends Ft{constructor(){super(...arguments),this.id=In(this),this.node=new bt().setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(e){return e.interactionManager.addListener("hover",t=>this.handleMouseMove(e,t))}computeTextWrap(e,t){var n,i;let{text:r,wrapping:o}=this,s=Math.min((n=this.maxWidth)!=null?n:1/0,e),a=(i=this.maxHeight)!=null?i:t;if(!isFinite(s)&&!isFinite(a)){this.node.text=r;return}let{text:l,truncated:c}=bt.wrap(r??"",s,a,this,o);this.node.text=l,this.truncated=c}handleMouseMove(e,t){if(!this.enabled)return;let{offsetX:n,offsetY:i}=t,r=this.node.computeBBox(),o=this.node.visible&&r.containsPoint(n,i);o&&t.consume(),!this.truncated||!o?e.tooltipManager.removeTooltip(this.id):e.tooltipManager.updateTooltip(this.id,{offsetX:n,offsetY:i,lastPointerEvent:t,showArrow:!1,addCustomClass:!1},Za({content:this.text}))}};Zt.SMALL_PADDING=10;Zt.LARGE_PADDING=20;g([_(Z)],Zt.prototype,"enabled",2);g([_(F,{optional:!0}),jt("node")],Zt.prototype,"text",2);g([_(Iy,{optional:!0}),jt("node")],Zt.prototype,"textAlign",2);g([_(Ar,{optional:!0}),jt("node")],Zt.prototype,"fontStyle",2);g([_(Rr,{optional:!0}),jt("node")],Zt.prototype,"fontWeight",2);g([_(L),jt("node")],Zt.prototype,"fontSize",2);g([_(F),jt("node")],Zt.prototype,"fontFamily",2);g([_(mt,{optional:!0}),jt("node","fill")],Zt.prototype,"color",2);g([_(L,{optional:!0})],Zt.prototype,"spacing",2);g([_(L,{optional:!0})],Zt.prototype,"lineHeight",2);g([_(L,{optional:!0})],Zt.prototype,"maxWidth",2);g([_(L,{optional:!0})],Zt.prototype,"maxHeight",2);g([_(nd)],Zt.prototype,"wrapping",2);var Ji=class{constructor(){this.enabled=!1,this.spacing=Zt.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};g([_(Z)],Ji.prototype,"enabled",2);g([_(F,{optional:!0})],Ji.prototype,"text",2);g([_(L,{optional:!0})],Ji.prototype,"spacing",2);g([_(Ar,{optional:!0})],Ji.prototype,"fontStyle",2);g([_(Rr,{optional:!0})],Ji.prototype,"fontWeight",2);g([_(L)],Ji.prototype,"fontSize",2);g([_(F)],Ji.prototype,"fontFamily",2);g([_(mt,{optional:!0})],Ji.prototype,"color",2);g([_(nd)],Ji.prototype,"wrapping",2);g([_(Oi,{optional:!0})],Ji.prototype,"formatter",2);var zy={constructedArrays:new WeakMap};function jy(e,t){var n;(n=zy.constructedArrays)==null||n.set(e,t)}var xb={constructors:{"axes[].title":Ji},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}},Tn=class Qu{constructor(t,n){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=Qu.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=n}static is(t){return t instanceof Qu}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){let{range:n}=this,i=this.getDomain(),r=Math.abs(n[1]-n[0]),o=Math.abs(i[1]-i[0])/t+1,s=Math.floor(r),a=Math.min(o,s);return r/Math.max(1,a)}fromDomain(t){return typeof t=="number"?t:t instanceof Date?t.getTime():NaN}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,n){var i;let r=(i=n?.clampMode)!=null?i:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();let o=this.getDomain().map(h=>this.transform(h)),[s,a]=o,{range:l}=this,[c,d]=l;if(t=this.transform(t),r==="clamped"){let h=Math.min(this.fromDomain(s),this.fromDomain(a)),u=Math.max(this.fromDomain(s),this.fromDomain(a));if(this.fromDomain(t)<h)return c;if(this.fromDomain(t)>u)return d}return s===a?(c+d)/2:t===s?c:t===a?d:c+(this.fromDomain(t)-this.fromDomain(s))/(this.fromDomain(a)-this.fromDomain(s))*(d-c)}invert(t){this.refresh();let n=this.getDomain().map(u=>this.transform(u)),[i,r]=n,{range:o}=this,[s,a]=o,l=s>a,c=l?a:s,d=l?s:a,h;return t<c?l?r:i:t>d?l?i:r:(s===a?h=this.toDomain((this.fromDomain(i)+this.fromDomain(r))/2):h=this.toDomain(this.fromDomain(i)+(t-s)/(a-s)*(this.fromDomain(r)-this.fromDomain(i))),this.transformInvert(h))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&j.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){let t=this.range.slice().sort((n,i)=>n-i);return t[1]-t[0]}isDenseInterval({start:t,stop:n,interval:i,count:r}){let o=n-t,s=this.getPixelRange();return r??(r=o/(typeof i=="number"?i:1)),r>=s?(j.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}};Tn.defaultTickCount=5;Tn.defaultMaxTickCount=6;g([oi],Tn.prototype,"domain",2);g([oi],Tn.prototype,"range",2);g([oi],Tn.prototype,"nice",2);g([oi],Tn.prototype,"interval",2);g([oi],Tn.prototype,"tickCount",2);g([oi],Tn.prototype,"minTickCount",2);g([oi],Tn.prototype,"maxTickCount",2);var Ot=Tn;function Vy(e,t){let n=0;return typeof e=="number"&&typeof t=="number"?n=e-t:typeof e=="string"&&typeof t=="string"?n=e.localeCompare(t):e==null&&t==null||(e==null?n=-1:t==null?n=1:n=String(e).localeCompare(String(t))),n}function Uy(e,t,n){let i=r=>typeof r=="function"?r():r;for(let r in e){let o=n(i(e[r]),i(t[r]));if(o!==0)return o}return 0}var jm=class Ju extends ys{constructor(t){var n;super({isVirtual:t?.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;let{zIndex:i,zIndexSubOrder:r}=t??{};this.isContainerNode=!0,i!==void 0&&(this.zIndex=i),r!==void 0&&(this.zIndexSubOrder=r),this.name=(n=this.opts)==null?void 0:n.name}zIndexChanged(){var t;this.layer&&((t=this._layerManager)==null||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return this.layer!=null}_setLayerManager(t){var n,i;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(t),t&&((n=this.opts)!=null&&n.layer)){let{zIndex:r,zIndexSubOrder:o,name:s}=(i=this.opts)!=null?i:{},a=()=>this.getComputedOpacity(),l=()=>this.getVisibility();this.layer=t.addLayer({zIndex:r,zIndexSubOrder:o,name:s,getComputedOpacity:a,getVisibility:l})}}getComputedOpacity(){let t=1,n=this;do n instanceof Ju&&(t*=n.opacity);while(n=n.parent);return t}getVisibility(){let t=this,n=this.visible;for(;t=t.parent;)t.visible||(n=t.visible);return n}visibilityChanged(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,n=1){if(this.isVirtual){super.markDirty(t,n);return}let i=n;(n<2||this.layer!=null)&&(i=1),super.markDirty(t,n,i)}containsPoint(t,n){return!0}computeBBox(){return this.computeTransformMatrix(),Ju.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(t){var n,i;let{opts:{name:r=void 0}={},_debug:o=()=>{}}=this,{dirty:s,dirtyZIndex:a,layer:l,children:c,clipRect:d,dirtyTransform:h}=this,{ctx:u,forceRender:m,clipBBox:p}=t,{resized:f,stats:b}=t,y=u.getTransform(),v=s>=2||a||f,x=v,k=!1;for(let A of c)if(x||(x=A.layerManager==null&&A.dirty>=1),k||(k=A.layerManager!=null&&A.dirty>=1),x)break;if(r&&o({name:r,group:this,isDirty:v,isChildDirty:x,dirtyTransform:h,renderCtx:t,forceRender:m}),h)m="dirtyTransform";else if(l){let A=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(A))&&(m="dirtyTransform",this.lastBBox=A)}if(!v&&!x&&!k&&!m){r&&b&&o({name:r,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),l&&b&&(b.layersSkipped++,b.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}let w=this.visible;if(l){if(u=l.context,u.save(),u.resetTransform(),m!=="dirtyTransform"&&(m=x||a),m&&l.clear(),p){let{width:A,height:R,x:N,y:O}=p;o(()=>({name:r,clipBBox:p,ctxTransform:u.getTransform(),renderCtx:t,group:this})),this.clipCtx(u,N,O,A,R)}u.setTransform(y)}else u.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(u),d){let{x:A,y:R,width:N,height:O}=d;u.save(),o(()=>({name:r,clipRect:d,ctxTransform:u.getTransform(),renderCtx:t,group:this})),this.clipCtx(u,A,R,N,O),p=this.matrix.transformBBox(d)}let S=this.hasVirtualChildren();a?(this.sortChildren(c),m!=="dirtyTransform"&&(m=!0)):S&&this.sortChildren(c);let E=m!==t.forceRender||p!==t.clipBBox||u!==t.ctx?V(I({},t),{ctx:u,forceRender:m,clipBBox:p}):t,D=0;for(let A of c){if(!A.visible||!w){A.markClean(),b&&(D+=A.nodeCount.count);continue}if(!m&&A.dirty===0){b&&(D+=A.nodeCount.count);continue}u.save(),A.render(E),u.restore()}if(b&&(b.nodesSkipped+=D),super.render(t),d&&u.restore(),S)for(let A of this.virtualChildren)A.markClean({recursive:"virtual"});l&&(b&&b.layersRendered++,u.restore(),m&&l.snapshot(),(i=(n=l.context).verifyDepthZero)==null||i.call(n)),r&&b&&o({name:r,result:"rendered",skipped:D,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((n,i)=>{var r,o;return Uy([n.zIndex,...(r=n.zIndexSubOrder)!=null?r:[void 0,void 0],n.serialNumber],[i.zIndex,...(o=i.zIndexSubOrder)!=null?o:[void 0,void 0],i.serialNumber],Vy)})}clipCtx(t,n,i,r,o){t.beginPath(),t.moveTo(n,i),t.lineTo(n+r,i),t.lineTo(n+r,i+o),t.lineTo(n,i+o),t.closePath(),t.clip()}static computeBBox(t){let n=1/0,i=-1/0,r=1/0,o=-1/0;return t.forEach(s=>{if(!s.visible)return;let a=s.computeTransformedBBox();if(!a)return;let l=a.x,c=a.y;l<n&&(n=l),c<r&&(r=c),l+a.width>i&&(i=l+a.width),c+a.height>o&&(o=c+a.height)}),new Q(n,r,i-n,o-r)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};jm.className="Group";g([W({redraw:3,convertor:e=>gt(0,e,1)})],jm.prototype,"opacity",2);var Y=jm,Mn=class extends Li{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Q(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){var t;let{ctx:n,forceRender:i,stats:r}=e;if(this.dirty===0&&!i){r&&(r.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(n);let{x1:o,y1:s,x2:a,y2:l}=this;o=this.align(o),s=this.align(s),a=this.align(a),l=this.align(l);let{fill:c,opacity:d,isRange:h}=this;if(!!(h&&c)){let{fillOpacity:v}=this;n.fillStyle=c,n.globalAlpha=d*v,n.beginPath(),n.moveTo(o,s),n.lineTo(a,s),n.lineTo(a,l),n.lineTo(o,l),n.closePath(),n.fill()}let{stroke:m,strokeWidth:p,startLine:f,endLine:b}=this;if(!!((f||b)&&m&&p)){let{strokeOpacity:v,lineDash:x,lineDashOffset:k,lineCap:w,lineJoin:S}=this;n.strokeStyle=m,n.globalAlpha=d*v,n.lineWidth=p,x&&n.setLineDash(x),k&&(n.lineDashOffset=k),w&&(n.lineCap=w),S&&(n.lineJoin=S),n.beginPath(),f&&(n.moveTo(o,s),n.lineTo(a,s)),b&&(n.moveTo(a,l),n.lineTo(o,l)),n.stroke()}(t=this.fillShadow)==null||t.markClean(),super.render(e)}};Mn.className="Range";Mn.defaultStyles=V(I({},Li.defaultStyles),{strokeWidth:1});g([W({redraw:2})],Mn.prototype,"x1",2);g([W({redraw:2})],Mn.prototype,"y1",2);g([W({redraw:2})],Mn.prototype,"x2",2);g([W({redraw:2})],Mn.prototype,"y2",2);g([W({redraw:2})],Mn.prototype,"startLine",2);g([W({redraw:2})],Mn.prototype,"endLine",2);g([W({redraw:2})],Mn.prototype,"isRange",2);var be=class extends Ft{constructor(){super(...arguments),this.enabled=!0,this.color="#464646",this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Sr(this)}};g([_(Z)],be.prototype,"enabled",2);g([_(mt)],be.prototype,"color",2);g([_(Ar,{optional:!0})],be.prototype,"fontStyle",2);g([_(Rr,{optional:!0})],be.prototype,"fontWeight",2);g([_(L)],be.prototype,"fontSize",2);g([_(F)],be.prototype,"fontFamily",2);g([_(Oi,{optional:!0})],be.prototype,"formatter",2);function Gc(e){let{parallelFlipRotation:t=0,regularFlipRotation:n=0}=e,i=e.rotation?ae(ze(e.rotation)):0,r=!i&&t>=0&&t<=Math.PI?-1:1,o=!i&&n>=0&&n<=Math.PI?-1:1,s=0;return e.parallel?s=r*Math.PI/2:o===-1&&(s=Math.PI),{configuredRotation:i,defaultRotation:s,parallelFlipFlag:r,regularFlipFlag:o}}function VE(e,t){return isNaN(e)?t?0:10:e}function UE(e,t,n,i){return e&&!t?n*i===-1?"hanging":"bottom":"middle"}function Du(e,t,n,i,r){let o=t>0&&t<=Math.PI,s=n>0&&n<=Math.PI,a=o||s?-1:1;if(e)if(t||n){if(i*a===-1)return"end"}else return"center";else if(i*r===-1)return"end";return"start"}function GE(e,t,n,i,r){let{width:o,height:s}=t,a=new Q(n,i,0,0);r.transformBBox(a,t);let{x:l=0,y:c=0}=t;return t.width=o,t.height=s,{point:{x:l,y:c,size:0},label:{width:o,height:s,text:e}}}var Gy=(e=>(e[e.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",e[e.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",e[e.AXIS_ZINDEX=2]="AXIS_ZINDEX",e[e.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",e[e.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",e[e.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",e[e.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",e[e.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",e[e.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",e[e.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",e))(Gy||{}),Vm=e=>!!e&&Object.hasOwn(e,"toString")&&Ti(e.toString()),WE=e=>!!e&&Object.hasOwn(e,"valueOf")&&xt(e.valueOf()),Um=e=>xt(e)||WE(e)||cl(e);function Qa(e,t){if(t&&Um(e))return e;if(!t)return Ti(e)||Vm(e)?e:String(e)}function rs(e){return Vm(e)&&Object.hasOwn(e,"id")?e.id:e}var Gm=e=>e==="value"?Pt((t,n)=>n.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Pt((t,n)=>n.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),Wy=(e,t,n,i)=>{let r=e==="line"&&t!==void 0,o=e==="range"&&n!==void 0;if(!r&&!o)return!0;let[s,a]=n??[t,void 0],l=Ot.is(i),c=Qa(s,l)!=null&&!isNaN(i.convert(s)),d=Qa(a,l)!=null&&!isNaN(i.convert(a));if(r&&c||o&&c&&d)return!0;let h=["Expecting crossLine"];return o?(c||h.push(`range start ${Ua(s)}`),d||h.push(`${c?"":"and "}range end ${Ua(a)}`)):h.push(`value ${Ua(s)}`),h.push("to match the axis scale domain."),j.warnOnce(h.join(" ")),!1},$E={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},HE={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function wb({yDirection:e,padding:t=0,position:n="top",bbox:i}){let r=e?$E:HE,{xTranslationDirection:o,yTranslationDirection:s}=r[n],a=e?i.width:i.height,l=e?i.height:i.width,c=o*(t+a/2),d=s*(t+l/2);return{xTranslation:c,yTranslation:d}}function YE({yDirection:e,bbox:t,padding:n=0,position:i="top"}){let r={};return i.startsWith("inside")||(i==="top"&&!e?r.top=n+t.height:i==="bottom"&&!e?r.bottom=n+t.height:i==="left"&&e?r.left=n+t.width:i==="right"&&e&&(r.right=n+t.width)),r}var tm=({yDirection:e,xEnd:t,yStart:n,yEnd:i})=>e?{x:t/2,y:n}:{x:t,y:isNaN(i)?n:(n+i)/2},kb=({yDirection:e,xStart:t,xEnd:n,yStart:i,yEnd:r})=>e?{x:t,y:isNaN(r)?i:(i+r)/2}:{x:n/2,y:i},Sb=({yDirection:e,xEnd:t,yStart:n,yEnd:i})=>e?{x:t,y:isNaN(i)?n:(n+i)/2}:{x:t/2,y:isNaN(i)?n:i},Cb=({yDirection:e,xStart:t,xEnd:n,yStart:i,yEnd:r})=>e?{x:n/2,y:isNaN(r)?i:r}:{x:t,y:isNaN(r)?i:(i+r)/2},KE=({xEnd:e,yStart:t,yEnd:n})=>({x:e/2,y:isNaN(n)?t:(t+n)/2}),Db=({yDirection:e,xStart:t,xEnd:n,yStart:i})=>e?{x:t/2,y:i}:{x:n,y:i},Eb=({yDirection:e,xStart:t,yStart:n,yEnd:i})=>e?{x:t,y:isNaN(i)?n:i}:{x:t,y:n},Ib=({yDirection:e,xEnd:t,yStart:n,yEnd:i})=>e?{x:t,y:n}:{x:t,y:isNaN(i)?n:i},Ab=({yDirection:e,xStart:t,xEnd:n,yStart:i,yEnd:r})=>e?{x:n,y:isNaN(r)?i:r}:{x:t,y:isNaN(r)?i:r},XE={top:{c:tm},bottom:{c:Cb},left:{c:kb},right:{c:Sb},topLeft:{c:Db},topRight:{c:Ib},bottomLeft:{c:Eb},bottomRight:{c:Ab},inside:{c:KE},insideLeft:{c:kb},insideRight:{c:Sb},insideTop:{c:tm},insideBottom:{c:Cb},insideTopLeft:{c:Db},insideBottomLeft:{c:Eb},insideTopRight:{c:Ib},insideBottomRight:{c:Ab}},qE=le(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Pi=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};g([_(Z,{optional:!0})],Pi.prototype,"enabled",2);g([_(F,{optional:!0})],Pi.prototype,"text",2);g([_(Ar,{optional:!0})],Pi.prototype,"fontStyle",2);g([_(Rr,{optional:!0})],Pi.prototype,"fontWeight",2);g([_(L)],Pi.prototype,"fontSize",2);g([_(F)],Pi.prototype,"fontFamily",2);g([_(zt)],Pi.prototype,"padding",2);g([_(mt,{optional:!0})],Pi.prototype,"color",2);g([_(qE,{optional:!0})],Pi.prototype,"position",2);g([_(Ir,{optional:!0})],Pi.prototype,"rotation",2);g([_(Z,{optional:!0})],Pi.prototype,"parallel",2);var qe=class Na{constructor(){this.id=In(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new Pi,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new Y({name:`${this.id}`,layer:!0,zIndex:Na.LINE_LAYER_ZINDEX}),this.labelGroup=new Y({name:`${this.id}`,layer:!0,zIndex:Na.LABEL_LAYER_ZINDEX}),this.crossLineRange=new Mn,this.crossLineLabel=new bt,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;let{group:t,labelGroup:n,crossLineRange:i,crossLineLabel:r}=this;t.append(i),n.append(r),i.pointerEvents=1}update(t){let{enabled:n,data:i,type:r,value:o,range:s,scale:a}=this;if(!r||!a||!n||!t||!Wy(r,o,s,a)||i.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,n){if(!t||!this.createNodeData(n))return;let{sideFlag:r,gridLength:o,data:s}=this,a=[],l=0,c=r*o,d=s[0],h=s[1],u=new Q(Math.min(l,c),Math.min(d,h),Math.abs(l-c),Math.abs(d-h));a.push(u);let m=this.computeLabelBBox();return m&&a.push(m),Q.merge(a)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){var n,i,r;let{scale:o,gridLength:s,sideFlag:a,direction:l,label:{position:c="top"},clippedRange:d,strokeWidth:h=0}=this;if(this.data=[],!o)return!1;let u=(n=o.bandwidth)!=null?n:0,m=(i=o.step)!=null?i:0,p=(t?-1:1)*(o instanceof Dn?(m-u)/2:0),[f,b]=[0,a*s],[y,v]=this.getRange(),[x,k]=[Number(o.convert(y,{clampMode:"clamped"}))-p,o.convert(v,{clampMode:"clamped"})+u+p];x=Vc(x,d),k=Vc(k,d),[y,v]=[Number(o.convert(y)),o.convert(v)+u];let w=(y===x||v===k||x!==k)&&Math.abs(k-x)>0;if(w&&x>k&&([x,k]=[k,x],[y,v]=[v,y]),y-p>=x&&(y-=p),v+p<=k&&(v+=p),this.isRange=w,this.startLine=h>0&&y>=x&&y<=x+p,this.endLine=h>0&&v>=k-u-p&&v<=k,!w&&!this.startLine&&!this.endLine)return!1;if(this.data=[x,k],this.label.enabled){let S=l==="y",{c:C=tm}=(r=XE[c])!=null?r:{},{x:E,y:D}=C({yDirection:S,xStart:f,xEnd:b,yStart:x,yEnd:k});this.labelPoint={x:E,y:D}}return!0}updateRangeNode(){var t;let{crossLineRange:n,sideFlag:i,gridLength:r,data:o,startLine:s,endLine:a,isRange:l,fill:c,fillOpacity:d,stroke:h,strokeWidth:u,lineDash:m}=this;n.x1=0,n.x2=i*r,n.y1=o[0],n.y2=o[1],n.startLine=s,n.endLine=a,n.isRange=l,n.fill=c,n.fillOpacity=d??1,n.stroke=h,n.strokeWidth=u??1,n.strokeOpacity=(t=this.strokeOpacity)!=null?t:1,n.lineDash=m}updateLabel(){let{crossLineLabel:t,label:n}=this;n.text&&(t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.color,t.text=n.text)}positionLabel(){let{crossLineLabel:t,labelPoint:{x:n=void 0,y:i=void 0}={},label:{parallel:r,rotation:o,position:s="top",padding:a=0},direction:l,parallelFlipRotation:c,regularFlipRotation:d}=this;if(n===void 0||i===void 0)return;let{defaultRotation:h,configuredRotation:u}=Gc({rotation:o,parallel:r,regularFlipRotation:d,parallelFlipRotation:c});t.rotation=h+u,t.textBaseline="middle",t.textAlign="center";let m=t.computeTransformedBBox();if(!m)return;let p=l==="y",{xTranslation:f,yTranslation:b}=wb({yDirection:p,padding:a,position:s,bbox:m});t.translationX=n+f,t.translationY=i+b}getZIndex(t=!1){return t?Na.RANGE_LAYER_ZINDEX:Na.LINE_LAYER_ZINDEX}getRange(){var t;let{value:n,range:i,scale:r}=this,o=Ot.is(r),s=(t=i?.[0])!=null?t:n,a=i?.[1];return!o&&a===void 0&&(a=s),o&&s===a&&(a=void 0),[s,a]}computeLabelBBox(){let{label:t}=this;if(!t.enabled)return;let n=new bt;n.fontFamily=t.fontFamily,n.fontSize=t.fontSize,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.text=t.text;let{labelPoint:{x:i=void 0,y:r=void 0}={},label:{parallel:o,rotation:s,position:a="top",padding:l=0},direction:c,parallelFlipRotation:d,regularFlipRotation:h}=this;if(i===void 0||r===void 0)return;let{configuredRotation:u}=Gc({rotation:s,parallel:o,regularFlipRotation:h,parallelFlipRotation:d});n.rotation=u,n.textBaseline="middle",n.textAlign="center";let m=n.computeTransformedBBox();if(!m)return;let p=c==="y",{xTranslation:f,yTranslation:b}=wb({yDirection:p,padding:l,position:a,bbox:m});return n.translationX=i+f,n.translationY=r+b,n.computeTransformedBBox()}calculatePadding(t){var n,i,r,o,s,a,l,c;let{isRange:d,startLine:h,endLine:u,direction:m,label:{padding:p=0,position:f="top"}}=this;if(!d&&!h&&!u)return;let b=this.computeLabelBBox();if(b?.x==null||b?.y==null)return;let y=YE({yDirection:m==="y",padding:p,position:f,bbox:b});t.left=Math.max((n=t.left)!=null?n:0,(i=y.left)!=null?i:0),t.right=Math.max((r=t.right)!=null?r:0,(o=y.right)!=null?o:0),t.top=Math.max((s=t.top)!=null?s:0,(a=y.top)!=null?a:0),t.bottom=Math.max((l=t.bottom)!=null?l:0,(c=y.bottom)!=null?c:0)}};qe.LINE_LAYER_ZINDEX=8;qe.RANGE_LAYER_ZINDEX=3;qe.LABEL_LAYER_ZINDEX=7;qe.className="CrossLine";g([_(Z,{optional:!0})],qe.prototype,"enabled",2);g([_(le(["range","line"],"a crossLine type"),{optional:!0})],qe.prototype,"type",2);g([_(Rn(Gm("range"),gl.restrict({length:2})),{optional:!0})],qe.prototype,"range",2);g([_(Gm("value"),{optional:!0})],qe.prototype,"value",2);g([_(mt,{optional:!0})],qe.prototype,"fill",2);g([_(At,{optional:!0})],qe.prototype,"fillOpacity",2);g([_(mt,{optional:!0})],qe.prototype,"stroke",2);g([_(zt,{optional:!0})],qe.prototype,"strokeWidth",2);g([_(At,{optional:!0})],qe.prototype,"strokeOpacity",2);g([_(Zn,{optional:!0})],qe.prototype,"lineDash",2);var em=qe,$y=class{constructor(){this.moduleMap=new Map}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,t(e))}removeModule(e){var t;let n=Ti(e)?e:e.optionsKey;(t=this.moduleMap.get(n))==null||t.destroy(),this.moduleMap.delete(n)}isModuleEnabled(e){return this.moduleMap.has(Ti(e)?e:e.optionsKey)}getModule(e){return this.moduleMap.get(Ti(e)?e:e.optionsKey)}get modules(){return this.moduleMap.values()}mapValues(e){return Array.from(this.moduleMap.values()).map(e)}destroy(){for(let e of this.moduleMap.keys())this.removeModule({optionsKey:e})}},Hy={};Hn(Hy,{resetMotion:()=>xe});function xe(e,t){let{nodes:n,selections:i}=td(e);for(let r of i){for(let o of r.nodes()){let s=t(o,o.datum);o.setProperties(s)}r.cleanup()}for(let r of n){let o=t(r,r.datum);r.setProperties(o)}}var xl=class{constructor(e,t,n){this.states=t,this.preTransitionCb=n,this.debug=ne.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,"color: green")}transition(e,t){var n,i;let r=this.states[this.state],o=r?.[e];if(!o){this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${this.state}`,"color: grey");return}let s=this.state;return typeof o=="string"?s=o:typeof o=="object"&&(s=o.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${e} -> ${s}`,"color: green"),(n=this.preTransitionCb)==null||n.call(this,this.state,s),this.state=s,typeof o=="function"?o(t):typeof o=="object"&&((i=o.action)==null||i.call(o,t)),this.state}},os=e=>`(${e})`,jn=e=>`${os(e)}?`,Rb=e=>jn(`?:${e}`),ZE=(()=>{let e=".",t="[<>=^]",n="[+\\-( ]",i="[$\u20AC\xA3\xA5\u20A3\u20B9#]",r="0",o="\\d+",s=",",a="\\d+",l="~",c="[%a-z]";return new RegExp(["^",Rb(`${jn(e)}${os(t)}`),jn(n),jn(i),jn(r),jn(o),jn(s),Rb(`\\.${os(a)}`),jn(l),jn(c),"$"].join(""),"i")})(),QE=(()=>{let e=".*?",t=".+?",n=".*?";return new RegExp(["^",os(e),`#\\{${os(t)}\\}`,os(n),"$"].join(""))})();function Yy(e){let t,n,i=QE.exec(e);i&&([,t,e,n]=i);let r=ZE.exec(e);if(!r)throw new Error(`The number formatter is invalid: ${e}`);let[,o,s,a,l,c,d,h,u,m,p]=r;return{fill:o,align:s,sign:a,symbol:l,zero:c,width:parseInt(d),comma:h,precision:parseInt(u),trim:!!m,type:p,prefix:t,suffix:n}}function Ky(e){let t=typeof e=="string"?Yy(e):e,{fill:n,align:i,sign:r="-",symbol:o,zero:s,width:a,comma:l,type:c,prefix:d="",suffix:h="",precision:u}=t,{trim:m}=t,p=u===void 0||isNaN(u),f;if(!c)f=fi.g,m=!0;else if(c in fi&&c in Qo)f=p?Qo[c]:fi[c];else if(c in fi)f=fi[c];else if(c in Qo)f=Qo[c];else throw new Error(`The number formatter type is invalid: ${c}`);let b;return u==null||p?b=c?6:12:b=u,y=>{let v=f(y,b);return m&&(v=JE(v)),l&&(v=tI(v,l)),v=rI(y,v,r),o&&o!=="#"&&(v=`${o}${v}`),o==="#"&&c==="x"&&(v=`0x${v}`),c==="s"&&(v=`${v}${eI(y)}`),(c==="%"||c==="p")&&(v=`${v}%`),a!=null&&!isNaN(a)&&(v=oI(v,a,n??s,i)),v=`${d}${v}${h}`,v}}var vc=e=>Math.floor(Math.abs(e)),Qo={b:e=>vc(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>vc(e).toString(8),x:e=>vc(e).toString(16),X:e=>Qo.x(e).toUpperCase(),n:e=>Qo.d(e),"%":e=>`${vc(e*100).toFixed(0)}`},fi={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>fi.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>fi.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";let n=Math.abs(e),i=Math.floor(Math.log10(n));return i>=-4&&i<t?n.toFixed(t-1-i):n.toExponential(t-1)},G:(e,t)=>fi.g(e,t).toUpperCase(),n:(e,t)=>fi.g(e,t),p:(e,t)=>fi.r(e*100,t),r:(e,t)=>{if(e===0)return"0";let n=Math.abs(e),r=Math.floor(Math.log10(n))-(t-1);if(r<=0)return n.toFixed(-r);let o=Math.pow(10,r);return(Math.round(n/o)*o).toFixed()},s:(e,t)=>{let n=Xy(e);return fi.r(e/Math.pow(10,n),t)},"%":(e,t)=>fi.f(e*100,t)};function JE(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function tI(e,t){let n=e.indexOf(".");n<0&&(n=e.length);let i=e.substring(0,n).split(""),r=e.substring(n);for(let o=i.length-3;o>0;o-=3)i.splice(o,0,t);return`${i.join("")}${r}`}function eI(e){return iI[Xy(e)]}function Xy(e){return gt(qy,Math.floor(Math.log10(Math.abs(e))/3)*3,Zy)}var qy=-24,Zy=24,iI={[qy]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[Zy]:"Y"},nI="\u2212";function rI(e,t,n=""){if(n==="(")return e>=0?t:`(${t})`;let i=n==="+"?"+":"";return`${e>=0?i:nI}${t}`}function oI(e,t,n=" ",i=">"){let r=e;if(i===">"||!i)r=r.padStart(t,n);else if(i==="<")r=r.padEnd(t,n);else if(i==="^"){let o=Math.max(0,t-r.length),s=Math.ceil(o/2),a=Math.floor(o/2);r=r.padStart(s+r.length,n),r=r.padEnd(a+r.length,n)}return r}function Qy(e,t){let n=Yy(t??",f"),{precision:i}=n;(i==null||isNaN(i))&&(n.type==="f"||n.type==="%"?n.precision=Math.max(...e.map(o=>{if(typeof o!="number"||o===0)return 0;let s=Math.floor(Math.log10(Math.abs(o))),a=n.type?6:12,l=o.toExponential(a-1).replace(/\.?0+e/,"e"),c=l.indexOf(".");if(c<0)return s>=0?0:-s;let d=l.indexOf("e")-c;return Math.max(0,d-s-1)})):(!n.type||n.type in fi)&&(n.precision=Math.max(...e.map(o=>{if(typeof o!="number")return 0;let s=o.toExponential((n.type?6:12)-1).replace(/\.?0+e/,"e");return s.substring(0,s.indexOf("e")).replace(".","").length}))));let r=Ky(n);return o=>r(Number(o))}var Ja=(e,t=[])=>Object.assign(t,{fractionDigits:e});function sd(e,t,n,i,r){if(n<2)return tl(e,t,t-e);let o=hs(e,t,n,i,r);return isNaN(o)?Ja(0):(e=Math.ceil(e/o)*o,t=Math.floor(t/o)*o,tl(e,t,o))}var Jy=[1,2,5,10];function hs(e,t,n,i=0,r=1/0){let o=Math.abs(t-e),s=o/n,a=Math.floor(Math.log10(s)),l=Math.pow(10,a),c=Jy.map(d=>{let h=d*l,u=Math.ceil(o/h),m=u>=i&&u<=r,p=Math.abs(u-n);return{multiplier:d,isWithinBounds:m,diffCount:p}}).sort((d,h)=>d.isWithinBounds!==h.isWithinBounds?d.isWithinBounds?-1:1:d.diffCount-h.diffCount)[0].multiplier;return!c||isNaN(c)?NaN:c*l}function sI(e,t){let n=Math.abs(t-e),i=Math.floor(Math.log10(n)),r=Math.pow(10,i),o=e>t?Math.ceil:Math.floor,s=t<e?Math.floor:Math.ceil;return Jy.map(a=>{let l=a*r,c=o(e/l)*l,d=s(t/l)*l;return{error:1-n/Math.abs(d-c),domain:[c,d]}}).sort((a,l)=>a.error-l.error)[0].domain}function tl(e,t,n){let i=Math.min(e,t),r=Math.max(e,t),o=Im(n),s=Math.pow(10,o),a=Math.ceil((r-i)/n),l=Ja(o);for(let c=0;c<=a;c++){let d=i+n*c;l.push(Math.round(d*s)/s)}return l}var t0=class im extends Ot{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=fb,this.basePow=fb,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,j.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=im.getBaseLogMethod(this.base),this.basePow=im.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){let[t,n]=this.domain,i=t>n?Math.ceil:Math.floor,r=t>n?Math.floor:Math.ceil,o=this.pow(i(this.log(t))),s=this.pow(r(this.log(n)));this.niceDomain=[o,s]}ticks(){var t;let n=(t=this.tickCount)!=null?t:10;if(!this.domain||this.domain.length<2||n<1)return[];this.refresh();let i=this.base,[r,o]=this.getDomain(),s=Math.min(r,o),a=Math.max(r,o),l=this.log(s),c=this.log(a);if(this.interval){let b=Math.abs(this.interval),y=Math.abs(c-l),v=tl(l,c,Math.min(y,b));if(v=Ja(v.fractionDigits,v.map(x=>this.pow(x)).filter(x=>x>=s&&x<=a)),!this.isDenseInterval({start:s,stop:a,interval:b,count:v.length}))return v}let d=i%1===0,h=c-l>=n;if(!d||h){let b=sd(l,c,Math.min(c-l,n));return b=Ja(b.fractionDigits,b.map(y=>this.pow(y))),b}let u=[],m=s>0;l=Math.floor(l)-1,c=Math.round(c)+1;let p=ds(this.range)/n,f=1/0;for(let b=l;b<=c;b++){let y=this.convert(this.pow(b+1));for(let v=1;v<i;v++){let x=m?v:i-v+1,k=this.pow(b)*x,w=this.convert(k),S=Math.abs(f-w),C=Math.abs(w-y),E=S>=p&&C>=p;k>=s&&k<=a&&(v===1||E)&&(u.push(k),f=w)}}return u}tickFormat({count:t,ticks:n,specifier:i}){return t!==1/0&&n==null&&this.ticks(),i??(i=this.base===10?".0e":","),Ti(i)?Ky(i):i}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:let n=Math.log(t);return i=>Math.log(i)/n}}static getBasePowerMethod(t){switch(t){case 10:return n=>n>=0?nt(10,n):1/nt(10,-n);case Math.E:return Math.exp;default:return n=>nt(t,n)}}};g([oi],t0.prototype,"base",2);var Wm=t0,yc={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function $m(e,t=new Date(e.getFullYear(),0,1)){let n=e.getTimezoneOffset()-t.getTimezoneOffset(),i=e.getTime()-t.getTime()+n*6e4,r=36e5*24;return Math.floor(i/r)}function Tb(e,t){let i=new Date(e.getFullYear(),0,1).getDay(),r=(t-i+7)%7,o=new Date(e.getFullYear(),0,r+1);return o<=e?Math.floor($m(e,o)/7)+1:0}var aI=0,e0=1,Mb=4;function i0(e,t=e.getFullYear()){let i=new Date(t,0,1).getDay(),r=(Mb-i+7)%7,o=new Date(t,0,r-(Mb-e0)+1);return o<=e?Math.floor($m(e,o)/7)+1:i0(e,t-1)}function lI(e){let t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${Ne(Math.floor(n/60),2,"0")}${Ne(Math.floor(n%60),2,"0")}`}var cI={a:e=>yc.shortDays[e.getDay()],A:e=>yc.days[e.getDay()],b:e=>yc.shortMonths[e.getMonth()],B:e=>yc.months[e.getMonth()],c:"%x, %X",d:(e,t)=>Ne(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>Ne(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>Ne(e.getHours(),2,t??"0"),I:(e,t)=>{let n=e.getHours()%12;return n===0?"12":Ne(n,2,t??"0")},j:(e,t)=>Ne($m(e)+1,3,t??"0"),m:(e,t)=>Ne(e.getMonth()+1,2,t??"0"),M:(e,t)=>Ne(e.getMinutes(),2,t??"0"),L:(e,t)=>Ne(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>Ne(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>Ne(Tb(e,aI),2,t??"0"),V:(e,t)=>Ne(i0(e),2,t??"0"),w:(e,t)=>Ne(e.getDay(),2,t??"0"),W:(e,t)=>Ne(Tb(e,e0),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>Ne(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>Ne(e.getFullYear(),4,t??"0"),Z:e=>lI(e),"%":()=>"%"},dI={_:" ",0:"0","-":""};function Ne(e,t,n){let i=String(Math.floor(e));return i.length>=t?i:`${n.repeat(t-i.length)}${i}`}function nm(e){let t=[];for(;e.length>0;){let n=e.indexOf("%");if(n!==0){let a=n>0?e.substring(0,n):e;t.push(a)}if(n<0)break;let i=e[n+1],r=dI[i];r!=null&&n++;let o=e[n+1],s=cI[o];if(typeof s=="function")t.push([s,r]);else if(typeof s=="string"){let a=nm(s);t.push([a,r])}else t.push(`${r??""}${o}`);e=e.substring(n+2)}return n=>{let i=typeof n=="number"?new Date(n):n;return t.map(r=>typeof r=="string"?r:r[0](i,r[1])).join("")}}var to={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"};function Ii(e){return e instanceof Date?e.getTime():e}var Hm=class extends Ot{constructor(){super([],[0,1]),this.type="time",this.year=IC,this.month=CC,this.week=wC,this.day=fC,this.hour=uC,this.minute=cC,this.second=sC,this.millisecond=nC,this.tickIntervals=[[this.second,1,go],[this.second,5,5*go],[this.second,15,15*go],[this.second,30,30*go],[this.minute,1,Ye],[this.minute,5,5*Ye],[this.minute,15,15*Ye],[this.minute,30,30*Ye],[this.hour,1,vn],[this.hour,3,3*vn],[this.hour,6,6*vn],[this.hour,12,12*vn],[this.day,1,wr],[this.day,2,2*wr],[this.week,1,xa],[this.week,2,2*xa],[this.week,3,3*xa],[this.month,1,va],[this.month,2,2*va],[this.month,3,3*va],[this.month,4,4*va],[this.month,6,6*va],[this.year,1,bc]]}toDomain(e){return new Date(e)}calculateDefaultTickFormat(e=[]){let t=8,n=l=>{l<t&&(t=l)};for(let l of e){let c=this.getLowestGranularityFormat(l);n(c)}let i=Ii(e[0]),r=Ii(e.at(-1)),o=new Date(i).getFullYear(),a=new Date(r).getFullYear()-o>0;return this.buildFormatString(t,a)}buildFormatString(e,t){let n=[to[e]],i=0,r=this.getDomain(),o=ds(r.map(Ii));switch(e){case 1:o/Ye>1&&n.push(to[2]);case 2:o/vn>1&&n.push(to[3]);case 3:i=n.length,o/wr>1&&n.push(to[4]);case 4:if(o/xa>1||t){let s=n.indexOf(to[4]);s>-1&&n.splice(s,1,to[5])}case 5:case 6:(o/bc>1||t)&&n.push(to[8]);default:break}return i<n.length&&(n=[...n.slice(0,i),n.slice(i).join(" ")]),i>0&&(n=[...n.slice(0,i).reverse(),...n.slice(i)],i<n.length&&n.splice(i,0," ")),n.join("")}getLowestGranularityFormat(e){return this.second.floor(e)<e?0:this.minute.floor(e)<e?1:this.hour.floor(e)<e?2:this.day.floor(e)<e?3:this.month.floor(e)<e?this.week.floor(e)<e?4:5:this.year.floor(e)<e?6:8}defaultTickFormat(e){let t=this.calculateDefaultTickFormat(e);return n=>nm(t)(n)}getTickInterval({start:e,stop:t,count:n,minCount:i,maxCount:r}){let{tickIntervals:o}=this,s,a,l=n??Ot.defaultTickCount,c=Math.abs(t-e)/Math.max(l,1),d=0;for(;d<o.length&&c>o[d][2];)d++;if(d===0)a=Math.max(hs(e,t,l,i,r),1),s=this.millisecond;else if(d===o.length){let h=e/bc,u=t/bc;a=hs(h,u,l,i,r),s=this.year}else{let h=c-o[d-1][2],u=o[d][2]-c,m=h<u?d-1:d;[s,a]=o[m]}return s.every(a)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();let[e,t]=this.getDomain().map(Ii),n=Math.min(e,t),i=Math.max(e,t);if(this.interval!==void 0)return this.getTicksForInterval({start:n,stop:i});if(this.nice){let{tickCount:r}=this;if(r===2)return this.niceDomain;if(r===1)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:n,stop:i})}getDefaultTicks({start:e,stop:t}){let n=this.getTickInterval({start:e,stop:t,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return n?n.range(new Date(e),new Date(t)):[]}getTicksForInterval({start:e,stop:t}){let{interval:n,tickIntervals:i}=this;if(!n)return[];if(n instanceof Ya){let d=n.range(new Date(e),new Date(t));return this.isDenseInterval({start:e,stop:t,interval:n,count:d.length})?this.getDefaultTicks({start:e,stop:t}):d}let r=Math.abs(n);if(this.isDenseInterval({start:e,stop:t,interval:r}))return this.getDefaultTicks({start:e,stop:t});let o=[...i];o.reverse();let s=o.find(d=>r%d[2]===0);if(s)return s[0].every(r/(s[2]/s[1])).range(new Date(e),new Date(t));let a=new Date(e),l=new Date(t),c=[];for(;a<=l;)c.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+r);return c}tickFormat({ticks:e,specifier:t}){return t==null?this.defaultTickFormat(e):nm(t)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,n]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(t,n);let[r,o]=this.niceDomain;if(Ii(t)===Ii(r)&&Ii(n)===Ii(o))break;t=r,n=o}}updateNiceDomainIteration(e,t){let n=Math.min(Ii(e),Ii(t)),i=Math.max(Ii(e),Ii(t)),r=e>t,{interval:o}=this,s;if(o instanceof Ya)s=o;else{let a=typeof o=="number"?(i-n)/Math.max(o,1):this.tickCount;s=this.getTickInterval({start:n,stop:i,count:a,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(s){let a=s.range(new Date(n),new Date(i),!0),l=r?[...a].reverse():a,c=l[0],d=l.at(-1);this.niceDomain=[c,d]}}},Yt=class uo{constructor(t,n,i=!0){this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=ne.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(ys,n)?()=>new n:n}static select(t,n,i=!0){return new uo(t,n,i)}static selectAll(t,n){let i=[],r=o=>{n(o)&&i.push(o),o.children.forEach(r)};return r(t),i}static selectByClass(t,n){return uo.selectAll(t,i=>i instanceof n)}static selectByTag(t,n){return uo.selectAll(t,i=>i.tag===n)}createNode(t,n,i){let r=this.nodeFactory(t);return r.datum=t,n?.(r),i!=null?this._nodes.splice(i,0,r):this._nodes.push(r),this.parentNode.appendChild(r),r}update(t,n,i){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),i){let r=new Map(t.map((o,s)=>[i(o),[o,s]]));for(let[o,s]of this._nodesMap.entries())if(r.has(s)){let[a]=r.get(s);o.datum=a,this.garbageBin.delete(o),r.delete(s)}else this.garbageBin.add(o);for(let[o,[s,a]]of r.entries())this._nodesMap.set(this.createNode(s,n,a),o)}else{let r=Math.max(t.length,this.data.length);for(let o=0;o<r;o++)o>=t.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(t[o],n):(this._nodes[o].datum=t[o],this.garbageBin.delete(this._nodes[o]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),this.parentNode.removeChild(t),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){return this._nodes.forEach((n,i)=>t(n,n.datum,i)),this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){let n=this._nodes[t],i=this._nodes[t].datum;yield{node:n,datum:i,index:t}}}select(t){return uo.selectAll(this.parentNode,t)}selectByClass(t){return uo.selectByClass(this.parentNode,t)}selectByTag(t){return uo.selectByTag(this.parentNode,t)}nodes(){return this._nodes}},ke=class extends Li{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}computeBBox(){return new Q(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){if(this.x1===this.x2||this.y1===this.y2){let{x:n,y:i}=this.transformPoint(e,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(n,i)}return!1}render(e){var t;let{ctx:n,forceRender:i,stats:r,devicePixelRatio:o}=e;if(this.dirty===0&&!i){r&&(r.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(n);let{x1:s,y1:a,x2:l,y2:c}=this;if(s===l){let{strokeWidth:d}=this,h=Math.round(s*o)/o+Math.trunc(d*o)%2/(o*2);s=h,l=h}else if(a===c){let{strokeWidth:d}=this,h=Math.round(a*o)/o+Math.trunc(d*o)%2/(o*2);a=h,c=h}n.beginPath(),n.moveTo(s,a),n.lineTo(l,c),this.fillStroke(n),(t=this.fillShadow)==null||t.markClean(),super.render(e)}};ke.className="Line";ke.defaultStyles=Object.assign({},Li.defaultStyles,{fill:void 0,strokeWidth:1});g([W({redraw:3})],ke.prototype,"x1",2);g([W({redraw:3})],ke.prototype,"y1",2);g([W({redraw:3})],ke.prototype,"x2",2);g([W({redraw:3})],ke.prototype,"y2",2);function hI(e,t,n,i,r){let o=e.x;e.x<t?o=t:e.x>t+i&&(o=t+i);let s=e.y;e.y<n?s=n:e.y>n+r&&(s=n+r);let a=e.x-o,l=e.y-s;return Math.sqrt(a*a+l*l)<=e.size*.5}function n0(e,t,n,i,r){let o=e.x+e.width>t&&e.x<t+i,s=e.y+e.height>n&&e.y<n+r;return o&&s}function uI(e,t,n,i,r){return t+i<e.x+e.width&&t>e.x&&n>e.y&&n+r<e.y+e.height}function mI(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}function pI(e,t,n=5){let i=[];e=e.map(r=>r.slice().sort((o,s)=>s.point.size-o.point.size));for(let r=0;r<e.length;r++){let o=i[r]=[],s=e[r];if(s?.length&&s[0].label)for(let a=0,l=s.length;a<l;a++){let c=s[a],d=c.label,h=c.point.size*.5,u=c.point.x-d.width*.5,m=c.point.y-h-d.height-n,{width:p,height:f}=d;!(!t||uI(t,u,m,p,f))||e.some(x=>x.some(k=>hI(k.point,u,m,p,f)))||i.some(x=>x.some(k=>n0(k,u,m,p,f)))||o.push({index:a,text:d.text,x:u,y:m,width:p,height:f,datum:c})}}return i}function fI(e,t){let n=[];for(let i=0;i<e.length;i++){let r=e[i],{point:{x:o,y:s},label:{text:a}}=r,{label:{width:l,height:c}}=r;if(l+=t??0,c+=t??0,n.some(h=>n0(h,o,s,l,c)))return!0;n.push({index:i,text:a,x:o,y:s,width:l,height:c,datum:r})}return!1}function gI(e,t){return e.length===t.length&&e.every((n,i)=>Number(n)===Number(t[i]))}var bI=["stroke","lineDash"],vI=qn(e=>Cn(e)&&Object.keys(e).every(t=>bI.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),ad=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};g([_(Z)],ad.prototype,"enabled",2);g([_(L)],ad.prototype,"width",2);g([_(vI)],ad.prototype,"style",2);function Jn(e,t=[void 0]){return Gn((n,i,r)=>t.includes(r)?ps(e)?e(r):e:r)}var ve=class{constructor(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0}getSideFlag(){return this.mirrored?1:-1}getFont(){return Sr(this)}};g([_(Z)],ve.prototype,"enabled",2);g([_(Z,{optional:!0})],ve.prototype,"autoWrap",2);g([_(L,{optional:!0})],ve.prototype,"maxWidth",2);g([_(L,{optional:!0})],ve.prototype,"maxHeight",2);g([_(Ar,{optional:!0})],ve.prototype,"fontStyle",2);g([_(Rr,{optional:!0})],ve.prototype,"fontWeight",2);g([_(zt.restrict({min:1}))],ve.prototype,"fontSize",2);g([_(F)],ve.prototype,"fontFamily",2);g([_(L)],ve.prototype,"padding",2);g([_(_s),Jn(NaN)],ve.prototype,"minSpacing",2);g([_(mt,{optional:!0})],ve.prototype,"color",2);g([_(Ir,{optional:!0})],ve.prototype,"rotation",2);g([_(Z)],ve.prototype,"avoidCollisions",2);g([_(Z)],ve.prototype,"mirrored",2);g([_(Z)],ve.prototype,"parallel",2);g([_(F,{optional:!0})],ve.prototype,"format",2);var wl=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}};g([_(Z)],wl.prototype,"enabled",2);g([_(L)],wl.prototype,"width",2);g([_(mt,{optional:!0})],wl.prototype,"color",2);var yI=Pt(e=>xt(e)&&e>0||e instanceof Ya,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),tn=class{constructor(){this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}};g([_(Z)],tn.prototype,"enabled",2);g([_(L)],tn.prototype,"width",2);g([_(L)],tn.prototype,"size",2);g([_(mt,{optional:!0})],tn.prototype,"color",2);g([_(yI,{optional:!0})],tn.prototype,"interval",2);g([_(gl,{optional:!0})],tn.prototype,"values",2);g([_(Ty),Jn(NaN)],tn.prototype,"minSpacing",2);function rm(e){let[t,n]=Wn(e.range),i=Math.floor(t),r=Math.ceil(n);return{min:i,max:r,visible:i!==r}}var om=Math.PI*2,_I=om/2;function xI(e,t){return Math.abs(t-e)<_I?t:e>t?t+om:t-om}function r0(e){let t=(s,a)=>{let[l=e.min,c=e.max]=Wn(a??[]);return s<l||s>c};return{tick:{fromFn(s,a,l){let c=s.y1+s.translationY,d=s.opacity;return(l==="added"||t(s.datum.translationY,s.datum.range))&&(c=a.translationY,d=0),{y:0,translationY:c,opacity:d,phase:Ke[l]}},toFn(s,a,l){let c=a.translationY,d=1;return l==="removed"&&(d=0),{y:0,translationY:c,opacity:d,finish:{y:c,translationY:0}}},intermediateFn(s,a,l){return{visible:!t(s.y)}}},line:{fromFn(s,a){var l;return V(I({},(l=s.previousDatum)!=null?l:a),{phase:Ke.updated})},toFn(s,a){return I({},a)}},label:{fromFn(s,a,l){var c;let d=(c=s.previousDatum)!=null?c:a,h=d.x,u=d.y,m=d.rotationCenterX,p=Math.round(s.translationY),f=d.rotation,b=s.opacity;return l==="removed"||t(d.y,d.range)||(l==="added"||t(s.datum.y,s.datum.range))&&(p=Math.round(d.translationY),b=0,f=a.rotation),{x:h,y:u,rotationCenterX:m,translationY:p,rotation:f,opacity:b,phase:Ke[l]}},toFn(s,a,l){var c,d;let h=a.x,u=a.y,m=a.rotationCenterX,p=Math.round(a.translationY),f=0,b=1;return l==="added"?(b=1,f=a.rotation):l==="removed"?(b=0,f=a.rotation):f=xI((d=(c=s.previousDatum)==null?void 0:c.rotation)!=null?d:a.rotation,a.rotation),{x:h,y:u,rotationCenterX:m,translationY:p,rotation:f,opacity:b,finish:{rotation:a.rotation}}}},group:{fromFn(s,a){let{rotation:l,translationX:c,translationY:d}=s;return{rotation:l,translationX:c,translationY:d,phase:Ke.updated}},toFn(s,a){let{rotation:l,translationX:c,translationY:d}=a;return{rotation:l,translationX:c,translationY:d}}}}}function o0(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function s0(e){let{visible:t,min:n,max:i}=e;return(r,o)=>{let s=o.translationY,a=t&&s>=n&&s<=i;return{y:s,translationY:0,opacity:1,visible:a}}}function a0(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function l0(){return(e,t)=>I({},t)}var c0=(e=>(e[e.TickLine=0]="TickLine",e[e.TickLabel=1]="TickLabel",e[e.GridLine=2]="GridLine",e[e.GridArc=3]="GridArc",e[e.AxisLine=4]="AxisLine",e))(c0||{}),Do=class d0{constructor(t,n,i){this.moduleCtx=t,this.scale=n,this.id=In(this),this.nice=!0,this.reverse=!1,this.keys=[],this.dataDomain={domain:[],clipped:!1},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Y({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new ke),this.tickLineGroup=this.axisGroup.appendChild(new Y({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new Y({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new Y({name:`${this.id}-CrossLines`}),this.gridGroup=new Y({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new Y({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=Yt.select(this.tickLineGroup,ke,!1),this.tickLabelGroupSelection=Yt.select(this.tickLabelGroup,bt,!1),this.gridLineGroupSelection=Yt.select(this.gridLineGroup,ke,!1),this.line=new wl,this.tick=this.createTick(),this.gridLine=new ad,this.label=this.createLabel(),this.defaultTickMinSpacing=d0.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new Zt,this.gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new $y,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.interactionManager.addListener("hover",o=>this.checkAxisHover(o))),this.animationManager=t.animationManager,this.animationState=new xl("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:o=>this.animateReadyUpdate(o),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let r;this.destroyFns.push(t.layoutService.addListener("layout-complete",o=>{r!=null&&bi(o.chart,r)!=null&&this.animationState.transition("resize"),r=I({},o.chart)})),i?.respondsToZoom!==!1&&this.destroyFns.push(t.updateService.addListener("update-complete",o=>{this.minRect=o.minRect}))}get type(){var t;return(t=this.constructor.type)!=null?t:""}set crossLines(t){var n,i;(n=this._crossLines)==null||n.forEach(r=>this.detachCrossLine(r)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,(i=this._crossLines)==null||i.forEach(r=>{this.attachCrossLine(r),this.initCrossLine(r)})}get crossLines(){return this._crossLines}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}refreshScale(){var t;this.range=this.scale.range.slice(),(t=this.crossLines)==null||t.forEach(this.initCrossLine,this)}updateRange(){var t;let{range:n,visibleRange:i,scale:r}=this,o=(n[1]-n[0])/(i[1]-i[0]),s=o*i[0],a=n[0]-s;r.range=[a,a+o],(t=this.crossLines)==null||t.forEach(l=>{l.clippedRange=[n[0],n[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,n){n.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)}detachAxis(t,n){n.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)}inRange(t,n=0,i=0){let[r,o]=Wn(this.range);return t+n>=r-i&&t<=o+i}onLabelFormatChange(t,n){let{scale:i,fractionDigits:r}=this,s=!(i instanceof Wm)&&r>0?a=>typeof a=="number"?a.toFixed(r):String(a):a=>String(a);if(n&&i&&i.tickFormat)try{this.labelFormatter=i.tickFormat({ticks:t,specifier:n})}catch{this.labelFormatter=s,j.warnOnce(`the axis label format string ${n} is invalid. No formatting will be applied`)}else this.labelFormatter=s}setTickInterval(t){var n;this.scale.interval=(n=this.tick.interval)!=null?n:t}setTickCount(t,n,i){let{scale:r}=this;if(t&&Ot.is(r)){if(typeof t=="number"){r.tickCount=t,r.minTickCount=n??0,r.maxTickCount=i??1/0;return}r instanceof Hm&&this.setTickInterval(t)}}onGridLengthChange(t,n){var i;(n&&!t||!n&&t)&&this.onGridVisibilityChange(),(i=this.crossLines)==null||i.forEach(this.initCrossLine,this)}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createTick(){return new tn}createLabel(){return new ve}checkAxisHover(t){!this.interactionEnabled||!this.computeBBox().containsPoint(t.offsetX,t.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t=0,n=!0){if(!this.tickGenerationResult)return;let{rotation:i,parallelFlipRotation:r,regularFlipRotation:o}=this.calculateRotations(),s=this.label.getSideFlag();this.updatePosition();let a=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:c,textBaseline:d,textAlign:h,primaryTickCount:u}=this.tickGenerationResult,m=this.tickLabelGroupSelection.nodes().map(p=>p.datum.tickId);if(this.updateSelections(a,l.ticks,{combinedRotation:c,textAlign:h,textBaseline:d,range:this.scale.range}),!n||this.animationManager.isSkipped())this.resetSelectionNodes();else{let p=this.calculateUpdateDiff(m,l);this.animationState.transition("update",p)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(s),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:i,parallelFlipRotation:r,regularFlipRotation:o}),this.updateLayoutState(),u}getAxisLineCoordinates(){let[t,n]=Wn(this.range);return{x:0,y1:t,y2:n}}getTickLineCoordinates(t){let i=this.label.getSideFlag()*this.getTickSize(),r=Math.min(0,i),o=r+Math.abs(i),s=t.translationY;return{x1:r,x2:o,y:s}}getTickLabelProps(t,n){let{label:i}=this,{combinedRotation:r,textBaseline:o,textAlign:s,range:a}=n,l=t.tickLabel,d=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding),h=l!==""&&l!=null;return{tickId:t.tickId,translationY:t.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:r,rotationCenterX:d,text:l,textAlign:s,textBaseline:o,visible:h,x:d,y:0,range:a}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(t,n){var i;let{title:r}=this;if(!r){t.enabled=!1;return}if(t.color=r.color,t.fontFamily=r.fontFamily,t.fontSize=r.fontSize,t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.enabled=r.enabled,t.wrapping=r.wrapping,r.enabled){let o=t.node,s=((i=r.spacing)!=null?i:0)+n.spacing,a=this.label.getSideFlag(),l=ae(this.rotation),c=a===-1&&l>Math.PI&&l<Math.PI*2?-1:1,d=c*a*Math.PI/2,h=c===1?"bottom":"top",{range:u}=this,m=Math.floor(c*a*(u[0]+u[1])/2),p=Math.floor(a===-1?c*-s:-s),{callbackCache:f}=this.moduleCtx,{formatter:b=v=>v.defaultValue}=r,y=f.call(b,this.getTitleFormatterParams());o.setProperties({rotation:d,text:y,textBaseline:h,visible:!0,x:m,y:p})}}calculateLayout(t){var n,i;let{rotation:r,parallelFlipRotation:o,regularFlipRotation:s}=this.calculateRotations(),a=this.label.getSideFlag(),l=a*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:o,regularFlipRotation:s,labelX:l,sideFlag:a}),this.updateLayoutState();let c=this.tickGenerationResult,{tickData:d,combinedRotation:h,textBaseline:u,textAlign:m}=c,p=we(c,["tickData","combinedRotation","textBaseline","textAlign"]),f=[],{x:b,y1:y,y2:v}=this.getAxisLineCoordinates(),x=new Q(b+Math.min(a*this.seriesAreaPadding,0),y,this.seriesAreaPadding,v-y);if(f.push(x),this.tick.enabled&&d.ticks.forEach(E=>{let{x1:D,x2:A,y:R}=this.getTickLineCoordinates(E),N=new Q(D,R,A-D,0);f.push(N)}),this.label.enabled){let E=new bt;d.ticks.forEach(D=>{let A=this.getTickLabelProps(D,{combinedRotation:h,textAlign:m,textBaseline:u,range:this.scale.range});if(!A.visible)return;E.setProperties(V(I({},A),{translationY:Math.round(D.translationY)}));let R=E.computeTransformedBBox();R&&f.push(R)})}let k=E=>{let D=new $i,{rotation:A,translationX:R,translationY:N,rotationCenterX:O,rotationCenterY:U}=this.getAxisTransform();return $i.updateTransformMatrix(D,1,1,A,R,N,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:O,rotationCenterY:U}),D.transformBBox(E)};if((n=this.title)!=null&&n.enabled){let E=new Zt,D=Q.merge(f).width;this.setTitleProps(E,{spacing:D});let R=E.node.computeTransformedBBox();R&&f.push(R)}let w=Q.merge(f),S=k(w),C=this.isAnySeriesActive();return(i=this.crossLines)==null||i.forEach(E=>{var D;E.sideFlag=-a,E.direction=r===-Math.PI/2?"x":"y",E instanceof em&&(E.label.parallel=(D=E.label.parallel)!=null?D:this.label.parallel),E.parallelFlipRotation=o,E.regularFlipRotation=s,E.calculateLayout(C,this.reverse)}),t=p.primaryTickCount,{primaryTickCount:t,bbox:S}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.tick.interval);let{scale:t,nice:n}=this;Ot.is(t)&&(t.nice=n,t.update())}calculateRotations(){let t=ze(this.rotation),n=ae(t),i=ae(t-Math.PI/2);return{rotation:t,parallelFlipRotation:n,regularFlipRotation:i}}generateTicks({primaryTickCount:t,parallelFlipRotation:n,regularFlipRotation:i,labelX:r,sideFlag:o}){var s;let{scale:a,tick:l,label:{parallel:c,rotation:d,fontFamily:h,fontSize:u,fontStyle:m,fontWeight:p}}=this,f=t!==void 0,{defaultRotation:b,configuredRotation:y,parallelFlipFlag:v,regularFlipFlag:x}=Gc({rotation:d,parallel:c,regularFlipRotation:i,parallelFlipRotation:n}),k=y+b,w=new $i,{maxTickCount:S}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(s=l.maxSpacing)!=null?s:NaN}),E=!Ot.is(a)||isNaN(S)?10:S,D=Du(c,y,0,o,x),A=UE(c,y,o,v),R={fontFamily:h,fontSize:u,fontStyle:m,fontWeight:p,textBaseline:A,textAlign:D},N={rawTicks:[],ticks:[],labelCount:0},O=0,U=0,rt=!0,J=!1;for(;rt&&O<=E&&!J;){U=0,D=Du(c,y,0,o,x);let ot=this.getTickStrategies({secondaryAxis:f,index:O});for(let vt of ot){({tickData:N,index:O,autoRotation:U,terminate:J}=vt({index:O,tickData:N,textProps:R,labelOverlap:rt,terminate:J,primaryTickCount:t}));let at=y!==0||U!==0,pt=k+U;D=Du(c,y,U,o,x),rt=this.checkLabelOverlap(pt,at,w,N.ticks,r,V(I({},R),{textAlign:D}))}}let dt=b+y+U;return!f&&N.rawTicks.length>0&&(t=N.rawTicks.length),{tickData:N,primaryTickCount:t,combinedRotation:dt,textBaseline:A,textAlign:D}}getTickStrategies({index:t,secondaryAxis:n}){let{scale:i,label:r,tick:o}=this,s=Ot.is(i),a=r.enabled&&r.avoidCollisions,l=!s&&t!==0&&a,c=r.autoRotate===!0&&r.rotation===void 0,d=[],h;this.tick.values?h=3:n?h=1:l?h=2:h=0;let u=({index:m,tickData:p,primaryTickCount:f,terminate:b})=>this.createTickData(h,m,p,b,f);if(d.push(u),!s&&!isNaN(o.minSpacing)){let m=({index:p,tickData:f,primaryTickCount:b,terminate:y})=>this.createTickData(2,p,f,y,b);d.push(m)}if(!a)return d;if(r.autoWrap){let m=({index:p,tickData:f,textProps:b})=>this.wrapLabels(f,p,b);d.push(m)}else if(c){let m=({index:p,tickData:f,labelOverlap:b,terminate:y})=>({index:p,tickData:f,autoRotation:this.getAutoRotation(b),terminate:y});d.push(m)}return d}createTickData(t,n,i,r,o){var s;let{scale:a,tick:l}=this,{maxTickCount:c,minTickCount:d,defaultTickCount:h}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(s=l.maxSpacing)!=null?s:NaN}),u=Ot.is(a),m=!u||isNaN(c)?10:c,p=u?Math.max(h-n,d):c,f=l.interval===void 0&&l.values===void 0&&p>d&&(u||t===2),b=!0;for(;b&&n<=m;){let v=i.rawTicks;p=u?Math.max(h-n,d):c;let{rawTicks:x,ticks:k,labelCount:w}=this.getTicks({tickGenerationType:t,previousTicks:v,tickCount:p,minTickCount:d,maxTickCount:c,primaryTickCount:o});i.rawTicks=x,i.ticks=k,i.labelCount=w,b=f?gI(x,v):!1,n++}let y=l.interval!==void 0||l.values!==void 0;return r||(r=y),{tickData:i,index:n,autoRotation:0,terminate:r}}checkLabelOverlap(t,n,i,r,o,s){$i.updateTransformMatrix(i,1,1,t,0,0);let a=this.createLabelData(r,o,s,i),l=VE(this.label.minSpacing,n);return fI(a,l)}createLabelData(t,n,i,r){let o=[];for(let s of t){let{tickLabel:a,translationY:l}=s;if(a===""||a==null)continue;let c=Fy(a),{width:d,height:h}=FE(c,n,l,i),u=new Q(n,l,d,h),m=GE(a,u,n,l,r);o.push(m)}return o}getAutoRotation(t){var n;return t?ae(ze((n=this.label.autoRotateAngle)!=null?n:0)):0}getTicks({tickGenerationType:t,previousTicks:n,tickCount:i,minTickCount:r,maxTickCount:o,primaryTickCount:s}){var a;let{range:l,scale:c,visibleRange:d}=this,h;switch(t){case 3:if(Ot.is(c)){let v=c.getDomain(),x=c.fromDomain(v[0]),k=c.fromDomain(v[1]),w=Math.min(x,k),S=Math.max(x,k);h=this.tick.values.filter(C=>C>=w&&C<=S).sort((C,E)=>C-E)}else h=this.tick.values;break;case 1:h=this.updateSecondaryAxisTicks(s);break;case 2:h=this.filterTicks(n,i);break;default:h=this.createTicks(i,r,o);break}this.fractionDigits=h.fractionDigits>=0?h.fractionDigits:0,this.onLabelFormatChange(h,this.label.format);let u=((a=c.bandwidth)!=null?a:0)/2,m=[],p=0,f=new Map,b=Math.max(0,Math.floor(d[0]*h.length)),y=Math.min(h.length,Math.ceil(d[1]*h.length));for(let v=b;v<y;v++){let x=h[v],k=c.convert(x)+u;if(l.length>0&&!this.inRange(k,0,.001))continue;let w=this.formatTick(x,v),S=w;if(f.has(S)){let C=f.get(S);f.set(S,C+1),S=`${S}_${C}`}else f.set(S,1);m.push({tick:x,tickId:S,tickLabel:w,translationY:k}),!(w===""||w==null)&&p++}return{rawTicks:h,ticks:m,labelCount:p}}filterTicks(t,n){var i;let o=!isNaN(this.tick.minSpacing)||!isNaN((i=this.tick.maxSpacing)!=null?i:NaN)?Math.ceil(t.length/n):2;return t.filter((s,a)=>a%o===0)}createTicks(t,n,i){var r,o,s;return this.setTickCount(t,n,i),(s=(o=(r=this.scale).ticks)==null?void 0:o.call(r))!=null?s:[]}estimateTickCount({minSpacing:t,maxSpacing:n}){let{minRect:i}=this,r=this.calculateRangeWithBleed(),o=Math.max(this.defaultTickMinSpacing,r/Ot.defaultMaxTickCount),s=!isNaN(n);isNaN(t)&&(t=o),isNaN(n)&&(n=r),t>n&&(t===o?t=n:n=t);let a=i?this.direction==="x"?i.width:i.height:1;s&&(s=a<o);let l=gt(1,Math.floor(r/t),s?Math.floor(r/a):1/0),c=Math.min(l,Math.ceil(r/n)),d=gt(c,Ot.defaultTickCount,l);return{minTickCount:c,maxTickCount:l,defaultTickCount:d}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:n,regularFlipRotation:i}){var r;let o=this.label.getSideFlag(),s=this.isAnySeriesActive();(r=this.crossLines)==null||r.forEach(a=>{var l;a.sideFlag=-o,a.direction=t===-Math.PI/2?"x":"y",a instanceof em&&(a.label.parallel=(l=a.label.parallel)!=null?l:this.label.parallel),a.parallelFlipRotation=n,a.regularFlipRotation=i,a.update(s)})}updateTickLines(){let{tick:t,label:n}=this,i=n.getSideFlag();this.tickLineGroupSelection.each(r=>{r.strokeWidth=t.width,r.stroke=t.color,r.x1=i*this.getTickSize(),r.x2=0})}calculateAvailableRange(){return ds(this.range)}calculateRangeWithBleed(){let t=1/ds(this.visibleRange);return Em(this.calculateAvailableRange()*t,2)}calculateDomain(){let n=this.boundSeries.filter(i=>this.includeInvisibleDomains||i.isEnabled()).flatMap(i=>i.getDomain(this.direction));this.setDomain(n)}getAxisTransform(){return{rotation:ze(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){let{crossLineGroup:t,axisGroup:n,gridGroup:i,translation:r,gridLineGroupSelection:o,gridPadding:s,gridLength:a}=this,{rotation:l}=this.calculateRotations(),c=this.label.getSideFlag(),d=Math.floor(r.x),h=Math.floor(r.y);t.setProperties({rotation:l,translationX:d,translationY:h}),i.setProperties({rotation:l,translationX:d,translationY:h}),n.datum=this.getAxisTransform(),o.each(u=>{u.x1=s,u.x2=-c*a+s})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,n,i){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?n:[],r=>r.append(new ke({tag:2})),r=>r.tickId),this.tickLineGroupSelection.update(n,r=>r.appendChild(new ke({tag:0})),r=>r.tickId),this.tickLabelGroupSelection.update(n.map(r=>this.getTickLabelProps(r,i)),r=>r.appendChild(new bt({tag:1})),r=>r.tickId)}updateAxisLine(){let{line:t}=this,n=t.enabled?t.width:0;this.lineNode.setProperties({stroke:t.color,strokeWidth:n})}updateGridLines(t){let{gridLine:{style:n,width:i},gridPadding:r,gridLength:o}=this;o===0||n.length===0||this.gridLineGroupSelection.each((s,a,l)=>{let{stroke:c,lineDash:d}=n[l%n.length];s.setProperties({x1:r,x2:-t*o+r,fill:void 0,stroke:c,strokeWidth:i,lineDash:d})})}updateLabels(){let{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((n,i)=>{n.setProperties(i,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,n,i){let{parallel:r,maxWidth:o,maxHeight:s}=this.label,a=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return r&&([a,l]=[l,a]),t.ticks.forEach(c=>{let{text:d}=bt.wrap(c.tickLabel,o??a,s??l,i,"hyphenate");c.tickLabel=d}),{tickData:t,index:n,autoRotation:0,terminate:!0}}updateTitle(t){let{rotation:n,title:i,_titleCaption:r,lineNode:o,tickLineGroup:s,tickLabelGroup:a}=this;if(!i){r.enabled=!1;return}let l=0;if(i.enabled&&t.anyTickVisible){let c=Y.computeBBox([s,a,o]),d=n===0?c.width:c.height;l+=d+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(r,{spacing:l})}formatTick(t,n){var i,r;let{label:o,labelFormatter:s,fractionDigits:a,moduleCtx:{callbackCache:l}}=this;if(o.formatter){let c=a>0?t:String(t);return(i=l.call(o.formatter,{value:c,index:n,fractionDigits:a,formatter:s}))!=null?i:c}else if(s)return(r=l.call(s,t))!=null?r:String(t);return String(t)}formatDatum(t){return String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,n,i,r){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new Q(t,n,i,r))}clipGrid(t,n,i,r){this.gridGroup.setClipRectInGroupCoordinateSpace(new Q(t,n,i,r))}calculatePadding(t,n,i){let r=Math.abs(i?n:t)*.01;return[r,r]}getTitleFormatterParams(){var t;let n=this.boundSeries.reduce((i,r)=>{let o=r.getKeys(this.direction),s=r.getNames(this.direction);for(let a=0;a<o.length;a++)i.push({key:o[a],name:s[a]});return i},[]);return{direction:this.direction,boundSeries:n,defaultValue:(t=this.title)==null?void 0:t.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return I({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize()},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){var t;return(t=this.axisContext)!=null||(this.axisContext=this.createAxisContext()),V(I({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:Ot.is(this.scale),keys:()=>this.boundSeries.flatMap(t=>t.getKeys(this.direction)),scaleValueFormatter:t=>{var n,i;return(i=(n=this.scale).tickFormat)==null?void 0:i.call(n,{specifier:t})},scaleBandwidth:()=>{var t;return(t=this.scale.bandwidth)!=null?t:0},scaleConvert:t=>this.scale.convert(t),scaleInvert:t=>{var n,i;return(i=(n=this.scale).invert)==null?void 0:i.call(n,t)}}}animateReadyUpdate(t){let{animationManager:n}=this.moduleCtx,i=rm(this),r=r0(i);Ht(this.id,"axis-group",n,[this.axisGroup],r.group),Ht(this.id,"line",n,[this.lineNode],r.line),Ht(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(o,s)=>s.tickId,t),Ht(this.id,"tick-labels",n,[this.tickLabelGroupSelection],r.label,(o,s)=>s.tickId,t)}resetSelectionNodes(){let{gridLineGroupSelection:t,tickLineGroupSelection:n,tickLabelGroupSelection:i,lineNode:r}=this,o=rm(this);xe([this.axisGroup],o0()),xe([t,n],s0(o)),xe([i],a0()),xe([r],l0())}calculateUpdateDiff(t,n){let i=new Set,r=new Set,o={},s=Math.max(t.length,n.ticks.length);for(let a=0;a<s;a++){let l=n.ticks[a],c=t[a],d=l?.tickId;o[d??c]=l,c!==d&&(r.has(d)?r.delete(d):d&&i.add(d),i.has(c)?i.delete(c):c&&r.add(c))}return{changed:i.size>0||r.size>0,added:Array.from(i.values()),removed:Array.from(r.values())}}isReversed(){return this.reverse}};Do.defaultTickMinSpacing=50;g([_(Z)],Do.prototype,"nice",2);g([_(Z)],Do.prototype,"reverse",2);g([_(Dy)],Do.prototype,"keys",2);g([_(Pt(e=>typeof e=="object","Title object"),{optional:!0})],Do.prototype,"title",2);g([xs((e,t,n)=>e.onGridLengthChange(t,n))],Do.prototype,"gridLength",2);var Ym=Do,Km=class extends ve{constructor(){super(...arguments),this.autoRotateAngle=335}};g([_(Z,{optional:!0})],Km.prototype,"autoRotate",2);g([_(Ir)],Km.prototype,"autoRotateAngle",2);var Xm=class h0 extends Ym{constructor(){super(...arguments),this.thickness=0,this.position="left"}static is(t){return t instanceof h0}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,n){return this.updateDirection(),super.update(t,n)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return V(I({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(t){jy(t,em)}createLabel(){return new Km}};g([_(L)],Xm.prototype,"thickness",2);g([_(Pm)],Xm.prototype,"position",2);var kl=Xm,$n=class extends kl{constructor(e){super(e,new Dn),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(e){this.scale.paddingOuter=e}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(e){let t=[],n=new Set;for(let i of e){let r=i instanceof Date?i.getTime():i;n.has(r)||(n.add(r),t.push(i))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){let e=this.boundSeries.map(t=>{var n;return(n=t.getBandScalePadding)==null?void 0:n.call(t)}).filter(t=>t!=null);e.length>0&&(this.scale.paddingInner=Math.min(...e.map(t=>t.inner)),this.scale.paddingOuter=Math.max(...e.map(t=>t.outer)))}return super.calculateDomain()}};$n.className="CategoryAxis";$n.type="category";g([_(At)],$n.prototype,"groupPaddingInner",2);var u0=class{constructor(e="",t,n=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=n}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((e,t)=>t!==this.number):[]}};function wI(e,t=!0){let n=new u0,i=0;return t&&e.forEach(r=>i=Math.max(i,r.labels.length)),e.forEach(r=>{if(t)for(;r.labels.length<i;)r.labels.unshift("");kI(n,r)}),n}function kI(e,t){let n=t.labels.slice().reverse(),i=n.length-1;n.forEach((r,o)=>{let s=e.children,a=s.find(c=>c.label===r),l=o!==i;if(a&&l)e=a;else{let c=new u0(r,e);c.number=s.length,s.push(c),l&&(e=c)}})}function SI(e,t,n){let i=t.number-e.number,r=n/i;t.change-=r,t.shift+=n,e.change+=r,t.prelim+=n,t.mod+=n}function CI(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function DI(e){let t=e.children;if(t){let n=0,i=0;for(let r=t.length-1;r>=0;r--){let o=t[r];o.prelim+=n,o.mod+=n,i+=o.change,n+=o.shift+i}}}function EI(e,t,n){let i=e.getLeftSibling();if(i){let r=e,o=e,s=i,a=o.getLeftmostSibling(),l=o.mod,c=r.mod,d=s.mod,h=a.mod;for(;s.nextRight()&&o.nextLeft();){s=s.nextRight(),o=o.nextLeft(),a=a.nextLeft(),r=r.nextRight(),r.ancestor=e;let u=s.prelim+d-(o.prelim+l)+n;u>0&&(SI(CI(s,e,t),e,u),l+=u,c+=u),d+=s.mod,l+=o.mod,h+=a.mod,c+=r.mod}s.nextRight()&&!r.nextRight()?(r.thread=s.nextRight(),r.mod+=d-c):(o.nextLeft()&&!a.nextLeft()&&(a.thread=o.nextLeft(),a.mod+=l-h),t=e)}return t}function m0(e,t){let n=e.children;if(n.length){let i=n[0];n.forEach(s=>{m0(s,t),i=EI(s,i,t)}),DI(e);let r=(n[0].prelim+n.at(-1).prelim)/2,o=e.getLeftSibling();o?(e.prelim=o.prelim+t,e.mod=e.prelim-r):e.prelim=r}else{let i=e.getLeftSibling();e.prelim=i?i.prelim+t:0}}var Lb=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){let{x:n,y:i}=t(e);n>this.right&&(this.right=n),n<this.left&&(this.left=n),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)}};function p0(e,t,n){e.x=e.prelim+t,e.y=e.depth,n.update(e),e.children.forEach(i=>p0(i,t+e.mod,n))}function f0(e){let t=e.children,n=0;t.forEach(i=>{f0(i),i.children.length?n+=i.leafCount:n++}),e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function II(e){let t=new AI;return m0(e,1),p0(e,-e.prelim,t),f0(e),t}var AI=class{constructor(){this.dimensions=new Lb,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,t=>({x:t.x,y:t.y})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t,n=0,i=0,r=!1){let o=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,c=1;if(e>0&&o){let m=(a.right-a.left)/o;l=e/o/m,r&&(l=-l)}if(t>0&&s){let m=(a.bottom-a.top)/s;c=t/s/m}let d=new Lb;this.nodes.forEach(m=>{m.screenX=m.x*l,m.screenY=m.y*c,d.update(m,p=>({x:p.screenX,y:p.screenY}))});let h=-d.left,u=-d.top;this.nodes.forEach(m=>{m.screenX+=h+n,m.screenY+=u+i})}},g0=class extends ve{constructor(){super(...arguments),this.grid=!1}};g([_(Z)],g0.prototype,"grid",2);var Cr=class extends kl{constructor(e){super(e,new Dn),this.tickScale=new Dn,this.line=new wl,this.label=new g0,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;let{tickLineGroup:t,tickLabelGroup:n,gridLineGroup:i,tickScale:r,scale:o}=this;o.paddingOuter=.1,o.paddingInner=o.paddingOuter*2,this.refreshScale(),r.paddingInner=1,r.paddingOuter=0,this.gridLineSelection=Yt.select(i,ke),this.axisLineSelection=Yt.select(t,ke),this.separatorSelection=Yt.select(t,ke),this.labelSelection=Yt.select(n,bt)}updateRange(){let{range:e,visibleRange:t,scale:n}=this,i=(e[1]-e[0])/(t[1]-t[0]),r=i*t[0],o=e[0]-r;this.tickScale.range=n.range=[o,o+i],this.resizeTickTree()}resizeTickTree(){var e;let t=this.scale,n=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,i=this.tickTreeLayout,r=this.lineHeight;i&&i.resize(Math.abs(n[1]-n[0]),i.depth*r,(Math.min(n[0],n[1])||0)+((e=t.bandwidth)!=null?e:0)/2,-i.depth*r,n[1]-n[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var e;let{direction:t}=this,n=null,i=this.boundSeries.filter(o=>o.visible).flatMap(o=>{if(t==="y"||n)return o.getDomain(t);if(n===null){let s=o.getDomain(t);return n=Hi(s[0]),s}return[]});this.setDomain((e=En(i))!=null?e:Sm(i));let{domain:r}=this.dataDomain;this.tickTreeLayout=II(wI(r)),this.tickScale.domain=r.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){let{_titleCaption:e}=this;e.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;let{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each((n,i)=>{n.setProperties(i)})}updateSeparators(){if(!this.computedLayout)return;let{separatorLayout:e}=this.computedLayout,{range:t}=this,n=1e-7;this.separatorSelection.update(e).each((r,o)=>{r.x1=o.x1,r.x2=o.x2,r.y1=o.y,r.y2=o.y,r.visible=o.y>=t[0]-n&&o.y<=t[1]+n,r.stroke=this.tick.color,r.fill=void 0,r.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;let{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each((n,i)=>{n.setProperties(V(I({},i),{stroke:this.line.color,strokeWidth:this.line.width})),n.x1=i.x,n.x2=i.x,n.y1=i.y1,n.y2=i.y2,n.strokeWidth=this.line.width,n.stroke=this.line.color})}updateCategoryGridLines(){let{gridLength:e,gridLine:t,label:n,range:i,tickScale:r}=this,o=r.ticks(),s=n.getSideFlag(),a=this.gridLineSelection.update(e?o:[]);if(e){let{width:l,style:c}=t,d=c.length;a.each((h,u,m)=>{let p=Math.round(r.convert(u));h.x1=0,h.x2=-s*e,h.y1=p,h.y2=p,h.visible=p>=i[0]&&p<=i[1];let{stroke:f,lineDash:b}=c[m%d];h.stroke=f,h.strokeWidth=l,h.lineDash=b,h.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();let{scale:e,label:t,label:{parallel:n},moduleCtx:{callbackCache:i},range:r,title:o,title:{formatter:s=$=>$.defaultValue}={}}=this,a=e.range[0],l=e.range[1],d=Math.abs(l-a)/e.domain.length||0,h=Math.ceil(t.fontSize/d),u=ze(this.rotation),m=Math.abs(Math.cos(u))<1e-8,p=t.getSideFlag(),f=this.lineHeight,b=this.tickTreeLayout,y=e.ticks(),v=b?b.nodes:[],x=b?b.depth>1:!1,{defaultRotation:k,configuredRotation:w,parallelFlipFlag:S}=Gc({rotation:t.rotation,parallel:n,regularFlipRotation:ae(u-Math.PI/2),parallelFlipRotation:ae(u)}),C=[],E=$=>({fill:$.fill,fontFamily:$.fontFamily,fontSize:$.fontSize,fontStyle:$.fontStyle,fontWeight:$.fontWeight,rotation:$.rotation,rotationCenterX:$.rotationCenterX,rotationCenterY:$.rotationCenterY,text:$.text,textAlign:$.textAlign,textBaseline:$.textBaseline,translationX:$.translationX,translationY:$.translationY,visible:$.visible,x:$.x,y:$.y}),D=new Map,A=0,R=new bt,N=($,wt)=>{var Qt;if(R.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:S===-1?"bottom":"hanging",translationX:$.screenY-t.fontSize*.25,translationY:$.screenX}),wt===0){if(!(o?.enabled&&y.length>0))return!1;let ce=i.call(s,this.getTitleFormatterParams());R.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:ce,textBaseline:"hanging",translationX:$.screenY-t.fontSize*.25,translationY:$.screenX})}else{if(wt%h!==0)return!1;if(!($.screenX>=r[0]&&$.screenX<=r[1]))return!1;t.formatter?R.text=(Qt=i.call(t.formatter,{value:String($.label),index:wt}))!=null?Qt:String($.label):R.text=String($.label)}return!0};v.forEach(($,wt)=>{if(!N($,wt))return;let Jt=R.computeTransformedBBox();if(!Jt)return;D.set(wt,Jt),!$.children.length&&Jt.width>A&&(A=Jt.width)});let O=p*t.padding,U=this.label.grid,rt=[];v.forEach(($,wt)=>{let Qt=N($,wt),Jt=wt;R.x=O,R.rotationCenterX=O;let ce=!$.children.length;if(ce)R.rotation=w,R.textAlign="end",R.textBaseline="middle";else{R.translationX-=A-f+this.label.padding;let Ie=$.leafCount*d,ti=D.get(Jt);ti&&ti.width>Ie?(Qt=!1,D.delete(Jt)):m?R.rotation=k:R.rotation=-Math.PI/2}if($.parent&&x){let Ie=ce?$.screenX-d/2:$.screenX-$.leafCount*d/2;if(ce)($.number!==$.children.length-1||U)&&rt.push({y:Ie,x1:0,x2:-A-this.label.padding*2});else{let ti=-A-this.label.padding*2+$.screenY;rt.push({y:Ie,x1:ti+f,x2:ti})}}let xi;if(Qt){let Ie=R.computeTransformedBBox();Ie&&D.set(wt,Ie),xi=V(I({},E(R)),{visible:Qt})}else D.delete(wt),xi={visible:Qt};C.push(xi)});let J=0;rt.forEach($=>J=Math.min(J,$.x2)),rt.push({y:Math.max(a,l),x1:0,x2:J});let dt=[],ot=[],vt=1e-7;rt.forEach($=>{if($.y>=r[0]-vt&&$.y<=r[1]+vt){let{x1:wt,x2:Qt,y:Jt}=$,ce=new Q(Math.min(wt,Qt),Jt,Math.abs(wt-Qt),0);ot.push(ce),dt.push({x1:wt,x2:Qt,y:Jt})}});let at=[],pt=[],Vt=b?b.depth+1:1;for(let $=0;$<Vt;$++){let wt=y.length>0&&($===0||U&&x),Qt=$>0?-A-this.label.padding*2-($-1)*f:0,Jt=new Q(Qt,Math.min(...r),0,Math.abs(r[1]-r[0]));pt.push(Jt),at.push({x:Qt,y1:r[0],y2:r[1],visible:wt})}let Ee=$=>{let wt=new $i,{rotation:Qt,translationX:Jt,translationY:ce,rotationCenterX:xi,rotationCenterY:Ie}=this.getAxisTransform();return $i.updateTransformMatrix(wt,1,1,Qt,Jt,ce,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:xi,rotationCenterY:Ie}),wt.transformBBox($)},Ue=Q.merge([...D.values(),...ot,...pt]);return{bbox:Ee(Ue),tickLabelLayout:C,separatorLayout:dt,axisLineLayout:at}}calculateLayout(){let{axisLineLayout:e,separatorLayout:t,tickLabelLayout:n,bbox:i}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:n},{bbox:i,primaryTickCount:void 0}}};Cr.className="GroupedCategoryAxis";Cr.type="grouped-category";g([_(mt,{optional:!0})],Cr.prototype,"labelColor",2);var Ob=class{constructor({width:e=600,height:t=300,overrideDevicePixelRatio:n}){this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(e,t),this.realContext=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.context=this.setPixelRatio(n),this.resize(e,t)}static isSupported(){return typeof OffscreenCanvas<"u"&&OffscreenCanvas.prototype.transferToImageBitmap!=null}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}get pixelRatio(){return this._pixelRatio}setPixelRatio(e){let t=e??window.devicePixelRatio;return Ly()&&(t=1),this._pixelRatio=t,re.overrideScale(this.realContext,t)}get width(){return this._width}get height(){return this._height}resize(e,t){if(!(e>0&&t>0))return;let{canvas:n,context:i,pixelRatio:r}=this;n.width=Math.round(e*r),n.height=Math.round(t*r),i.resetTransform(),this._width=e,this._height=t}},Eu="adv-composite",Iu="dom-composite",qm=class{constructor(e){this.id=In(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug=ne.create(!0,"scene");var t;let{document:n,window:i,mode:r=(t=Gu("agChartsSceneRenderModel"))!=null?t:Eu,width:o,height:s,overrideDevicePixelRatio:a=void 0}=e;this.overrideDevicePixelRatio=a,this.opts={document:n,window:i,mode:r},this.canvas=new re({document:n,window:i,width:o,height:s,overrideDevicePixelRatio:a})}set container(e){this.canvas.container=e}get container(){return this.canvas.container}download(e,t){this.canvas.download(e,t)}getDataURL(e){return this.canvas.getDataURL(e)}get width(){return this.pendingSize?this.pendingSize[0]:this.canvas.width}get height(){return this.pendingSize?this.pendingSize[1]:this.canvas.height}resize(e,t){e=Math.round(e),t=Math.round(t);let n=e<=0||t<=0,i=isNaN(e)||isNaN(t);return e===this.width&&t===this.height||i||n?!1:(this.pendingSize=[e,t],this.markDirty(),!0)}addLayer(e){var t;let{mode:n}=this.opts;if(!["composite",Iu,Eu].includes(n))return;let{zIndex:r=this._nextZIndex++,name:o,zIndexSubOrder:s,getComputedOpacity:a,getVisibility:l}=e,{width:c,height:d,overrideDevicePixelRatio:h}=this,u=n===Iu,p=!(n===Eu)||!Ob.isSupported()?new re({document:this.opts.document,window:this.opts.window,width:c,height:d,domLayer:u,zIndex:r,name:o,overrideDevicePixelRatio:h}):new Ob({width:c,height:d,overrideDevicePixelRatio:h}),f={id:this._nextLayerId++,name:o,zIndex:r,zIndexSubOrder:s,canvas:p,getComputedOpacity:a,getVisibility:l};if(r>=this._nextZIndex&&(this._nextZIndex=r+1),this.layers.push(f),this.sortLayers(),u){let b=this.layers.map(x=>x.canvas).filter(x=>x instanceof re),y=b.findIndex(x=>x===p);((t=b[y-1])!=null?t:this.canvas).element.insertAdjacentElement("afterend",p.element)}return this.debug("Scene.addLayer() - layers",this.layers),f.canvas}removeLayer(e){let t=this.layers.findIndex(n=>n.canvas===e);t>=0&&(this.layers.splice(t,1),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layers))}moveLayer(e,t,n){let i=this.layers.find(r=>r.canvas===e);i&&(i.zIndex=t,i.zIndexSubOrder=n,this.sortLayers(),this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layers))}sortLayers(){this.layers.sort((e,t)=>{var n,i;return Uy([e.zIndex,...(n=e.zIndexSubOrder)!=null?n:[void 0,void 0],e.id],[t.zIndex,...(i=t.zIndexSubOrder)!=null?i:[void 0,void 0],t.id],Vy)})}markDirty(){this._dirty=!0}get dirty(){return this._dirty}set root(e){var t;e!==this._root&&((t=this._root)==null||t._setLayerManager(),this._root=e,e&&e._setLayerManager({addLayer:n=>this.addLayer(n),moveLayer:(...n)=>this.moveLayer(...n),removeLayer:(...n)=>this.removeLayer(...n),markDirty:()=>this.markDirty(),canvas:this.canvas,debug:ne.create("scene")}),this.markDirty())}get root(){return this._root}strip(){let{layers:e}=this;for(let t of e)t.canvas.destroy(),delete t.canvas;e.splice(0,e.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()}destroy(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})}render(e){return T(this,null,function*(){var t,n;let{debugSplitTimes:i={start:performance.now()},extraDebugStats:r={}}=e??{},{canvas:o,canvas:{context:s},root:a,layers:l,pendingSize:c,opts:{mode:d}}=this;if(c&&(this.canvas.resize(...c),this.layers.forEach(m=>m.canvas.resize(...c)),this.pendingSize=void 0),a&&!a.visible){this._dirty=!1;return}if(a&&!this.dirty){this.debug("Scene.render() - no-op",{redrawType:yr[a.dirty],tree:this.buildTree(a)}),this.debugStats(i,s,void 0,r);return}let h={ctx:s,devicePixelRatio:(t=this.canvas.pixelRatio)!=null?t:1,forceRender:!0,resized:!!c,debugNodes:{}};ne.check("scene:stats:verbose")&&(h.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let u=!1;if((!a||a.dirty>=1)&&(u=!0,o.clear()),a&&ne.check("scene:dirtyTree")){let{dirtyTree:m,paths:p}=this.buildDirtyTree(a);ne.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:m,paths:p})}a&&u&&(this.debug("Scene.render() - before",{redrawType:yr[a.dirty],canvasCleared:u,tree:this.buildTree(a)}),a.visible&&(s.save(),a.render(h),s.restore())),i["\u270D\uFE0F"]=performance.now(),d!==Iu&&l.length>0&&u&&(this.sortLayers(),s.save(),s.setTransform(1/o.pixelRatio,0,0,1/o.pixelRatio,0,0),l.forEach(({canvas:{imageSource:m,enabled:p},getComputedOpacity:f,getVisibility:b})=>{!p||!b()||(s.globalAlpha=f(),s.drawImage(m,0,0))}),s.restore(),i["\u26D9"]=performance.now()),(n=s.verifyDepthZero)==null||n.call(s),this._dirty=!1,this.debugStats(i,s,h.stats,r),this.debugSceneNodeHighlight(s,h.debugNodes),a&&this.debug("Scene.render() - after",{redrawType:yr[a.dirty],canvasCleared:u,tree:this.buildTree(a)})})}debugStats(e,t,n,i={}){if(ne.check("scene:stats","scene:stats:verbose")){let r=performance.now(),o=e.start;e.end=performance.now();let s=(w,S)=>{let C=w+S;return`${w} / ${C} (${Math.round(100*w/C)}%)`},a=(w,S,C)=>`${w}: ${Math.round((C-S)*100)/100}ms`,{layersRendered:l=0,layersSkipped:c=0,nodesRendered:d=0,nodesSkipped:h=0}=n??{},u=0,m=Object.entries(e).filter(([w])=>w!=="end").map(([w,S],C)=>{let E=C>0?a(w,u,S):null;return u=S,E}).filter(w=>w!=null).join(" + "),p=Object.entries(i).map(([w,S])=>`${w}: ${S}`).join(" ; "),f=ne.check("scene:stats:verbose"),y=[`${a("\u23F1\uFE0F",o,r)} (${m})`,`${p}`,`Layers: ${f?s(l,c):this.layers.length}`,f?`Nodes: ${s(d,h)}`:null].filter(w=>w!=null).map(w=>[w,re.getTextSize(w,t.font)]),v=Math.max(...y.map(([,{width:w}])=>w)),x=y.reduce((w,[,{height:S}])=>w+S,0);t.save(),t.fillStyle="white",t.fillRect(0,0,v,x),t.fillStyle="black";let k=0;for(let[w,S]of y)k+=S.height,t.fillText(w,2,k);t.restore()}}debugSceneNodeHighlight(e,t){var n;let i=s=>a=>s.test(a.id)?!0:a instanceof Y&&a.name!=null&&s.test(a.name),r=s=>a=>s===a.id?!0:a instanceof Y&&a.name!=null&&s===a.name,o=jc(Gu("agChartsSceneDebug")).flatMap(s=>s==="layout"?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:s);for(let s of o){if(typeof s=="string"&&t[s]!=null)continue;let a=typeof s=="string"?r(s):i(s),l=(n=this.root)==null?void 0:n.findNodes(a);if(!l||l.length===0){j.log(`Scene.render() - no debugging node with id [${s}] in scene graph.`);continue}for(let c of l)c instanceof Y&&c.name?t[c.name]=c:t[c.id]=c}e.save();for(let[s,a]of Object.entries(t)){let l=a.computeTransformedBBox();if(!l){j.log(`Scene.render() - no bbox for debugged node [${s}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(l.x,l.y,l.width,l.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(s,l.x,l.y,l.width),e.fillText(s,l.x,l.y,l.width)}e.restore()}buildTree(e){var t,n;let i=(t=e instanceof Y?e.name:null)!=null?t:e.id;return this.debug.check()?I(I({name:i,node:e,dirty:yr[e.dirty]},(n=e.parent)!=null&&n.isVirtual?{virtualParentDirty:yr[e.parent.dirty],virtualParent:e.parent}:{}),e.children.map(r=>this.buildTree(r)).reduce((r,o)=>{let{name:s}=o,{node:{visible:a,opacity:l,zIndex:c,zIndexSubOrder:d},node:h,virtualParent:u}=o;(!a||l<=0)&&(s=`(${s})`),h instanceof Y&&h.isLayer()&&(s=`*${s}*`);let m=[`${s??"<unknown>"}`,`z: ${c}`,d&&`zo: ${d.map(b=>typeof b=="function"?`${b()} (fn)`:b).join(" / ")}`,u&&"(virtual parent)"].filter(b=>!!b).join(" "),p=m,f=1;for(;r[p]!=null&&f<100;)p=`${m} (${f++})`;return r[p]=o,r},{})):{}}buildDirtyTree(e){var t;if(e.dirty===0)return{dirtyTree:{},paths:[]};let n=e.children.map(o=>this.buildDirtyTree(o)).filter(o=>o.paths.length>0),i=(t=e instanceof Y?e.name:null)!=null?t:e.id,r=n.length===0?[i]:n.map(o=>o.paths).reduce((o,s)=>o.concat(s),[]).map(o=>`${i}.${o}`);return{dirtyTree:I({name:i,node:e,dirty:yr[e.dirty]},n.map(o=>o.dirtyTree).filter(o=>o.dirty!==void 0).reduce((o,s)=>{var a;return o[(a=s.name)!=null?a:"<unknown>"]=s,o},{})),paths:r}}};qm.className="Scene";function RI(e){return new Promise(t=>{setTimeout(()=>t(void 0),e)})}var TI=class{constructor(){this.cache=new WeakMap}call(e,...t){let n,i=this.cache.get(e),r=()=>{try{let o=e(...t);return i&&n!=null&&i.set(n,o),o}catch(o){j.warnOnce("User callback errored, ignoring",o);return}};try{n=JSON.stringify(t)}catch{return r()}return i==null&&(i=new Map,this.cache.set(e,i)),i.has(n)?i.get(n):r()}invalidateCache(){this.cache=new WeakMap}},MI=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext()})}acquireImmediately(e){return T(this,null,function*(){return this.available?(yield this.acquire(e),!0):!1})}waitForClearAcquireQueue(){return T(this,null,function*(){return this.acquire(()=>T(this,null,function*(){}))})}dispatchNext(){return T(this,null,function*(){var e,t;this.available=!1;let[n,i]=(e=this.acquireQueue.shift())!=null?e:[];for(;n;){try{yield n(),i?.()}catch(r){j.error("mutex callback error",r),i?.()}[n,i]=(t=this.acquireQueue.shift())!=null?t:[]}this.available=!0})}},b0=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");let n=this.eventListeners.get(e);n?n.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){var n;(n=this.eventListeners.get(e))==null||n.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){var t;(t=this.eventListeners.get(e.type))==null||t.forEach(n=>n(e))}},Mr=class extends Ft{constructor(e=0,t=e,n=e,i=t){super(),this.top=e,this.right=t,this.bottom=n,this.left=i}clear(){this.top=this.right=this.bottom=this.left=0}};g([_(L)],Mr.prototype,"top",2);g([_(L)],Mr.prototype,"right",2);g([_(L)],Mr.prototype,"bottom",2);g([_(L)],Mr.prototype,"left",2);function LI(e){return v0((t,n)=>requestAnimationFrame(t),e)}function OI(e){return v0((t,n=0)=>setTimeout(t,n),e)}function v0(e,t){let n=0,i=!1,r,o,s=()=>i,a=()=>{i=!1,o?.(),o=void 0,r=void 0,n>0&&e(l)},l=()=>{let c=n;n=0,i=!0;let d=t({count:c});if(!d){a();return}d.then(a,a)};return{schedule(c){n===0&&!s()&&e(l,c),n++},await(){return T(this,null,function*(){if(s())for(r==null&&(r=new Promise(c=>{o=c}));s();)yield r})}}}var Ai=class{static init(t){if(typeof ResizeObserver>"u"){for(let[n,i]of this.elements)this.checkClientSize(n,i);return}this.resizeObserver=new ResizeObserver(n=>{for(let i of n){let{width:r,height:o}=i.contentRect;this.checkSize(this.elements.get(i.target),i.target,r,o)}}),this.ownerDocument=t,this.ready=!0,this.documentReady=t.readyState!=="loading",this.documentReady||t.addEventListener("DOMContentLoaded",this.onContentLoaded)}static destroy(){var t,n;(t=this.ownerDocument)==null||t.removeEventListener("DOMContentLoaded",this.onContentLoaded),(n=this.resizeObserver)==null||n.disconnect(),delete this.resizeObserver,delete this.ownerDocument,this.ready=!1}static checkSize(t,n,i,r){var o,s;t&&(i!==((o=t.size)==null?void 0:o.width)||r!==((s=t.size)==null?void 0:s.height))&&(t.size={width:i,height:r},t.cb(t.size,n))}static observe(t,n){var i;if(this.ready||this.init(t.ownerDocument),!this.documentReady){this.queuedObserveRequests.push([t,n]);return}this.elements.has(t)?this.removeFromQueue(t):(i=this.resizeObserver)==null||i.observe(t),this.elements.set(t,{cb:n})}static unobserve(t){var n;(n=this.resizeObserver)==null||n.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}static removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([n])=>n!==t)}static checkClientSize(t,n){var i,r;let o=(i=t.clientWidth)!=null?i:0,s=(r=t.clientHeight)!=null?r:0;this.checkSize(n,t,o,s)}};Ai.elements=new Map;Ai.ready=!1;Ai.documentReady=!1;Ai.queuedObserveRequests=[];Ai.onContentLoaded=()=>{var e;let t=((e=Ai.ownerDocument)==null?void 0:e.readyState)!=="loading",n=Ai.documentReady;Ai.documentReady=t,t&&t!==n&&(Ai.queuedObserveRequests.forEach(([i,r])=>Ai.observe(i,r)),Ai.queuedObserveRequests=[])};var Nb=Ai,y0=class{constructor(){this.range="tooltip"}};g([_(le(["tooltip","node"],"a range"))],y0.prototype,"range",2);var Ga=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(Ga||{}),Au=class{constructor(e){this.type=e,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}extend(e){this.type==="discrete"?this.discreteDomain.add(e):this.type==="continuous"&&(this.continuousDomain[0]>e&&(this.continuousDomain[0]=e),this.continuousDomain[1]<e&&(this.continuousDomain[1]=e))}getDomain(){if(this.type==="discrete")return this.discreteDomain;if(this.type==="continuous")return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)}};function Pa(e,t=[1/0,-1/0]){for(let n of e)typeof n=="number"&&(n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n));return t}function NI(e){return e.map(t=>Cn(t)?JSON.stringify(t):t).join("-")}function PI(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(e*1e4)/1e4}function FI(e){if(e===void 0)return[];let[t,n]=e;return t=Number(t),n=Number(n),t===0&&n===0?[0,1]:t===1/0&&n===-1/0?[]:(t===1/0&&(t=0),n===-1/0&&(n=0),xt(t)&&xt(n)?[t,n]:[])}function Xe(e,t){var n;let i=FI(e);if(i.length===0)return i;let[r,o]=i;if(r===o){let[s,a]=(n=t?.calculatePadding(r,o,t.isReversed()))!=null?n:[1,1];r-=s,o+=a}return[r,o]}function Pb(){return new Map([[void 0,0]])}function Zm(e,t){var n;return t===void 0?0:(n=t.get(e.id))!=null?n:0}var eo=Symbol("invalid"),_0=class{constructor(e){this.debug=ne.create(!0,"data-model");let{props:t,mode:n="standalone"}=e;this.mode=n;let i=!0;for(let s of t){if(s.type==="key"&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");s.type==="value"&&i&&(i=!1)}this.opts=I({dataVisible:!0},e),this.keys=t.filter(s=>s.type==="key").map((s,a)=>V(I({},s),{index:a,missing:Pb()})),this.values=t.filter(s=>s.type==="value").map((s,a)=>V(I({},s),{index:a,missing:Pb()})),this.aggregates=t.filter(s=>s.type==="aggregate").map((s,a)=>V(I({},s),{index:a})),this.groupProcessors=t.filter(s=>s.type==="group-value-processor").map((s,a)=>V(I({},s),{index:a})),this.propertyProcessors=t.filter(s=>s.type==="property-value-processor").map((s,a)=>V(I({},s),{index:a})),this.reducers=t.filter(s=>s.type==="reducer").map((s,a)=>V(I({},s),{index:a})),this.processors=t.filter(s=>s.type==="processor").map((s,a)=>V(I({},s),{index:a}));for(let s of this.values)if(s.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(s)}`);let r=({matchGroupIds:s})=>{for(let a of s??[])if(!this.values.some(l=>l.groupId===a))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${a}).`)},o=({matchIds:s})=>{for(let a of s??[])if(!this.values.some(l=>{var c;return(c=l.ids)==null?void 0:c.some(([d,h])=>d===a[0]&&h===a[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${a}).`)};for(let s of[...this.groupProcessors,...this.aggregates])o(s),r(s)}resolveProcessedDataIndexById(e,t){var n;let{index:i,def:r}=(n=this.resolveProcessedDataDefById(e,t))!=null?n:{};return{index:i,def:r}}resolveProcessedDataIndicesById(e,t){return this.resolveProcessedDataDefsById(e,t).map(({index:n,def:i})=>({index:n,def:i}))}resolveProcessedDataDefById(e,t){return this.resolveProcessedDataDefsById(e,t)[0]}resolveProcessedDataDefsByIds(e,t){let n=[];for(let i of t)n.push([i,this.resolveProcessedDataDefsById(e,i)]);return n}resolveProcessedDataDefsValues(e,{keys:t,values:n}){let i={};for(let[r,[{index:o,def:s}]]of e){let a=s.type==="key"?t:n;i[r]=a[o]}return i}resolveProcessedDataDefsById(e,t){let{keys:n,values:i,aggregates:r,groupProcessors:o,reducers:s}=this,a=d=>{let{ids:h,scopes:u}=d;return h==null||e!=null&&!u?.some(m=>m===e.id)?!1:h.some(([m,p])=>m===e.id&&(typeof t=="string"?p===t:t.test(p)))},l=[n,i,r,o,s],c=[];for(let d of l)c.push(...d.filter(a).map(h=>({index:h.index,def:h})));if(c.length>0)return c;throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`)}getDomain(e,t,n="value",i){var r,o,s,a;let l;try{l=this.resolveProcessedDataIndicesById(e,t)}catch(u){if(typeof t!="string"&&/didn't find property definition/.test(u.message))return[];throw u}let c;switch(n){case"key":c="keys";break;case"value":c="values";break;case"aggregate":c="aggValues";break;case"group-value-processor":c="groups";break;default:return[]}let d=(o=(r=i.domain[c])==null?void 0:r[l[0].index])!=null?o:[];if(l.length===1)return d;let h=[...d];for(let u of l.slice(1))Pa((a=(s=i.domain[c])==null?void 0:s[u.index])!=null?a:[],h);return h}processData(e,t){let{opts:{groupByKeys:n,groupByFn:i},aggregates:r,groupProcessors:o,reducers:s,processors:a,propertyProcessors:l}=this,c=performance.now();if(n&&this.keys.length===0)return;let d=this.extractData(e,t);n?d=this.groupData(d):i&&(d=this.groupData(d,i(d))),o.length>0&&this.postProcessGroups(d),r.length>0&&this.aggregateData(d),l.length>0&&this.postProcessProperties(d),s.length>0&&this.reduceData(d),a.length>0&&this.postProcessData(d);for(let u of[...this.keys,...this.values])if(e.length>0){for(let[m,p]of u.missing)if(p>=e.length){let f=m===void 0?"":` for ${m}`;j.warnOnce(`the key '${u.property}' was not found in any data element${f}.`)}}let h=performance.now();return d.time=h-c,this.debug.check()&&BI(d),d}valueGroupIdxLookup({matchGroupIds:e,matchIds:t}){return this.values.map((n,i)=>({def:n,index:i})).filter(({def:n})=>e&&(n.groupId==null||!e.includes(n.groupId))?!1:t?n.ids==null?!1:t.some(([i,r])=>{var o;return(o=n.ids)==null?void 0:o.some(([s,a])=>s===i&&a===r)}):!0).map(({index:n})=>n)}valueIdxLookup(e,t){let n=e==null||e.length===0,i=a=>{if(a==null)return!0;let c=a==null||a.length===0;return n===c?!0:a?.some(d=>e.includes(d))},r=typeof t=="string"?t:t.id,o=([a,l])=>i([a])&&l===r,s=this.values.findIndex(a=>{var l;return i(a.scopes)&&(((l=a.ids)==null?void 0:l.some(c=>o(c)))||a.property===r||a.id===r)});if(s>=0)return s;throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`)}extractData(e,t){var n,i,r,o,s,a;let{keys:l,values:c,opts:{dataVisible:d}}=this,{dataDomain:h,processValue:u,scopes:m,allScopesHaveSameDefs:p}=this.initDataDomainProcessor(),f=new Array(d?e.length:0),b=0,y=0;for(let[x,k]of e.entries()){let w={},S=m.size>0?new Set(m):void 0,C=d?new Array(l.length):void 0,E=0,D;for(let O of l){if(D=u(O,k,D),D===eo)break;C&&(C[E++]=D)}if(D===eo)continue;let A=d&&c.length>0?new Array(c.length):void 0,R,N={};for(let O of t??[])N[O.id]=O;for(let[O,U]of c.entries()){for(let rt of(n=U.scopes)!=null?n:m){let J=N[rt],dt=(i=J?.data[x])!=null?i:k;R=u(U,dt,R,rt),!(R===eo||!A)&&(J!==void 0&&((o=w[r=J.id])!=null||(w[r]={}),w[J.id][U.property]=R),U.useScopedValues?((s=A[O])!=null||(A[O]={}),A[O][rt]=R):A[O]=R)}if(R===eo){if(p)break;for(let rt of(a=U.scopes)!=null?a:m)S?.delete(rt);if(S?.size===0)break}}if(!(R===eo&&p)&&S?.size!==0&&d){let O={datum:I(I({},k),w),keys:C,values:A};!p&&S&&S.size<m.size&&(y++,O.validScopes=[...S]),f[b++]=O}}f.length=b;let v=x=>{let k=h.get(x).getDomain();return Array.isArray(k)&&k[0]>k[1]?[]:[...k]};return{type:"ungrouped",input:{count:e.length},data:f,domain:{keys:l.map(x=>v(x)),values:c.map(x=>v(x))},defs:{allScopesHaveSameDefs:p,keys:l,values:c},partialValidDataCount:y,time:0}}groupData(e,t){var n,i,r,o;let s=new Map;for(let d of e.data){let{keys:h,values:u,datum:m,validScopes:p}=d,f=t?t(d):h,b=NI(f);if(s.has(b)){let y=s.get(b);if(y.values.push(u),y.datum.push(m),p!=null)for(let v=0;v<((i=(n=y.validScopes)==null?void 0:n.length)!=null?i:0);v++){let x=(r=y.validScopes)==null?void 0:r[v];p.some(k=>k===x)||(o=y.validScopes)==null||o.splice(v,1)}}else s.set(b,{keys:f,values:[u],datum:[m],validScopes:p})}let a=new Array(s.size),l=new Array(s.size),c=0;for(let[,{keys:d,values:h,datum:u,validScopes:m}]of s.entries())m?.length!==0&&(l[c]=d,a[c++]={keys:d,values:h,datum:u,validScopes:m});return V(I({},e),{type:"grouped",data:a,domain:V(I({},e.domain),{groups:l})})}aggregateData(e){var t,n,i,r,o,s,a,l;let{aggregates:c}=this;if(!c)return;let d=c.map(()=>[1/0,-1/0]),h=c.map(f=>this.valueGroupIdxLookup(f)),u=c.map(f=>f.aggregateFunction),m=c.map(f=>f.groupAggregateFunction),p=c.map(f=>f.finalFunction);for(let f of e.data){let{values:b}=f,{validScopes:y}=f;(t=f.aggValues)!=null||(f.aggValues=new Array(h.length)),e.type==="ungrouped"&&(b=[b]);let v=0;for(let x of h){if(!((n=y?.some(C=>{var E;return(E=c[v].matchScopes)==null?void 0:E.some(D=>C===D)}))!=null?n:!0)){v++;continue}let w=(r=(i=m[v])==null?void 0:i.call(m))!=null?r:Pa([]);for(let C of b){let E=x.map(A=>C[A]),D=u[v](E,f.keys);D&&(w=(s=(o=m[v])==null?void 0:o.call(m,D,w))!=null?s:Pa(D,w))}let S=((l=(a=p[v])==null?void 0:a.call(p,w))!=null?l:w).map(C=>PI(C));Pa(S,d[v]),f.aggValues[v++]=S}}e.domain.aggValues=d}postProcessGroups(e){var t,n,i,r,o;let{groupProcessors:s}=this;if(!s)return;let a=new Set,l=new Map,c=new Map,d=new Map;for(let u of s){let m=this.valueGroupIdxLookup(u);c.set(u,m),d.set(u,u.adjust());for(let p of m){let f=this.values[p];a.add(p),l.set(p,new Au(f.valueType==="category"?"discrete":"continuous"))}}let h=u=>{var m;for(let p of a)(m=l.get(p))==null||m.extend(u[p])};for(let u of e.data){for(let m of s){if(!((n=(t=u.validScopes)==null?void 0:t.some(y=>{var v;return(v=m.matchScopes)==null?void 0:v.some(x=>y===x)}))!=null?n:!0))continue;let f=(i=c.get(m))!=null?i:[],b=(o=(r=d.get(m))==null?void 0:r())!=null?o:()=>{};if(e.type==="grouped"){for(let y of u.values)y&&b(y,f);continue}u.values&&b(u.values,f)}if(e.type==="grouped")for(let m of u.values)h(m);else h(u.values)}for(let[u,m]of l)e.domain.values[u]=[...m.getDomain()]}postProcessProperties(e){let{propertyProcessors:t}=this;if(t)for(let{adjust:n,property:i,scopes:r}of t)n()(e,this.valueIdxLookup(r??[],i))}reduceData(e){var t,n,i;let{reducers:r}=this,o=r.map(l=>l.scopes),s=r.map(l=>l.reducer()),a=r.map(l=>l.initialValue);for(let l of e.data){let c=0;for(let d of s){if(!((n=(t=l.validScopes)==null?void 0:t.some(u=>{var m;return(m=o[c])==null?void 0:m.some(p=>u===p)}))!=null?n:!0)){c++;continue}a[c]=d(a[c],l),c++}}for(let l=0;l<a.length;l++)(i=e.reduced)!=null||(e.reduced={}),e.reduced[r[l].property]=a[l]}postProcessData(e){var t;let{processors:n}=this;for(let i of n)(t=e.reduced)!=null||(e.reduced={}),e.reduced[i.property]=i.calculate(e)}initDataDomainProcessor(){var e;let{keys:t,values:n}=this,i=new Set;for(let u of n)for(let m of(e=u.scopes)!=null?e:[])i.add(m);let r=i.size,o=new Map,s=new Map,a=!0,l=(u,m,p=o)=>{var f;m==="category"?p.set(u,new Au("discrete")):(p.set(u,new Au("continuous")),a&&(a=((f=u.scopes)!=null?f:[]).length===r))},c=()=>{t.forEach(u=>l(u,u.valueType)),n.forEach(u=>l(u,u.valueType))};c();let d=this.buildAccessors(...t,...n);return{dataDomain:o,processValue:(u,m,p,f)=>{var b,y,v,x,k;let w=u.property in d,S=!1,C;if(w){try{C=d[u.property](m)}catch{}S=C!==void 0}else S=u.property in m,C=S?m[u.property]:u.missingValue;u.forceValue!=null&&(C=S&&fl(C)?-1*u.forceValue:u.forceValue,S=!0);let E="missingValue"in u;if(!S&&!E){let D=(b=u.missing.get(f))!=null?b:0;u.missing.set(f,D+1)}if(o.has(u)||c(),S&&!((v=(y=u.validation)==null?void 0:y.call(u,C,m))!=null?v:!0))if("invalidValue"in u)C=u.invalidValue;else return this.mode!=="integrated"&&j.warnOnce(`invalid value of type [${typeof C}] ignored:`,`[${C}]`),eo;return u.processor&&(s.has(u)||s.set(u,u.processor()),C=(x=s.get(u))==null?void 0:x(C,p!==eo?p:void 0)),(k=o.get(u))==null||k.extend(C),C},initDataDomain:c,scopes:i,allScopesHaveSameDefs:a}}buildAccessors(...e){let t={};if(this.mode==="integrated")return t;for(let n of e){if(!(n.property.indexOf(".")>=0||n.property.indexOf("[")>=0))continue;let r;n.property.startsWith("[")?r=`return datum${n.property};`:r=`return datum.${n.property};`,t[n.property]=new Function("datum",r)}return t}};function BI(e){var t,n;let i=(r,o)=>{o.length>0&&(j.log(`DataModel.processData() - ${r}`),j.table(o))};if(j.log("DataModel.processData() - processedData",e),i("Key Domains",e.domain.keys),i("Group Domains",(t=e.domain.groups)!=null?t:[]),i("Value Domains",e.domain.values),i("Aggregate Domains",(n=e.domain.aggValues)!=null?n:[]),e.type==="grouped"){let r=e.data.reduce((o,s)=>{var a,l;let c=(a=s.keys)!=null?a:[],d=(l=s.aggValues)!=null?l:[],h=s.keys.map(()=>{}),u=d?.map(()=>{});return o.push(...s.values.map((m,p)=>[...p===0?c:h,...m??[],...p==0?d:u])),o},[]);i("Values",r)}else{let r=e.data.reduce((o,s)=>{var a;let l=(a=s.aggValues)!=null?a:[];return o.push([...s.keys,...s.values,...l]),o},[]);i("Values",r)}}var x0=class{constructor(e){this.mode=e,this.debug=ne.create(!0,"data-model"),this.requested=[],this.status="setup"}request(e,t,n){return T(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((i,r)=>{this.requested.push({id:e,opts:n,data:t,resultCb:i,reject:r})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let{valid:e,invalid:t}=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",e);let n=this.mergeRequested(e);this.debug("DataController.execute() - merged",n),this.debug.check()&&(window.processedData=[]);let i=e.some(r=>r.data!=null);for(let{opts:r,data:o,resultCbs:s,rejects:a,ids:l}of n){let c=i||r.props.some(d=>{var h;return d.type!=="value"&&d.type!=="key"?!1:(h=d.useScopedValues)!=null?h:!1});try{let d=new _0(V(I({},r),{mode:this.mode})),h=d.processData(o,e);this.debug.check()&&window.processedData.push(h),h&&h.partialValidDataCount===0?s.forEach((u,m)=>{let p=l[m],f=h;c&&(f=this.extractScopedData(p,h)),u({dataModel:d,processedData:f})}):h?this.splitResult(d,h,l,s):a.forEach(u=>u(new Error("AG Charts - no processed data generated")))}catch(d){a.forEach(h=>h(d))}}t.forEach(({error:r,reject:o})=>o(r))}extractScopedData(e,t){let n=r=>Array.isArray(r)?r.map(n):I(I({},r),r[e]),i=r=>{var o;return Array.isArray(r)?r.map(i):(o=r?.[e])!=null?o:r};return V(I({},t),{data:t.data.map(r=>V(I({},r),{datum:n(r.datum),values:r.values.map(i)}))})}validateRequests(e){let t=[],n=[];for(let[i,r]of e.entries())i>0&&r.data.length!==e[0].data.length&&r.opts.groupByData===!1?n.push(V(I({},r),{error:new Error("all series[].data arrays must be of the same length and have matching keys.")})):t.push(r);return{valid:t,invalid:n}}mergeRequested(e){let t=[],n=l=>l.filter(c=>c.type==="key").map(c=>c.property).join(";"),i=({opts:l,data:c})=>d=>(l.groupByData===!1||d[0].data===c)&&d[0].opts.groupByKeys===l.groupByKeys&&d[0].opts.dataVisible===l.dataVisible&&d[0].opts.groupByFn===l.groupByFn&&n(d[0].opts.props)===n(l.props),r=l=>c=>{var d;if(c.type!==l.type)return!1;let h=(d=bi(c,l))!=null?d:{};return delete h.scopes,delete h.id,delete h.ids,"useScopedValues"in h&&delete h.useScopedValues,Object.keys(h).length===0},o=l=>{var c;if(l.type!=="key"&&l.type!=="value")return;let d=new Set((c=l.scopes)!=null?c:[]);l.useScopedValues=d.size>1},s=l=>V(I({},l[0]),{props:l.reduce((c,d)=>{var h,u,m,p,f,b;for(let y of d.props){if(y.id!=null){(h=y.ids)!=null||(y.ids=[]);for(let x of(u=y.scopes)!=null?u:[])y.ids.push([x,y.id])}let v=c.find(r(y));if(!v){o(y),c.push(y);continue}(m=v.scopes)!=null||(v.scopes=[]),v.scopes.push(...(p=y.scopes)!=null?p:[]),o(y),(v.type==="key"||v.type==="value")&&((f=y.ids)!=null&&f.length)&&((b=v.ids)==null||b.push(...y.ids))}return c},[])}),a=l=>({ids:l.map(({id:c})=>c),resultCbs:l.map(({resultCb:c})=>c),rejects:l.map(({reject:c})=>c),data:l[0].data,opts:s(l.map(({opts:c})=>c))});for(let l of e){let c=t.find(i(l));c?c.push(l):t.push([l])}return t.map(a)}splitResult(e,t,n,i){for(let r=0;r<n.length;r++){let o=n[r],s=i[r];s({dataModel:e,processedData:V(I({},t),{data:t.data.filter(({validScopes:a})=>a==null||a.some(l=>l===o))})})}}},ws=class{constructor(){this.registeredListeners=new Map}addListener(e,t){let n={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(let[t,n]of this.registeredListeners.entries()){let i=n.findIndex(r=>r.symbol===e);if(i>=0){n.splice(i,1),n.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(let n of this.getListenersByType(e))try{n.handler(...t)}catch(i){j.errorOnce(i)}}dispatchWrapHandlers(e,t,...n){for(let i of this.getListenersByType(e))try{t(i.handler,...n)}catch(r){j.errorOnce(r)}}getListenersByType(e){var t;return(t=this.registeredListeners.get(e))!=null?t:[]}destroy(){this.registeredListeners.clear()}},ld=class extends ws{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=ne.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.freshRequests.length>0)}createThrottledFetch(e){return gb(t=>this.fetch(t),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return gb((t,n)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:n})},e,{leading:!0,trailing:!0})}fetch(e){return T(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let t=performance.now(),n=this.requestCounter++;this.debug(`DataService - requesting | ${n}`),this.freshRequests.push(n);let i;try{i=yield this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${n}`)}catch(o){this.debug(`DataService - request failed | ${n}`),j.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;let r=this.freshRequests.findIndex(o=>o===n);if(r===-1||this.dispatchOnlyLatest&&r!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${n}`);return}this.freshRequests=this.freshRequests.slice(r+1),Array.isArray(i)?this.throttledDispatch(n,i):this.dispatch("data-error")})}};g([Se({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],ld.prototype,"dispatchThrottle",2);g([Se({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],ld.prototype,"requestThrottle",2);var zI=[!0,"animation"],Fb=class{constructor(){this.stoppedCbs=new Set,this.controllers=new Map,this.debug=ne.create(...zI),this.currentPhase=0,this.phases=new Map(ho.map(e=>[e,[]])),this.skipAnimations=!1}get size(){return this.controllers.size}isActive(){return this.controllers.size>0}getActiveControllers(){var e;return(e=this.phases.get(ho[this.currentPhase]))!=null?e:[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){var t;if(e.isComplete)return;if(ho.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),(t=this.phases.get(e.phase))==null||t.push(e)}removeAnimation(e){this.controllers.delete(e.id);let t=this.phases.get(e.phase),n=t?.indexOf(e);n!=null&&n>=0&&t?.splice(n,1)}progress(e){let t=ho[this.currentPhase],n=[...this.getActiveControllers()],i=this.controllers.size;this.debug(`AnimationBatch - progressing by ${e}; current phase ${t} with ${n?.length} active controllers of ${i} total`,this.phases);let r=e===0?.01:e,o=()=>ho[this.currentPhase]==null,s=()=>{for(n=[...this.getActiveControllers()];!o()&&n.length===0;)this.currentPhase++,n=[...this.getActiveControllers()],this.debug(`AnimationBatch - phase changing to ${ho[this.currentPhase]}`,{unusedTime:r},n)};for(;r>0&&!o();){s();let a=r,l=0;for(let c of n)r=Math.min(c.update(a),r),c.isComplete&&(l++,this.removeAnimation(c));this.debug(`AnimationBatch - updated ${n.length} controllers; ${l} completed`)}}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(let t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(let e of this.controllers.values())e.play()}pause(){for(let e of this.controllers.values())e.pause()}stop(){for(let e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){j.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){let t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(let t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){}},Eo=class{constructor(){this.listeners=new ws}addListener(e,t){return this.listeners.addListener(e,t)}removeListener(e){this.listeners.removeListener(e)}destroy(){this.listeners.destroy()}},w0=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","page-left","wheel"],Bb=["pagehide","mousemove","mouseup"],zb=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],jI=`
.ag-chart-wrapper {
    touch-action: none;
}
`,Wc=(e=>(e[e.Default=8]="Default",e[e.ZoomDrag=4]="ZoomDrag",e[e.ContextMenu=2]="ContextMenu",e[e.Animation=1]="Animation",e[e.All=15]="All",e))(Wc||{}),VI=[!0,"interaction"],Qm=class Fa extends Eo{constructor(t,n,i){super(),this.debug=ne.create(...VI),this.eventHandler=r=>this.processEvent(r),this.mouseDown=!1,this.touchDown=!1,this.stateQueue=8,this.rootElement=n.body,this.element=t,this.window=i;for(let r of zb)r.startsWith("touch")?t.addEventListener(r,this.eventHandler,{passive:!0}):r==="wheel"?t.addEventListener(r,this.eventHandler,{passive:!1}):t.addEventListener(r,this.eventHandler);for(let r of Bb)this.window.addEventListener(r,this.eventHandler);Fa.interactionDocuments.includes(n)||(od(n,jI),Fa.interactionDocuments.push(n))}destroy(){super.destroy();for(let t of Bb)this.window.removeEventListener(t,this.eventHandler);for(let t of zb)this.element.removeEventListener(t,this.eventHandler)}addListener(t,n,i=8){return super.addListener(t,r=>{this.getState()&i&&n(r)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){let n=this.decideInteractionEventTypes(t);n.length>0&&this.dispatchEvent(t,n).catch(i=>j.errorOnce(i))}dispatchEvent(t,n){return T(this,null,function*(){let i=this.calculateCoordinates(t);if(i!=null)for(let r of n)this.listeners.dispatchWrapHandlers(r,(o,s)=>{s.consumed||o(s)},this.buildEvent(I({type:r,event:t},i)))})}decideInteractionEventTypes(t){let n="drag-start";switch(t.type){case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,[n];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,[n];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?[]:(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?[]:(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]);case"mouseout":case"touchcancel":return["leave"];case"mouseenter":let i=t instanceof MouseEvent&&(t.buttons&1)===1;return this.mouseDown!==i?(this.mouseDown=i,[i?n:"drag-end"]):[];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){var n;return t.target===this.element||((n=t.target)==null?void 0:n.parentElement)===this.element}calculateCoordinates(t){var n;if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let i=(n=t.touches[0])!=null?n:t.changedTouches[0],{clientX:r,clientY:o,pageX:s,pageY:a}=i;return V(I({},Fa.NULL_COORDS),{clientX:r,clientY:o,pageX:s,pageY:a})}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:Fa.NULL_COORDS}getMouseEventCoords(t){let{clientX:n,clientY:i,pageX:r,pageY:o}=t,{offsetX:s,offsetY:a}=t,l=c=>{let d=0,h=0;for(;c;)d+=c.offsetLeft,h+=c.offsetTop,c=c.offsetParent;return{x:d,y:h}};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){let c=l(this.dragStartElement),d=l(t.target);s-=c.x-d.x,a-=c.y-d.y}return{clientX:n,clientY:i,pageX:r,pageY:o,offsetX:s,offsetY:a}}isWheelEvent(t){return t.type==="wheel"}buildEvent(t){let{type:n,event:i,clientX:r,clientY:o}=t,{offsetX:s,offsetY:a,pageX:l,pageY:c}=t;if(!xt(s)||!xt(a)){let p=this.element.getBoundingClientRect();s=r-p.left,a=o-p.top}if(!xt(l)||!xt(c)){let p=this.rootElement.getBoundingClientRect();l=r-p.left,c=o-p.top}let d=p=>{let v=Math.sign(p);return(Math.log10(Math.abs(p)/60+.1)*3+3)*v},[h,u]=[NaN,NaN];if(this.isWheelEvent(i)){let p=i.deltaMode===0?d:f=>f;h=p(i.deltaX),u=p(i.deltaY)}let m={type:n,offsetX:s,offsetY:a,pageX:l,pageY:c,deltaX:h,deltaY:u,sourceEvent:i,consumed:!1,consume(){m.consumed=!0}};return this.debug("InteractionManager - builtEvent: ",m),m}};Qm.interactionDocuments=[];Qm.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var k0=Qm,UI=[!0,"animation"],S0=class extends Eo{constructor(e,t){super(),this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new Fb,this.debug=ne.create(...UI),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(e){var t=e,{disableInteractions:n=!0}=t,i=we(t,["disableInteractions"]),r;let o=this.batch;try{o.checkOverlappingId(i.id)}catch(c){this.failsafeOnError(c);return}let s=(r=i.id)!=null?r:Math.random().toString(),a=this.isSkipped();a&&this.debug("AnimationManager - skipping animation");let l=new ky(V(I({},i),{id:s,skip:a,autoplay:this.isPlaying?i.autoplay:!1,phase:i.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(l,this.defaultDuration))return this.batch.addAnimation(l),l}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e,t=n=>T(this,null,function*(){let i=()=>T(this,null,function*(){let r=n-(e??n);e=n,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:r}),this.interactionManager.pushState(1);try{this.batch.progress(r)}catch(o){this.failsafeOnError(o)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:r})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(i):yield this.chartUpdateMutex.acquire(i),this.batch.isActive()?this.scheduleAnimationFrame(t):this.batch.stop()});this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){j.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new Fb,e===!0&&this.batch.skip()}endBatch(){this.debug(`AnimationManager - endBatch() with ${this.batch.size} animations; skipped: ${this.batch.isSkipped()}.`),this.batch.isActive()||this.interactionManager.popState(1),this.batch.isSkipped()&&!this.batch.isActive()&&this.batch.skip(!1),this.requestAnimation()}onBatchStop(e){this.batch.stoppedCbs.add(e)}},C0=class extends Eo{legendItemClick(e,t,n,i){let r={type:"legend-item-click",series:e,itemId:t,enabled:n,legendItemName:i};this.listeners.dispatch("legend-item-click",r)}legendItemDoubleClick(e,t,n,i,r){let o={type:"legend-item-double-click",series:e,itemId:t,enabled:n,legendItemName:r,numVisibleItems:i};this.listeners.dispatch("legend-item-double-click",o)}axisHover(e,t){let n={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",n)}},D0=class{constructor(){this.defaultActions=[],this.disabledActions=new Set}copyDefaultAction(){return[...this.defaultActions]}registerDefaultAction(e){e.id&&this.defaultActions.find(({id:t})=>t===e.id)||this.defaultActions.push(e)}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}isDisabled(e){return this.disabledActions.has(e)}},E0=class{constructor(e){this.states={},this.element=e}updateCursor(e,t){delete this.states[e],t!=null&&(this.states[e]={style:t}),this.applyStates()}applyStates(){let e="default";Object.entries(this.states).reverse().slice(0,1).forEach(([t,{style:n}])=>e=n),this.element.style.cursor=e}getCursor(){return this.element.style.cursor}};function GI(e,t){let n=e.screenX-t.screenX,i=e.screenY-t.screenY;return n*n+i*i}function jb(e,t){return Math.sqrt(GI(e,t))}var WI=1,I0=class extends Eo{constructor(e){super(),this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.element=e,e.addEventListener("touchstart",this.touchstart,{passive:!0}),e.addEventListener("touchmove",this.touchmove,{passive:!0}),e.addEventListener("touchend",this.touchend),e.addEventListener("touchcancel",this.touchcancel)}destroy(){let{element:e}=this;e.removeEventListener("touchstart",this.touchstart),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){let{touches:t}=e,{finger1:n,finger2:i}=this.pinch;if(this.pinch.status!==0&&t.length===2){if(t[0].identifier===n.identifier&&t[1].identifier===i.identifier)return[t[0],t[1]];if(t[0].identifier===i.identifier&&t[1].identifier===n.identifier)return[t[1],t[0]]}}copyTouchData(e){let t=["identifier","screenX","screenY"];Nu(t,this.pinch.finger1,e.touches[0]),Nu(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=jb(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t){let{finger1:n,finger2:i,origin:r}=this.pinch,o={type:e,finger1:n,finger2:i,deltaDistance:t,origin:r};this.listeners.dispatch(e,o)}onTouchStart(e){this.stopPinchTracking();let{pinch:t}=this;e.touches.length===2&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){let t=this.findPinchTouches(e);if(t!==void 0){let[n,i]=t,{pinch:r}=this,o=jb(n,i),s=o-r.distance;r.status===1?Math.abs(s)>WI&&(r.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0)):r.status===2?(r.distance=o,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",s)):j.error(`unexpected pinch.status: ${r.status}`)}}onTouchEnd(e){this.stopPinchTracking()}onTouchCancel(e){this.stopPinchTracking()}stopPinchTracking(){let{pinch:e}=this;e.status===2&&this.dispatchPinchEvent("pinch-end",0),this.pinch.status=0}},sm=class extends Eo{constructor(){super(...arguments),this.highlightStates=new Map,this.pickedStates=new Map}updateHighlight(e,t){this.highlightStates.delete(e),t!=null&&this.highlightStates.set(e,t),this.applyHighlightStates()}getActiveHighlight(){return this.activeHighlight}updatePicked(e,t){this.pickedStates.delete(e),t!=null&&this.pickedStates.set(e,t),this.applyPickedStates()}getActivePicked(){return this.activePicked}applyHighlightStates(){let{activeHighlight:e}=this;this.activeHighlight=Array.from(this.highlightStates.values()).pop(),this.isEqual(this.activeHighlight,e)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:e})}applyPickedStates(){this.activePicked=Array.from(this.pickedStates.values()).pop()}isEqual(e,t){return e===t||e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}};function $I(e,t,n){var i,r;return(r=(i=e.bbox.computeBBox())==null?void 0:i.containsPoint(t,n))!=null?r:!1}function Vb(e){var t;let{width:n=0,height:i=0}=(t=e.bbox.computeBBox())!=null?t:{};return n*i}var HI=class{constructor(){this.nodes=[]}add(e,t){this.nodes.push({value:e,bbox:t})}find(e,t){return this.nodes.filter(n=>$I(n,e,t)).sort((n,i)=>Vb(n)-Vb(i)).map(n=>n.value)}*[Symbol.iterator](){for(let{value:e}of Object.values(this.nodes))yield e}clear(){this.nodes.length=0}},YI=class extends ws{},KI=class{constructor(e){this.interactionManager=e,this.eventHandler=t=>this.processEvent(t),this.regions=new HI,this.destroyFns=[],w0.forEach(t=>this.destroyFns.push(e.addListener(t,this.eventHandler,15)))}destroy(){this.destroyFns.forEach(e=>e()),this.currentRegion=void 0;for(let e of this.regions)e.listeners.destroy();this.regions.clear()}pushRegion(e,t){let n={name:e,listeners:new YI};return this.regions.add(n,t),n}addRegion(e,t){let n=this.pushRegion(e,t),{interactionManager:i}=this;class r{addListener(s,a,l=8){return n.listeners.addListener(s,c=>{c.consumed||i.getState()&l&&a(c)})}}return new r}processEvent(e){let{currentRegion:t}=this,n=this.pickRegion(e.offsetX,e.offsetY);t!==void 0&&n?.name!==t.name&&t?.listeners.dispatch("leave",V(I({},e),{type:"leave"})),n!==void 0&&T(this,null,function*(){return n.listeners.dispatch(e.type,e)}).catch(r=>j.errorOnce(r)),this.currentRegion=n}pickRegion(e,t){let n=this.regions.find(e,t);return n.length>0?n[0]:void 0}},Jm=class mo extends Eo{constructor(t){super(),this.chart=t}subscribe(t=mo.DEFAULT_GROUP){let n=this.get(t);return n||(n=new Set,mo.chartsGroups.set(t,n)),n.add(this.chart),this}unsubscribe(t=mo.DEFAULT_GROUP){var n;return(n=this.get(t))==null||n.delete(this.chart),this}getChart(){return this.chart}getGroup(t=mo.DEFAULT_GROUP){let n=this.get(t);return n?Array.from(n):[]}getGroupSiblings(t=mo.DEFAULT_GROUP){return this.getGroup(t).filter(n=>n!==this.chart)}get(t){return mo.chartsGroups.get(t)}};Jm.chartsGroups=new Map;Jm.DEFAULT_GROUP=Symbol("sync-group-default");var XI=Jm,am=class{constructor(e,t){this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=e,this.destroyFns.push(t.addListener("hover",n=>this.checkExclusiveRects(n)))}getRange(){return this.tooltip.range}updateTooltip(e,t,n){var i;n==null&&(n=(i=this.states[e])==null?void 0:i.content),this.states[e]={content:n,meta:t},this.applyStates()}updateExclusiveRect(e,t){t?this.exclusiveAreas[e]=t:delete this.exclusiveAreas[e]}removeTooltip(e){delete this.states[e],this.applyStates()}getTooltipMeta(e){var t;return(t=this.states[e])==null?void 0:t.meta}destroy(){for(let e of this.destroyFns)e()}checkExclusiveRects(e){let t;for(let[n,i]of Object.entries(this.exclusiveAreas))if(i.containsPoint(e.offsetX,e.offsetY)){t=n;break}t!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=t,this.applyStates())}applyStates(){var e;let t=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states),n,i;if(t.reverse(),t.slice(0,1).forEach(r=>{var o;let{content:s,meta:a}=(o=this.states[r])!=null?o:{};n=s,i=a}),i===void 0||n===void 0){this.appliedState=void 0,this.tooltip.toggle(!1);return}if(((e=this.appliedState)==null?void 0:e.content)===n){let r=this.tooltip.isVisible();this.tooltip.show(i,void 0,r)}else this.tooltip.show(i,n);this.appliedState={content:n,meta:i}}static makeTooltipMeta(e,t){var n,i,r,o;let{offsetX:s,offsetY:a}=e,{tooltip:l}=t.series.properties,c={xOffset:l.position.xOffset,yOffset:l.position.yOffset},d={offsetX:s,offsetY:a,lastPointerEvent:{offsetX:s,offsetY:a},showArrow:l.showArrow,position:c},h=(i=(n=t.yBar)==null?void 0:n.upperPoint)!=null?i:t.midPoint;if(l.position.type==="node"&&h){let{x:u,y:m}=h,p=t.series.contentGroup.inverseTransformPoint(u,m);return V(I({},d),{offsetX:Math.round(p.x),offsetY:Math.round(p.y)})}return d.enableInteraction=(o=(r=l.interaction)==null?void 0:r.enabled)!=null?o:!1,d}},A0=class extends Eo{constructor(){super(...arguments),this.axisZoomManagers=new Map}updateAxes(e){var t;let n=new Map(e.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(let i of e)this.axisZoomManagers.set(i.id,(t=n.get(i.id))!=null?t:new qI(i));this.initialZoom&&(this.updateZoom(this.initialZoom),this.initialZoom=void 0)}updateZoom(e){if(this.axisZoomManagers.size===0){this.initialZoom=e;return}this.axisZoomManagers.forEach(t=>{t.updateZoom(e?.[t.getDirection()])}),this.applyChanges()}updateAxisZoom(e,t){var n;(n=this.axisZoomManagers.get(e))==null||n.updateZoom(t),this.applyChanges()}getZoom(){let e,t;if(this.axisZoomManagers.forEach(n=>{n.getDirection()==="x"?e??(e=n.getZoom()):n.getDirection()==="y"&&(t??(t=n.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){var t,n;return(n=(t=this.axisZoomManagers.get(e))==null?void 0:t.getZoom())!=null?n:{min:0,max:1}}getAxisZooms(){let e={};for(let[t,n]of this.axisZoomManagers.entries())e[t]={direction:n.getDirection(),zoom:n.getZoom()};return e}applyChanges(){if(!Array.from(this.axisZoomManagers.values()).map(n=>n.applyChanges()).some(Boolean))return;let t={};for(let[n,i]of this.axisZoomManagers.entries())t[n]=i.getZoom();this.listeners.dispatch("zoom-change",V(I({type:"zoom-change"},this.getZoom()),{axes:t}))}},qI=class{constructor(e){this.pendingZoom=null,this.axis=e;let[t=0,n=1]=e.visibleRange;this.initialZoom=this.currentZoom={min:t,max:n}}getDirection(){return this.axis.direction}updateZoom(e){this.pendingZoom=e?I({},e):null}getZoom(){return Be(this.currentZoom)}applyChanges(){var e;let t=this.currentZoom;return this.currentZoom=(e=this.pendingZoom)!=null?e:this.initialZoom,t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},R0=class extends ws{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(e,t){if(this.isLayoutStage(e)||this.isLayoutComplete(e))return super.addListener(e,t);throw new Error(`AG Charts - unsupported listener type: ${e}`)}dispatchPerformLayout(e,t){return this.isLayoutStage(e)?this.getListenersByType(e).reduce((n,i)=>{try{return i.handler(n)}catch(r){return j.errorOnce(r),n}},t):t}dispatchLayoutComplete(e){this.dispatch(this.layoutComplete,e)}isLayoutStage(e){return e!==this.layoutComplete}isLayoutComplete(e){return e===this.layoutComplete}};function ZI({orientation:e,bboxes:t,maxHeight:n,maxWidth:i,itemPaddingY:r=0,itemPaddingX:o=0,forceResult:s=!1}){let a=e==="horizontal",l={max:a?i:n,fn:a?u=>u.width:u=>u.height,padding:a?o:r},c={max:a?n:i,fn:a?u=>u.height:u=>u.width,padding:a?r:o},d=0,h=[];for(;d<t.length;){let u=t.slice(d),m=QI(u,d,l,c,s);if(!m)return;d+=m.processedBBoxCount,h.push(m.pageIndices)}return tA(h,e,t,r,o)}function QI(e,t,n,i,r){let s=iA(e,n);if(s<1){if(!r)return;s=1}for(let a=s;a>=1;a--){let l=JI(e,t,a,n,i,r);if(l==null&&a<=1)return;if(l==null)continue;if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function JI(e,t,n,i,r,o){var s;let a=[],l=0,c=0,d=[],h=[];for(let u=0;u<e.length;u++){let m=(u+n)%n;m===0&&(l+=c,c=0,d.length>0&&a.push(d),d=[]);let p=i.fn(e[u])+i.padding;h[m]=Math.max((s=h[m])!=null?s:0,p),c=Math.max(c,r.fn(e[u])+r.padding);let f=l+c,b=!o||a.length>0;if(f>r.max&&b){d=[];break}if(h.reduce((v,x)=>v+x,0)>i.max&&!o)return h.length<n?h.length:void 0;d.push(u+t)}return d.length>0&&a.push(d),a.length>0?a:void 0}function tA(e,t,n,i,r){let o=0,s=0;return{pages:e.map(l=>{t==="horizontal"&&(l=eA(l));let c=0,d=l.map(m=>{let p=m.map(y=>(c=Math.max(y,c),n[y])),f=0,b=0;return p.forEach(y=>{f+=y.height+i,b=Math.max(b,y.width+r)}),{indices:m,bboxes:p,columnHeight:Math.ceil(f),columnWidth:Math.ceil(b)}}),h=0,u=0;return d.forEach(m=>{h+=m.columnWidth,u=Math.max(u,m.columnHeight)}),o=Math.max(h,o),s=Math.max(u,s),{columns:d,startIndex:l[0][0],endIndex:c,pageWidth:h,pageHeight:u}}),maxPageWidth:o,maxPageHeight:s}}function eA(e){let t=[];for(let n of e[0])t.push([]);return e.forEach((n,i)=>{n.forEach((r,o)=>{t[o][i]=r})}),t}function iA(e,t){let n=e.length,i=0;for(let r=0;r<n;r++)if(i+=t.fn(e[r])+t.padding,i>t.max)return n/r<2?Math.ceil(n/2):r;return n}function nA(e,t){let n=-t/e;return e!==0&&n>=0&&n<=1?[n]:[]}function rA(e,t,n){if(e===0)return nA(t,n);let i=t*t-4*e*n,r=[];if(i===0){let o=-t/(2*e);o>=0&&o<=1&&r.push(o)}else if(i>0){let o=Math.sqrt(i),s=(-t-o)/(2*e),a=(-t+o)/(2*e);s>=0&&s<=1&&r.push(s),a>=0&&a<=1&&r.push(a)}return r}function oA(e,t,n,i){if(e===0)return rA(t,n,i);let r=t/e,o=n/e,s=i/e,a=(3*o-r*r)/9,l=(9*r*o-27*s-2*r*r*r)/54,c=a*a*a+l*l,d=1/3,h=[];if(c>=0){let u=Math.sqrt(c),m=Math.sign(l+u)*Math.pow(Math.abs(l+u),d),p=Math.sign(l-u)*Math.pow(Math.abs(l-u),d),f=Math.abs(Math.sqrt(3)*(m-p)/2),b=-d*r+(m+p);if(b>=0&&b<=1&&h.push(b),f===0){let y=-d*r-(m+p)/2;y>=0&&y<=1&&h.push(y)}}else{let u=Math.acos(l/Math.sqrt(-a*a*a)),m=d*r,p=2*Math.sqrt(-a),f=p*Math.cos(d*u)-m,b=p*Math.cos(d*(u+2*Math.PI))-m,y=p*Math.cos(d*(u+4*Math.PI))-m;f>=0&&f<=1&&h.push(f),b>=0&&b<=1&&h.push(b),y>=0&&y<=1&&h.push(y)}return h}function Wa(e,t,n,i,r,o,s,a){let l=(n-e)*(a-o)-(i-t)*(s-r);if(l===0)return null;let c=((s-r)*(t-o)-(e-r)*(a-o))/l,d=((n-e)*(t-o)-(i-t)*(e-r))/l;return c>=0&&c<=1&&d>=0&&d<=1?{x:e+c*(n-e),y:t+c*(i-t)}:null}function sA(e,t,n,i,r,o,s,a,l,c,d,h){let u=[],m=c-h,p=d-l,f=l*(h-c)-c*(d-l),b=Ub(e,n,r,s),y=Ub(t,i,o,a),v=m*b[0]+p*y[0],x=m*b[1]+p*y[1],k=m*b[2]+p*y[2],w=m*b[3]+p*y[3]+f,S=oA(v,x,k,w);for(let C of S){let E=C*C,D=C*E,A=b[0]*D+b[1]*E+b[2]*C+b[3],R=y[0]*D+y[1]*E+y[2]*C+y[3],N;l!==d?N=(A-l)/(d-l):N=(R-c)/(h-c),N>=0&&N<=1&&u.push({x:A,y:R})}return u}function Ub(e,t,n,i){return[-e+3*t-3*n+i,3*e-6*t+3*n,-3*e+3*t,e]}function T0(e,t,n,i,r,o,s,a,l,c){let d=(c-a)/(l-s),h=a-d*s,u=Math.pow(d,2)+1,m=2*(d*(h-t)-e),p=Math.pow(e,2)+Math.pow(h-t,2)-Math.pow(n,2),f=Math.pow(m,2)-4*u*p;if(f<0)return[];let b=(-m+Math.sqrt(f))/2/u,y=(-m-Math.sqrt(f))/2/u,v=[];return[b,y].forEach(x=>{if(!(x>=Math.min(s,l)&&x<=Math.max(s,l)))return;let w=d*x+h,S=ae(i),C=ae(r),E=ae(Math.atan2(w,x));C<=S&&(C+=2*Math.PI),E<S&&(E+=2*Math.PI),o!==(E>=S&&E<=C)&&v.push({x,y:w})}),v}var us=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let e=0;e<this.commands.length;e++)if(this.commands[e]!==this.previousCommands[e])return!0;for(let e=0;e<this.params.length;e++)if(this.params[e]!==this.previousParams[e])return!0;return!1}draw(e){let t=this.commands,n=this.params,i=0;e.beginPath();for(let r of t)switch(r){case 0:e.moveTo(n[i++],n[i++]);break;case 1:e.lineTo(n[i++],n[i++]);break;case 3:e.bezierCurveTo(n[i++],n[i++],n[i++],n[i++],n[i++],n[i++]);break;case 2:e.arc(n[i++],n[i++],n[i++],n[i++],n[i++],n[i++]===1);break;case 4:e.closePath();break}t.length===0&&e.closePath()}moveTo(e,t){this.xy?(this.xy[0]=e,this.xy[1]=t):this.xy=[e,t],this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.xy?(this.commands.push(1),this.params.push(e,t),this.xy[0]=e,this.xy[1]=t):this.moveTo(e,t)}rect(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()}roundRect(e,t,n,i,r){r=Math.min(r,n/2,i/2),this.moveTo(e,t+r),this.arc(e+r,t+r,r,Math.PI,3*Math.PI/2),this.lineTo(e+r,t),this.lineTo(e+n-r,t),this.arc(e+n-r,t+r,r,3*Math.PI/2,2*Math.PI),this.lineTo(e+n,t+r),this.lineTo(e+n,t+i-r),this.arc(e+n-r,t+i-r,r,0,Math.PI/2),this.lineTo(e+n-r,t+i),this.lineTo(e+r,t+i),this.arc(e+ +r,t+i-r,r,Math.PI/2,Math.PI),this.lineTo(e,t+i-r),this.closePath()}arc(e,t,n,i,r,o=!1){let s=e+n*Math.cos(r),a=t+n*Math.sin(r);this.xy?(this.xy[0]=s,this.xy[1]=a):this.xy=[s,a],this.commands.push(2),this.params.push(e,t,n,i,r,o?1:0)}cubicCurveTo(e,t,n,i,r,o){this.xy||this.moveTo(e,t),this.commands.push(3),this.params.push(e,t,n,i,r,o),this.xy&&(this.xy[0]=r,this.xy[1]=o)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:e}={trackChanges:!1}){e?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(e,t){let n=this.commands,i=this.params,r=n.length,o=-1e4,s=-1e4,a=NaN,l=NaN,c=0,d=0,h=0;for(let u=0,m=0;u<r;u++)switch(n[u]){case 0:!isNaN(a)&&Wa(a,l,c,d,o,s,e,t)&&h++,c=i[m++],a=c,d=i[m++],l=d;break;case 1:Wa(c,d,i[m++],i[m++],o,s,e,t)&&h++,c=i[m-2],d=i[m-1];break;case 3:h+=sA(c,d,i[m++],i[m++],i[m++],i[m++],i[m++],i[m++],o,s,e,t).length,c=i[m-2],d=i[m-1];break;case 2:let p=i[m++],f=i[m++],b=i[m++],y=i[m++],v=i[m++],x=!!i[m++];h+=T0(p,f,b,y,v,x,o,s,e,t).length,c=p+Math.cos(v)*b,d=f+Math.sin(v)*b;break;case 4:!isNaN(a)&&Wa(a,l,c,d,o,s,e,t)&&h++;break}return h%2===1}getPoints(){let{commands:e,params:t}=this,n=[],i=0;for(let r=0;r<e.length;r++)switch(e[r]){case 0:case 1:n.push({x:t[i++],y:t[i++]});break;case 3:i+=4,n.push({x:t[i++],y:t[i++]});break;case 2:n.push({x:t[i++],y:t[i++]}),i+=4;break;case 4:break}return n}};function it(e){let{redraw:t=3,changeCb:n,convertor:i}=e??{};return W({redraw:t,type:"path",convertor:i,changeCb:n})}var _i=class extends Li{constructor(){super(...arguments),this.path=new us,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var e,t,n,i;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||((t=(e=this.fillShadow)==null?void 0:e.isDirty())!=null?t:!1)||((i=(n=this._clipPath)==null?void 0:n.isDirty())!=null?i:!1))}isPointInPath(e,t){let n=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)}isDirtyPath(){return!1}updatePath(){}render(e){var t,n,i,r,o;let{ctx:s,forceRender:a,stats:l}=e;if(this.dirty===0&&!a){l&&(l.nodesSkipped+=this.nodeCount.count);return}if(this.computeTransformMatrix(),this.matrix.toContext(s),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){s.save();let c=this.strokeWidth/2;if((t=this._clipPath)!=null||(this._clipPath=new us),this._clipPath.clear(),this._clipPath.rect(-c,-c,this._clipX+c,this._clipY+c+c),this.clipMode==="normal"&&((n=this._clipPath)==null||n.draw(s),s.clip()),this._clipX>0&&this._clipY>0&&(this.path.draw(s),this.fillStroke(s)),this.clipMode==="punch-out"){(i=this._clipPath)==null||i.draw(s),s.clip();let{x:d=-1e4,y:h=-1e4,width:u=2e4,height:m=2e4}=(r=this.computeBBox())!=null?r:{};s.clearRect(d,h,u,m)}s.restore()}else this.path.draw(s),this.fillStroke(s);(o=this.fillShadow)==null||o.markClean(),super.render(e)}};_i.className="Path";g([it()],_i.prototype,"clipMode",2);g([it()],_i.prototype,"clipX",1);g([it()],_i.prototype,"clipY",1);var Fi=class extends _i{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){let{x:e,y:t,size:n}=this,i=n/2;return new Q(e-i,t-i,n,n)}applyPath(e,t){let{path:n}=this,{x:i,y:r}=this;n.clear();for(let{x:o,y:s,t:a}of t)i+=o*e,r+=s*e,a==="move"?n.moveTo(i,r):n.lineTo(i,r);n.closePath()}};g([it()],Fi.prototype,"x",2);g([it()],Fi.prototype,"y",2);g([it({convertor:Math.abs})],Fi.prototype,"size",2);var kn=class extends Fi{updatePath(){let{x:e,y:t,path:n,size:i}=this,r=i/2;n.clear(),n.arc(e,t,r,0,Math.PI*2),n.closePath()}};kn.className="Circle";var tp=class M0 extends Fi{updatePath(){let t=this.size/4.2;super.applyPath(t,M0.moves)}};tp.className="Cross";tp.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var aA=tp,ep=class L0 extends Fi{updatePath(){let t=this.size/2;super.applyPath(t,L0.moves)}};ep.className="Diamond";ep.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var O0=ep,N0=class extends Fi{rad(e){return e/180*Math.PI}updatePath(){let{x:e,path:t,size:n,rad:i}=this,r=n/4,o=this.y+r/2;t.clear(),t.arc(e-r,o-r,r,i(130),i(330)),t.arc(e+r,o-r,r,i(220),i(50)),t.lineTo(e,o+r),t.closePath()}};N0.className="Heart";var ip=class P0 extends Fi{updatePath(){let t=this.size/3;super.applyPath(t,P0.moves)}};ip.className="Plus";ip.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var lA=ip,ms=class extends Fi{updatePath(){let{path:e,x:t,y:n}=this,i=this.size/2;e.clear(),e.moveTo(this.align(t-i),this.align(n-i)),e.lineTo(this.align(t+i),this.align(n-i)),e.lineTo(this.align(t+i),this.align(n+i)),e.lineTo(this.align(t-i),this.align(n+i)),e.closePath()}};ms.className="Square";var np=class F0 extends Fi{updatePath(){let t=this.size*1.1;super.applyPath(t,F0.moves)}};np.className="Triangle";np.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var ss=np,B0={circle:kn,cross:aA,diamond:O0,heart:N0,plus:lA,square:ms,triangle:ss},cA=Object.keys(B0);function z0(e){return typeof e=="string"&&cA.includes(e)}function Lr(e=ms){return z0(e)?B0[e]:typeof e=="function"?e:ms}var ge=class extends Y{constructor(){super({name:"markerLabelGroup"}),this.label=new bt,this.line=new ke,this._marker=new ms,this._markerSize=15,this._spacing=8;let{marker:e,label:t,line:n}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=re.has.textMetrics?1:0,this.append([n,e,t]),this.update()}set marker(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())}get marker(){return this._marker}set markerSize(e){this._markerSize!==e&&(this._markerSize=e,this.update())}get markerSize(){return this._markerSize}set spacing(e){this._spacing!==e&&(this._spacing=e,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(e){let t=this.marker.size/2+e;this.line.x1=-t,this.line.x2=t,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){this.marker.size=this.markerSize;let e=this.line.visible?this.line.x2:-1/0,t=this.markerSize/2;this.label.x=Math.max(e,t)+this.spacing}render(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(e)}};ge.className="MarkerLabel";g([jt("label")],ge.prototype,"text",2);g([jt("label")],ge.prototype,"fontStyle",2);g([jt("label")],ge.prototype,"fontWeight",2);g([jt("label")],ge.prototype,"fontSize",2);g([jt("label")],ge.prototype,"fontFamily",2);g([jt("label","fill")],ge.prototype,"color",2);g([jt("marker","fill")],ge.prototype,"markerFill",2);g([jt("marker","stroke")],ge.prototype,"markerStroke",2);g([jt("marker","strokeWidth")],ge.prototype,"markerStrokeWidth",2);g([jt("marker","fillOpacity")],ge.prototype,"markerFillOpacity",2);g([jt("marker","strokeOpacity")],ge.prototype,"markerStrokeOpacity",2);g([jt("marker","visible")],ge.prototype,"markerVisible",2);g([jt("line","stroke")],ge.prototype,"lineStroke",2);g([jt("line","strokeWidth")],ge.prototype,"lineStrokeWidth",2);g([jt("line","strokeOpacity")],ge.prototype,"lineStrokeOpacity",2);g([jt("line","lineDash")],ge.prototype,"lineLineDash",2);g([jt("line","visible")],ge.prototype,"lineVisible",2);var ks=class extends Ft{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};g([_(mt)],ks.prototype,"color",2);g([_(Ar,{optional:!0})],ks.prototype,"fontStyle",2);g([_(Rr,{optional:!0})],ks.prototype,"fontWeight",2);g([_(L)],ks.prototype,"fontSize",2);g([_(F)],ks.prototype,"fontFamily",2);var Un=class extends Ft{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};g([_(L)],Un.prototype,"size",2);g([_(mt,{optional:!0})],Un.prototype,"fill",2);g([_(At,{optional:!0})],Un.prototype,"fillOpacity",2);g([_(mt,{optional:!0})],Un.prototype,"stroke",2);g([_(L)],Un.prototype,"strokeWidth",2);g([_(At)],Un.prototype,"strokeOpacity",2);var cd=class extends Ft{constructor(e){super(),this.parent=e,this.shape=ss,this.size=15,this.padding=8}};g([Se({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],cd.prototype,"shape",2);g([_(L)],cd.prototype,"size",2);g([_(L)],cd.prototype,"padding",2);var Io=class extends Ft{constructor(e,t,n,i){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.regionManager=n,this.cursorManager=i,this.id=In(this),this.marker=new cd(this),this.activeStyle=new Un,this.inactiveStyle=new Un,this.highlightStyle=new Un,this.label=new ks,this.group=new Y({name:"pagination"}),this.labelNode=new bt,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new ss,this._previousButton=new ss,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:re.has.textMetrics?1:0}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);let r=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(r.addListener("click",o=>this.onPaginationClick(o)),r.addListener("hover",o=>this.onPaginationMouseMove(o))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(e=>e())}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){let e=this.labelNode.computeBBox();this.nextButton.translationX=e.x+e.width+this.marker.size/2+this.marker.padding}updateLabel(){let{currentPage:e,totalPages:t,labelNode:n,label:{color:i,fontStyle:r,fontWeight:o,fontSize:s,fontFamily:a}}=this;n.text=`${e+1} / ${t}`,n.fill=i,n.fontStyle=r,n.fontWeight=o,n.fontSize=s,n.fontFamily=a}updateMarkers(){let{nextButton:e,previousButton:t,nextButtonDisabled:n,previousButtonDisabled:i,activeStyle:r,inactiveStyle:o,highlightStyle:s,highlightActive:a}=this,l=(c,d)=>d?o:c===a?s:r;this.updateMarker(e,l("next",n)),this.updateMarker(t,l("previous",i))}updateMarker(e,t){var n;let{size:i}=this.marker;e.size=i,e.fill=t.fill,e.fillOpacity=(n=t.fillOpacity)!=null?n:1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){let{currentPage:e,totalPages:t}=this,n=t===0,i=e===t-1,r=e===0;this.nextButtonDisabled=i||n,this.previousButtonDisabled=r||n}nextButtonContainsPoint(e,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(e,t)}previousButtonContainsPoint(e,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(e,t)}onPaginationClick(e){let{offsetX:t,offsetY:n}=e;this.nextButtonContainsPoint(t,n)?(this.incrementPage(),this.onPaginationChanged(),e.consume()):this.previousButtonContainsPoint(t,n)&&(this.decrementPage(),this.onPaginationChanged(),e.consume())}onPaginationMouseMove(e){let{offsetX:t,offsetY:n}=e;this.nextButtonContainsPoint(t,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){let e=Lr(this.marker.shape||ss);this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}computeBBox(){return this.group.computeBBox()}};Io.className="Pagination";g([_(K)],Io.prototype,"marker",2);g([_(K)],Io.prototype,"activeStyle",2);g([_(K)],Io.prototype,"inactiveStyle",2);g([_(K)],Io.prototype,"highlightStyle",2);g([_(K)],Io.prototype,"label",2);var Or=class extends Ft{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}};g([_(L,{optional:!0})],Or.prototype,"maxLength",2);g([_(mt)],Or.prototype,"color",2);g([_(Ar,{optional:!0})],Or.prototype,"fontStyle",2);g([_(Rr,{optional:!0})],Or.prototype,"fontWeight",2);g([_(L)],Or.prototype,"fontSize",2);g([_(F)],Or.prototype,"fontFamily",2);g([_(Oi,{optional:!0})],Or.prototype,"formatter",2);var Ss=class extends Ft{constructor(){super(...arguments),this.size=15,this.padding=8,this.enabled=!0}};g([xs(e=>{var t;return(t=e.parent)==null?void 0:t.onMarkerShapeChange()})],Ss.prototype,"shape",2);g([_(L)],Ss.prototype,"size",2);g([_(L)],Ss.prototype,"padding",2);g([_(L,{optional:!0})],Ss.prototype,"strokeWidth",2);g([_(Z)],Ss.prototype,"enabled",2);var rp=class extends Ft{};g([_(L,{optional:!0})],rp.prototype,"strokeWidth",2);g([_(L,{optional:!0})],rp.prototype,"length",2);var tr=class extends Ft{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1,this.marker=new Ss,this.label=new Or,this.line=new rp}};g([_(L,{optional:!0})],tr.prototype,"maxWidth",2);g([_(L)],tr.prototype,"paddingX",2);g([_(L)],tr.prototype,"paddingY",2);g([_(Z)],tr.prototype,"toggleSeriesVisible",2);g([_(Z)],tr.prototype,"showSeriesStroke",2);g([_(K)],tr.prototype,"marker",2);g([_(K)],tr.prototype,"label",2);g([_(K)],tr.prototype,"line",2);var op=class extends Ft{};g([_(Oi,{optional:!0})],op.prototype,"legendItemClick",2);g([_(Oi,{optional:!0})],op.prototype,"legendItemDoubleClick",2);var si=class extends Ft{constructor(e){super(),this.ctx=e,this.id=In(this),this.group=new Y({name:"legend",layer:!0,zIndex:9}),this.itemSelection=Yt.select(this.group,ge),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.item=new tr,this.listeners=new op,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Io(i=>e.updateService.update(i),i=>this.updatePageNumber(i),e.regionManager,e.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;let t=9,n=e.regionManager.addRegion("legend",this.group);this.destroyFns.push(n.addListener("click",i=>this.checkLegendClick(i),t),n.addListener("dblclick",i=>this.checkLegendDoubleClick(i),t),n.addListener("hover",i=>this.handleLegendMouseMove(i)),n.addListener("leave",i=>this.handleLegendMouseExit(i)),e.layoutService.addListener("start-layout",i=>this.positionLegend(i.shrinkRect)),()=>this.detachLegend())}set data(e){this._data=e,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.destroyFns.forEach(e=>e()),this.pagination.destroy()}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(e){let{characterWidths:t}=this;if(t.has(e))return t.get(e);let n={"...":re.getTextSize("...",e).width};return t.set(e,n),n}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.append(this.group)}detachLegend(){var e;(e=this.group.parent)==null||e.removeChild(this.group)}getItemLabel(e){let{ctx:{callbackCache:t}}=this,{formatter:n}=this.item.label;return n?t.call(n,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}performLayout(e,t){let{paddingX:n,paddingY:i,label:r,maxWidth:o,marker:{size:s,padding:a,shape:l},label:{maxLength:c=1/0,fontStyle:d,fontWeight:h,fontSize:u,fontFamily:m},line:p,showSeriesStroke:f}=this.item,b=[...this.data];this.reverseOrder&&b.reverse(),this.itemSelection.update(b);let y=[],v=Sr(r),k=o??e*.8,w=s+a+n;if(this.itemSelection.each((O,U)=>{var rt,J,dt;let ot=Lr(l??U.marker.shape),vt=(rt=U.marker.enabled)!=null?rt:this.item.marker.enabled;O.marker&&O.marker instanceof ot||(O.marker=new ot),O.markerSize=s,O.spacing=a,O.fontStyle=d,O.fontWeight=h,O.fontSize=u,O.fontFamily=m;let at=(J=U.itemId)!=null?J:U.id,pt=this.getItemLabel(U),Vt=(pt??"<unknown>").replace(/\r?\n/g," ");O.text=this.truncate(Vt,c,k,w,v,at),f&&U.line!==void 0?(O.lineVisible=!0,O.markerVisible=vt,O.setSeriesStrokeOffset((dt=p.length)!=null?dt:5)):(O.lineVisible=!1,O.markerVisible=!0),y.push(O.computeBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return!1;let S=this.size,C=this.oldSize;S[0]=e,S[1]=t,(S[0]!==C[0]||S[1]!==C[1])&&(C[0]=S[0],C[1]=S[1]);let{pages:E,maxPageHeight:D,maxPageWidth:A}=this.updatePagination(y,e,t);this.pages=E,this.maxPageSize=[A-n,D-i];let R=this.pagination.currentPage,N=this.pages[R];if(this.pages.length<1||!N){this.visible=!1;return}this.visible=!0,this.updatePositions(R),this.update()}truncate(e,t,n,i,r,o){let s="...",a=e.split(""),l=!1;if(e.length>t&&(e=`${e.substring(0,t)}`,l=!0),Math.floor(i+re.getTextSize(e,r).width)>n){let d="",h=this.getCharacterWidths(r),u=i+h[s];for(let m of a){if(h[m]||(h[m]=re.getTextSize(m,r).width),u+=h[m],u>n)break;d+=m}e=d,l=!0}return l?(e+=s,this.truncatedItems.add(o)):this.truncatedItems.delete(o),e}updatePagination(e,t,n){let i=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:o,maxPageHeight:s,maxPageWidth:a,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,n),d=o.findIndex(v=>v.endIndex>=r);this.pagination.currentPage=gt(0,d,o.length-1);let{paddingX:h,paddingY:u}=this.item,m=8,p=a-h,f=s-u,b=0,y=-l.y-this.item.marker.size/2;return c?y+=f+m:(b+=-l.x+p+m,y+=(f-l.height)/2),this.pagination.translationX=b,this.pagination.translationY=y,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:s,maxPageWidth:a,pages:o}}calculatePagination(e,t,n){var i,r,o;let{paddingX:s,paddingY:a}=this.item,l=this.getOrientation(),c=["left","right"].includes(this.position),d=this.pagination.computeBBox(),h=new Q(0,0,0,0),u=[],m=0,p=0,f=0,b=v=>{let{width:x,height:k}=v;return x===d.width&&k===d.height},y=this.maxWidth!==void 0||this.maxHeight!==void 0;do{if(f++>10){j.warn("unable to find stable legend layout.");break}d=h;let v=t-(c?0:d.width),x=n-(c?d.height:0),k=ZI({orientation:l,bboxes:e,maxHeight:x,maxWidth:v,itemPaddingY:a,itemPaddingX:s,forceResult:y});u=(i=k?.pages)!=null?i:[],m=(r=k?.maxPageWidth)!=null?r:0,p=(o=k?.maxPageHeight)!=null?o:0;let w=u.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),h=this.pagination.computeBBox(),!this.pagination.visible)break}while(!b(h));return{maxPageWidth:m,maxPageHeight:p,pages:u,paginationBBox:d,paginationVertical:c}}updatePositions(e=0){let{item:{paddingY:t},itemSelection:n,pages:i}=this;if(i.length<1||!i[e])return;let{columns:r,startIndex:o,endIndex:s}=i[e],a=0,l=0,c=r.length,d=r[0].indices.length,h=this.getOrientation()==="horizontal",u=r[0].bboxes[0].height+t,m=[];n.each((p,f,b)=>{var y,v;if(b<o||b>s){p.visible=!1;return}let x=b-o,k=0,w=0;h?(k=x%c,w=Math.floor(x/c)):(k=Math.floor(x/d),w=x%d),p.visible=!0;let S=r[k];S&&(l=u*w,a=(y=m[w])!=null?y:0,m[w]=((v=m[w])!=null?v:0)+S.columnWidth,p.translationX=Math.floor(a),p.translationY=Math.floor(l))})}updatePageNumber(e){let{pages:t}=this,{startIndex:n,endIndex:i}=t[e];n===0?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=i:this.paginationTrackingIndex=Math.floor((n+i)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.ctx.updateService.update(6)}update(){let{label:{color:e},marker:t,line:n,showSeriesStroke:i}=this.item;this.itemSelection.each((r,o)=>{var s,a;let l=o.marker;r.markerFill=l.fill,r.markerStroke=l.stroke,r.markerStrokeWidth=(s=t.strokeWidth)!=null?s:Math.min(2,l.strokeWidth),r.markerFillOpacity=l.fillOpacity,r.markerStrokeOpacity=l.strokeOpacity,r.opacity=o.enabled?1:.5,r.color=e;let{line:c}=o;i&&c!==void 0&&(r.lineStroke=c.stroke,r.lineStrokeOpacity=c.strokeOpacity,r.lineStrokeWidth=(a=n.strokeWidth)!=null?a:Math.min(2,c.strokeWidth),r.lineLineDash=c.lineDash)})}getDatumForPoint(e,t){let n=[],i={dist:1/0,datum:void 0};for(let o of this.group.children){if(!o.visible||!(o instanceof ge))continue;let s=o.computeBBox();if(s.grow(this.item.paddingX/2,"horizontal"),s.grow(this.item.paddingY/2,"vertical"),s.containsPoint(e,t))return o.datum;let a=e-s.x-this.item.paddingX/2,l=t-s.y-this.item.paddingY/2,c=nt(a,2)+nt(l,2);a>=0&&l>=0&&c<i.dist&&(i.dist=c,i.datum=o.datum),n.push(s)}if(Q.merge(n).containsPoint(e,t))return i.datum}computePagedBBox(){let e=this.group.computeBBox();if(this.pages.length<=1)return e;let[t,n]=this.maxPageSize;return e.height=Math.max(n,e.height),e.width=Math.max(t,e.width),e}checkLegendClick(e){let{listeners:{legendItemClick:t},ctx:{chartService:n,highlightManager:i},item:{toggleSeriesVisible:r},preventHidingAll:o}=this,s=this.getDatumForPoint(e.offsetX,e.offsetY);if(!s)return;let{id:a,itemId:l,enabled:c}=s,d=n.series.find(u=>u.id===a);if(!d)return;e.consume();let h=c;r&&(h=!c,o&&!h&&n.series.flatMap(m=>m.getLegendData("category")).filter(m=>m.enabled).length<2&&(h=!0),this.ctx.chartEventManager.legendItemClick(d,l,h,s.legendItemName)),h?i.updateHighlight(this.id,{series:d,itemId:l,datum:void 0}):i.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t?.({type:"click",enabled:h,itemId:l,seriesId:d.id})}checkLegendDoubleClick(e){var t;let{listeners:{legendItemDoubleClick:n},ctx:{chartService:i},item:{toggleSeriesVisible:r}}=this;if(i.mode==="integrated")return;let o=this.getDatumForPoint(e.offsetX,e.offsetY);if(!o)return;let{id:s,itemId:a,seriesId:l}=o,c=i.series.find(d=>d.id===s);if(c){if(e.consume(),r){let d=i.series.flatMap(m=>m.getLegendData("category")),h=d.filter(m=>m.enabled).length,u=d.find(m=>m.itemId===a&&m.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(c,a,(t=u?.enabled)!=null?t:!1,h,u?.legendItemName)}this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),n?.({type:"dblclick",enabled:!0,itemId:a,seriesId:c.id})}}handleLegendMouseMove(e){var t;let{enabled:n,item:{toggleSeriesVisible:i},listeners:r}=this;if(!n)return;let{offsetX:o,offsetY:s}=e;e.consume();let a=this.getDatumForPoint(o,s);if(a===void 0){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}let l=a?this.ctx.chartService.series.find(c=>c.id===a?.id):void 0;a&&this.truncatedItems.has((t=a.itemId)!=null?t:a.id)?this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:o,offsetY:s,lastPointerEvent:e,showArrow:!1,addCustomClass:!1},Za({content:this.getItemLabel(a)})):this.ctx.tooltipManager.removeTooltip(this.id),(i||r.legendItemClick!=null||r.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),a?.enabled&&l?this.ctx.highlightManager.updateHighlight(this.id,{series:l,itemId:a?.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(e){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.ctx.tooltipManager.removeTooltip(this.id)}positionLegend(e){let t=e.clone();if(!this.enabled||!this.data.length)return{shrinkRect:t};let[n,i]=this.calculateLegendDimensions(e);this.group.translationX=0,this.group.translationY=0,this.performLayout(n,i);let r=this.computePagedBBox(),o=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return e.height-r.height;case"right":default:return e.width-r.width}};if(this.visible){let s,a;switch(this.position){case"top":case"bottom":s=(e.width-r.width)/2,a=o(),t.shrink(r.height,this.position);break;case"left":case"right":default:s=o(),a=(e.height-r.height)/2,t.shrink(r.width,this.position)}this.group.translationX=Math.floor(-r.x+e.x+s),this.group.translationY=Math.floor(-r.y+e.y+a)}if(this.visible&&this.enabled&&this.data.length){let s=this.spacing;t.shrink(s,this.position);let a=r.clone();a.x+=this.group.translationX,a.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,a)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:t}}calculateLegendDimensions(e){let{width:t,height:n}=e,i=t/n,r=.5,o=.2,s=.25,a,l;switch(this.position){case"top":case"bottom":let c=i<1?Math.min(r,o*(1/i)):o;a=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*c);break;case"left":case"right":default:let d=i>1?Math.min(r,s*i):s;a=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*d),l=this.maxHeight?Math.min(this.maxHeight,n):n}return[a,l]}};si.className="Legend";g([_(K)],si.prototype,"pagination",2);g([_(K)],si.prototype,"item",2);g([_(K)],si.prototype,"listeners",2);g([xs(e=>e.updateGroupVisibility()),_(Z)],si.prototype,"enabled",2);g([_(Pm)],si.prototype,"position",2);g([_(L,{optional:!0})],si.prototype,"maxWidth",2);g([_(L,{optional:!0})],si.prototype,"maxHeight",2);g([_(Z,{optional:!0})],si.prototype,"reverseOrder",2);g([_(le(["horizontal","vertical"],"an orientation"),{optional:!0})],si.prototype,"orientation",2);g([_(Z,{optional:!0})],si.prototype,"preventHidingAll",2);g([_(L)],si.prototype,"spacing",2);var dA=["top","right","bottom","left"],j0=["category","grouped-category","number","log","time"];function hA(e){return j0.includes(e.type)}function uA(e){return j0.includes(e.type)}function mA(e){return typeof e=="string"&&dA.includes(e)}var pA=class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(e,t){let{result:n,valid:i,invalid:r}=this;uA(t)&&(mA(t.position)?i.push(e):r.push(e)),n.push(e)}guessInvalidPositions(){let e=this.valid.filter(n=>hA(n)).map(n=>n.position).filter(n=>n!==void 0),t=["top","right","bottom","left"];for(let n of this.invalid){let i=t.pop();for(;e.includes(i)&&i!==void 0;)i=t.pop();if(i===void 0)break;n.position=i}return this.result}};function fA(e,t,n){var i,r,o;let s=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"],a=(p,f)=>{let b=[p];for(let y of s)y in f&&f[y]!=null&&b.push(`${y}=${f[y]}`);return b.join(";")},l=new Map,c=0;for(let p of e){let f=a(p.type,p.properties);l.has(f)||l.set(f,[]),(i=l.get(f))==null||i.push([p,c++])}let d=new Map;for(let p of t){let f=a(p.type,p);d.has(f)||d.set(f,[]),(r=d.get(f))==null||r.push(p)}if(![...l.keys()].some(p=>d.has(p)))return{status:"no-overlap",oldKeys:l.keys(),newKeys:d.keys()};let u=[],m=-1;for(let[p,f]of d.entries())for(let b of f){m++;let y=l.get(p);if(y==null||y.length<1){u.push({opts:b,idx:m,status:"add"}),l.delete(p);continue}let[v,x]=y.shift(),k=(o=n?.[x])!=null?o:{},w=bi(k,b??{});w?u.push({opts:b,series:v,diff:w,idx:x,status:"update"}):u.push({opts:b,series:v,idx:x,status:"no-op"}),y.length===0&&l.delete(p)}for(let p of l.values())for(let[f,b]of p)u.push({series:f,idx:b,status:"remove"});return{status:"overlap",changes:u}}var Vn="ag-chart-overlay",lm="ag-chart-dark-overlay",as=class{constructor(e,t,n){this.className=e,this.parentElement=t,this.animationManager=n,this.darkTheme=!1}show(e){var t,n;this.element||(this.element=this.createElement("div"),this.element.classList.add(this.className,Vn)),this.element.classList.toggle(lm,this.darkTheme);let{element:i}=this;if(i.style.position="absolute",i.style.left=`${e.x}px`,i.style.top=`${e.y}px`,i.style.width=`${e.width}px`,i.style.height=`${e.height}px`,this.renderer)i.innerHTML=this.renderer();else{let r=this.createElement("div");r.style.alignItems="center",r.style.boxSizing="border-box",r.style.display="flex",r.style.justifyContent="center",r.style.margin="8px",r.style.height="100%",r.style.font="12px Verdana, sans-serif",r.innerText=(t=this.text)!=null?t:"No data to display",i.replaceChildren(r),this.animationManager.animate({from:0,to:1,phase:"add",id:"overlay",groupId:"opacity",onUpdate(o){i.style.opacity=String(o)},onStop(){i.style.opacity="1"}})}(n=this.parentElement)==null||n.append(i)}hide(){if(!this.element)return;let e=this.element;this.animationManager.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){e.style.opacity=String(t)},onStop(){e.remove()}}),this.element=void 0}createElement(e,t){return this.parentElement.ownerDocument.createElement(e,t)}};g([_(Oi,{optional:!0})],as.prototype,"renderer",2);g([_(F,{optional:!0})],as.prototype,"text",2);g([_(Z)],as.prototype,"darkTheme",2);var gA=`
.${Vn} {
    color: #181d1f;
}

.${Vn}.${lm} {
    color: #ffffff;
}

.${Vn}--loading {
    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */
}

.${Vn}__loading-background {
    background: white; /* DEFAULT_BACKGROUND_FILL */
}

.${Vn}.${lm} .${Vn}__loading-background {
    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */
}
`,V0=class cm{constructor(t,n){this.loading=new as("ag-chart-loading-overlay",t,n),this.loading.text="Loading data...",this.loading.renderer=()=>this.renderLoadingSpinner(t,n),this.noData=new as("ag-chart-no-data-overlay",t,n),this.noVisibleSeries=new as("ag-chart-no-visible-series",t,n),this.noVisibleSeries.text="No visible series",cm.overlayDocuments.indexOf(t.ownerDocument)<0&&(od(t.ownerDocument,gA),cm.overlayDocuments.push(t.ownerDocument))}destroy(){this.loading.hide(),this.noData.hide(),this.noVisibleSeries.hide()}renderLoadingSpinner(t,n){var i;let r=this.createElement(t,"div");r.className=`${Vn}--loading`,r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.flexDirection="column",r.style.height="100%",r.style.boxSizing="border-box",r.style.font="13px Verdana, sans-serif",r.style.userSelect="none",r.style.animation=`ag-charts-loading ${Tm.animationDuration*n.defaultDuration}ms linear 50ms both`;let o=this.createElement(r,"span");o.style.width="45px",o.style.height="40px",o.style.backgroundImage=`${["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join("")}`,o.style.backgroundSize="10px 400%",o.style.backgroundRepeat="no-repeat",o.style.animation="ag-charts-loading-matrix 1s infinite linear";let s=this.createElement(r,"p");s.style.marginTop="1em",s.innerText=(i=this.loading.text)!=null?i:"Loading data...";let a=this.createElement(t,"div");a.className=`${Vn}__loading-background`,a.style.position="absolute",a.style.top="0",a.style.right="0",a.style.bottom="0",a.style.left="0",a.style.opacity="0.5",a.style.zIndex="-1";let l=this.createElement(r,"style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,o,s,a),r.outerHTML}createElement(t,n,i){return t.ownerDocument.createElement(n,i)}};V0.overlayDocuments=[];var bA=V0;function dd(e,t=[0,0]){for(let n of e)typeof n=="number"&&(n<0&&(t[0]+=n),n>0&&(t[1]+=n));return t}function vA(e,t,n){return{id:t,scopes:[e.id],matchGroupIds:[n],type:"aggregate",aggregateFunction:r=>dd(r)}}function U0(e,t,n){return{id:t,scopes:[e.id],type:"aggregate",matchGroupIds:n?[n]:void 0,aggregateFunction:i=>dd(i),groupAggregateFunction:(i,r=[0,0])=>{var o,s;return r[0]+=(o=i?.[0])!=null?o:0,r[1]+=(s=i?.[1])!=null?s:0,r}}}function G0(e,t,n){return{id:t,scopes:[e.id],matchGroupIds:[n],type:"aggregate",aggregateFunction:r=>Pa(r)}}function yA(e,t){return{id:t,scopes:[e.id],type:"aggregate",aggregateFunction:()=>[0,1]}}function dm(e,t){return{id:t,scopes:[e.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(n,i=[0,0])=>{var r,o;return i[0]+=(r=n?.[0])!=null?r:0,i[1]+=(o=n?.[1])!=null?o:0,i}}}function _A(e,t,n){return{id:t,scopes:[e.id],matchGroupIds:[n],type:"aggregate",aggregateFunction:r=>dd(r).map(o=>o/r.length)}}function W0(e,t,n){return{id:t,scopes:[e.id],matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:r=>dd(r),groupAggregateFunction:(r,o=[0,0,-1])=>{var s,a;return o[0]+=(s=r?.[0])!=null?s:0,o[1]+=(a=r?.[1])!=null?a:0,o[2]++,o},finalFunction:(r=[0,0,0])=>{let o=r[0]+r[1];return o>=0?[0,o/r[2]]:[o/r[2],0]}}}function hm(e,t,n,i){let r={id:t,scopes:[e.id],matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(o,s=[])=>{let a=s[1]-s[0];return n.aggregateFunction(o).map(l=>l/a)}};return n.groupAggregateFunction&&(r.groupAggregateFunction=n.groupAggregateFunction),r}function $0(e){return()=>{let t=0;return n=>xt(n)?(t+=e?Math.max(0,n):n,t):n}}function H0(){return()=>{let e=0;return t=>{if(!xt(t))return t;let n=e;return e+=t,n}}}var ya=new Map;function $c(e,t){var n,i,r;let o=JSON.stringify(e,null,0);return ya.has(t)||ya.set(t,new Map),(n=ya.get(t))!=null&&n.has(o)||(i=ya.get(t))==null||i.set(o,t(e)),(r=ya.get(t))==null?void 0:r.get(o)}var um={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,n)=>{let i=n.keys[0],r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r<t?r:t}}},xA={type:"processor",property:"aggValuesExtent",calculate:e=>{var t,n,i,r;let o=[...(n=(t=e.domain.aggValues)==null?void 0:t[0])!=null?n:[0,0]];for(let[s,a]of(r=(i=e.domain.aggValues)==null?void 0:i.slice(1))!=null?r:[])s<o[0]&&(o[0]=s),a>o[1]&&(o[1]=a);return o}},Y0={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>{if(e!=null)return[...e].sort((t,n)=>{for(let i=0;i<t.length;i++){let r=t[i]-n[i];if(r!==0)return r}return 0})}};function wA({normaliseTo:e,mode:t}){let n=(i,r)=>{let o=i*e/r;return o>=0?Math.min(e,o):Math.max(-e,o)};return()=>()=>(i,r)=>{let o=[0,0];for(let a of r){let l=i[a],c=l<0?0:1;t==="sum"?o[c]+=l:c===0?o[c]=Math.min(o[c],l):o[c]=Math.max(o[c],l)}let s=Math.max(Math.abs(o[0]),o[1]);for(let a of r)i[a]=n(i[a],s)}}function Hc(e,t,n,i="sum"){return{scopes:[e.id],type:"group-value-processor",matchGroupIds:t,adjust:$c({normaliseTo:n,mode:i},wA)}}function kA({normaliseTo:e,zeroDomain:t,rangeMin:n,rangeMax:i}){let r=e[1]-e[0],o=(s,a,l)=>{let c=e[0]+(s-a)/l*r;return l===0?t:c>=e[1]?e[1]:c<e[0]?e[0]:c};return()=>(s,a)=>{let[l,c]=s.domain.values[a];n!=null&&(l=n),i!=null&&(c=i);let d=c-l;s.domain.values[a]=[e[0],e[1]];for(let h of s.data){let u=h.values;s.type==="ungrouped"&&(u=[u]);for(let m of u)m[a]=o(m[a],l,d)}}}function el(e,t,n,i,r,o){return{scopes:[e.id],type:"property-value-processor",property:t,adjust:$c({normaliseTo:n,rangeMin:r,rangeMax:o,zeroDomain:i},kA)}}function Cs(e,t=[]){return{type:"processor",scopes:[e.id],property:"animationValidation",calculate(n){var i;let{keys:r,values:o}=n.defs,{input:s,data:a}=n,l=!0,c=!0,d=[];for(let u=0;u<o.length;u++)(i=o[u].scopes)!=null&&i.some(m=>m===e.id)&&t.some(m=>o[u].id===m)&&d.push([u,o[u]]);let h=(u,m,p)=>{var f;if(m.valueType==="category"){let y=n.domain[p][u];l&&(l=y.length===s.count);return}let b=(f=a[0])==null?void 0:f[p][u];for(let y=1;(l||c)&&y<a.length;y++){let v=a[y][p][u];c&&(c=b<=v),l&&(l=b!==v),b=v}};for(let u=0;(l||c)&&u<r.length;u++)h(u,r[u],"keys");for(let u=0;(l||c)&&u<d.length;u++){let[m,p]=d[u];h(m,p,"values")}return{uniqueKeys:l,orderedKeys:c}}}}function SA({mode:e,separateNegative:t}){return()=>()=>(n,i)=>{let r=[0,0];for(let o of i){let s=n[o],a=fl(s)&&t?0:1;xt(s)&&(e==="normal"&&(r[a]+=s),n[o]=r[a],e==="trailing"&&(r[a]+=s))}}}function CA({mode:e,sum:t}){return()=>{let n=[],i=!0;return()=>(r,o)=>{let s=0;for(let a of o){let l=r[a],c=i&&t==="current"?0:n[a];n[a]=l;let d=t==="current"?l:c;if(!xt(l)||!xt(c)){r[a]=s;continue}e==="normal"&&(s+=d),r[a]=s,e==="trailing"&&(s+=d)}i=!1}}}function K0(e,t,n,i,r=!1){let o;if(n.startsWith("window")){let s=n.endsWith("-trailing")?"trailing":"normal";o=$c({mode:s,sum:i},CA)}else o=$c({mode:n,separateNegative:r},SA);return{scopes:[e.id],type:"group-value-processor",matchGroupIds:[t],adjust:o}}function Ao(e,t=!0){return{type:"processor",property:"diff",calculate:n=>{let i={changed:!1,moved:[],added:[],updated:[],removed:[],addedIndices:[],updatedIndices:[],removedIndices:[]},r=new Map,o=new Map,s=new Map,a=new Map,l=new Map,c=new Map,d=new Map;for(let h=0;h<Math.max(e.data.length,n.data.length);h++){let u=e.data[h],m=n.data[h],p=u?Dr(u.keys):"",f=m?Dr(m.keys):"";if(p===f){Va(u.values,m.values)||(s.set(f,m),c.set(f,h));continue}a.has(f)?((t||!Va(a.get(f).values,m.values))&&(s.set(f,m),c.set(f,h),r.set(f,m)),a.delete(f),d.delete(f)):m&&(o.set(f,m),l.set(f,h)),o.has(p)?((t||!Va(o.get(p).values,u.values))&&(s.set(p,u),c.set(p,h),r.set(p,u)),o.delete(p),l.delete(p)):u&&(s.delete(p),c.delete(p),a.set(p,u),d.set(p,h))}return i.added=Array.from(o.keys()),i.updated=Array.from(s.keys()),i.removed=Array.from(a.keys()),i.moved=Array.from(r.keys()),i.addedIndices=Array.from(l.values()),i.updatedIndices=Array.from(c.values()),i.removedIndices=Array.from(d.values()),i.changed=i.added.length>0||i.updated.length>0||i.removed.length>0,i}}}function Dr(e){return fe(e)?e.map(t=>rs(t)).join("___"):rs(e)}var X0=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",e[e.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",e[e.NEAREST_NODE=3]="NEAREST_NODE",e))(X0||{});function sp(e){return Qa(e,!0)!=null}function q0(e){return Qa(e,!1)!=null}function Pe(e,t,n,i={}){return I({scopes:[e.id],property:t,type:"key",valueType:n?"range":"category",validation:n?sp:q0},i)}function Nt(e,t,n,i={}){return I({scopes:[e.id],property:t,type:"value",valueType:n?"range":"category",validation:n?sp:q0},i)}function ap(e,t,n={}){let i=n,{min:r=-1/0,max:o=1/0}=i,s=we(i,["min","max"]);return I({scopes:[e.id],type:"value",property:t,valueType:"range",validation:sp,processor:()=>a=>xt(a)?gt(r,a,o):a},s)}function DA(e,t,n,i={}){return V(I({},Nt(e,t,n,i)),{processor:Z0()})}function Z0(){return()=>{let e=0;return t=>{let n=e;return e=t,n}}}function lp(e,t,n,i={}){let r=i,{onlyPositive:o}=r,s=we(r,["onlyPositive"]);return V(I({},Nt(e,t,n,s)),{processor:$0(o)})}function EA(e,t,n,i={}){return V(I({},Nt(e,t,n,i)),{processor:H0()})}function _r(e,t,n,i,r="current",o){return[Nt(e,t,n,o),K0(e,o.groupId,i,r,o.separateNegative),...o.rangeId!=null?[G0(e,o.rangeId,o.groupId)]:[]]}var Sl=class{constructor(e,t,{datum:n},i){this.type=e,this.event=t,this.datum=n,this.seriesId=i.id}},cp=class{constructor(e,t,n){this.series=e,this.seriesGrouping=t,this.oldGrouping=n,this.type="groupingChanged"}},Ds=class extends b0{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeClickEvent=Sl,this.internalId=In(this),this.rootGroup=new Y({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new $y,this._declarationOrder=-1,this.seriesListeners=new ws;let{moduleCtx:t,useLabelLayer:n=!1,pickModes:i=[1],directionKeys:r={},directionNames:o={},contentGroupVirtual:s=!0,canHaveAxes:a=!1}=e;this.ctx=t,this.directionKeys=r,this.directionNames=o,this.canHaveAxes=a,this.contentGroup=this.rootGroup.appendChild(new Y({name:`${this.internalId}-content`,layer:!s,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new Y({name:`${this.internalId}-highlight`,layer:!s,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new Y({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new Y({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new Y({name:`${this.internalId}-series-labels`,layer:n,zIndex:7})),this.annotationGroup=new Y({name:`${this.id}-annotation`,layer:!s,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var e,t;return(t=(e=this.properties)==null?void 0:e.id)!=null?t:this.internalId}get type(){var e;return(e=this.constructor.type)!=null?e:""}set data(e){this._data=e,this.onDataChange()}get data(){var e;return(e=this._data)!=null?e:this._chartData}set visible(e){this.properties.visible=e,this.visibleChanged()}get visible(){return this.properties.visible}onDataChange(){this.nodeDataRefresh=!0}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){let{internalId:n,type:i,visible:r}=this;e&&this.ctx.seriesStateManager.deregisterSeries({id:n,type:i}),t&&this.ctx.seriesStateManager.registerSeries({id:n,type:i,visible:r,seriesGrouping:t}),this.fireEvent(new cp(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e,t=0){let n=0;switch(e){case"data":case"paths":break;case"labels":n+=2e4;break;case"marker":n+=1e4;break;case"highlight":t+=15e3;break;case"annotation":n+=15e3;break}return[()=>this._declarationOrder+n,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){let n=this.resolveKeyDirection(e),i=t?.[n],r=[];if(!i)return r;let o=(...s)=>{for(let a of s)Array.isArray(a)?o(...a):typeof a=="object"?o(...Object.values(a)):r.push(a)};return o(...i.map(s=>this.properties[s])),r}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){let t=this.getSeriesDomain(e),n=this.moduleMap.mapValues(i=>i.getDomain(e));return t.concat(n.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){let{dimOpacity:t=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){let{strokeWidth:t,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){var e,t;let{series:n}=(t=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight())!=null?t:{};return n==null?0:n!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapValues(t=>t.getTooltipParams()).reduce((t,n)=>I(I({},n),t),{})}pickNode(e,t){let{pickModes:n,visible:i,rootGroup:r}=this;if(!(!i||!r.visible))for(let o of n){if(t&&!t.includes(o))continue;let s;switch(o){case 0:s=this.pickNodeExactShape(e);break;case 1:case 2:s=this.pickNodeMainAxisFirst(e,o===2);break;case 3:s=this.pickNodeClosestDatum(e);break}if(s)return{pickMode:o,match:s.datum,distance:s.distance}}}pickNodeExactShape(e){let t=this.contentGroup.pickNode(e.x,e.y);return t&&{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeClickEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeClickEvent("nodeDoubleClick",e,t,this))}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return V(I({},this.ctx),{series:this})}getLabelText(e,t,n=String){var i;return e.formatter&&(i=this.ctx.callbackCache.call(e.formatter,I({seriesId:this.id},t)))!=null?i:n(t.value)}getMarkerStyle(e,t,n=e.getStyle()){var i,r;let o={size:(r=(i=t.datum.point)==null?void 0:i.size)!=null?r:0},s=st(o,n);if(e.formatter){let a=this.ctx.callbackCache.call(e.formatter,V(I(I({seriesId:this.id},s),t),{datum:t.datum.datum}));return st(a,s)}return s}updateMarkerStyle(e,t,n,i=t.getStyle(),{applyTranslation:r=!0}={}){let{point:o}=n.datum,s=this.getMarkerStyle(t,n,i),a=this.visible&&s.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);r?e.setProperties(V(I({visible:a},s),{translationX:o?.x,translationY:o?.y})):e.setProperties(I({visible:a},s)),typeof t.shape=="function"&&!e.dirtyPath&&(e.path.clear({trackChanges:!0}),e.updatePath(),e.checkPathDirty())}getMinRect(){}get nodeDataDependencies(){var e;return(e=this._nodeDataDependencies)!=null?e:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){let{width:t,height:n}=e??{width:NaN,height:NaN},i=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,r=bi(this.nodeDataDependencies,i)!=null;return r&&(this._nodeDataDependencies=i,this.markNodeDataDirty()),r}};Ds.highlightedZIndex=1e12;g([Se({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],Ds.prototype,"seriesGrouping",2);var Gb=30,IA=class{constructor(e){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=e}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,n,i,r;let{internalId:o,type:s,rootGroup:a,highlightGroup:l,annotationGroup:c,seriesGrouping:d}=e,{groupIndex:h=o}=d??{};if(this.series[o]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[o]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=Gb?"aggressive-grouping":"normal"),(n=(t=this.groups)[s])!=null||(t[s]={});let u=this.lookupIdx(h),m=this.groups[s][u];return m||(m=(r=(i=this.groups[s])[u])!=null?r:i[u]={seriesIds:[],group:this.rootGroup.appendChild(new Y({name:`${s}-content`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new Y({name:`${s}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new Y({name:`${s}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))}),this.series[o]={layerState:m,seriesConfig:e},m.seriesIds.push(o),m.group.appendChild(a),m.highlight.appendChild(l),m.annotation.appendChild(c),m.group}changeGroup(e){var t,n;let{internalId:i,seriesGrouping:r,type:o,rootGroup:s,highlightGroup:a,annotationGroup:l,oldGrouping:c}=e,{groupIndex:d=i}=r??{};(n=(t=this.groups[o])==null?void 0:t[d])!=null&&n.seriesIds.includes(i)||(this.series[i]!=null&&this.releaseGroup({internalId:i,seriesGrouping:c,type:o,rootGroup:s,highlightGroup:a,annotationGroup:l}),this.requestGroup(e))}releaseGroup(e){var t,n,i,r,o;let{internalId:s,seriesGrouping:a,rootGroup:l,highlightGroup:c,annotationGroup:d,type:h}=e,{groupIndex:u=s}=a??{};if(this.series[s]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${s}`);let m=this.lookupIdx(u),p=(i=(t=this.groups[h])==null?void 0:t[m])!=null?i:(n=this.series[s])==null?void 0:n.layerState;if(p&&(p.seriesIds=p.seriesIds.filter(f=>f!==s),p.group.removeChild(l),p.highlight.removeChild(c),p.annotation.removeChild(d)),p?.seriesIds.length===0)this.rootGroup.removeChild(p.group),this.rootGroup.removeChild(p.highlight),this.rootGroup.removeChild(p.annotation),delete this.groups[h][m],delete this.groups[h][s];else if(p?.seriesIds.length>0){let f=(o=this.series[(r=p?.seriesIds)==null?void 0:r[0]])==null?void 0:o.seriesConfig;p.group.zIndexSubOrder=f?.getGroupZIndexSubOrder("data"),p.highlight.zIndexSubOrder=f?.getGroupZIndexSubOrder("highlight"),p.annotation.zIndexSubOrder=f?.getGroupZIndexSubOrder("annotation")}delete this.series[s]}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").slice(-1)[0]),!e)?0:Math.floor(Math.max(Math.min(e/this.expectedSeriesCount,1),0)*Gb)}destroy(){for(let e of Object.values(this.groups))for(let t of Object.values(e))this.rootGroup.removeChild(t.group),this.rootGroup.removeChild(t.highlight),this.rootGroup.removeChild(t.annotation);this.groups={},this.series={}}},AA=class{constructor(){this.groups={}}registerSeries({id:e,seriesGrouping:t,visible:n,type:i}){var r,o;t&&((o=(r=this.groups)[i])!=null||(r[i]={}),this.groups[i][e]={grouping:t,visible:n})}deregisterSeries({id:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:n}){var i;if(!t)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};let r=new Set,o=new Set;for(let[a,l]of Object.entries((i=this.groups[e])!=null?i:{}))l.visible&&(r.add(l.grouping.groupIndex),l.grouping.groupIndex===t.groupIndex&&o.add(l.grouping.stackIndex));let s=[...r.values()];return s.sort((a,l)=>a-l),{visibleGroupCount:s.length,visibleSameStackCount:o.size,index:s.indexOf(t.groupIndex)}}},RA=class{constructor(e,t){this.chartLike=e,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",n=>this.layoutComplete(n)),this.layoutService.addListener("start-layout",n=>this.positionPadding(n.shrinkRect)),this.layoutService.addListener("start-layout",n=>this.positionCaptions(n.shrinkRect)))}destroy(){this.destroyFns.forEach(e=>e())}layoutComplete({clipSeries:e,series:{paddedRect:t}}){let{seriesArea:n,seriesRoot:i}=this.chartLike;n.clip||e?i.setClipRectInGroupCoordinateSpace(t):i.setClipRectInGroupCoordinateSpace()}positionPadding(e){let{padding:t}=this.chartLike;return e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),{shrinkRect:e}}positionCaptions(e){var t,n,i,r;let{title:o,subtitle:s,footnote:a}=this.chartLike,l=e.clone(),c=m=>{var p;let f=e.height/10,b=(p=m.lineHeight)!=null?p:m.fontSize*bt.defaultLineHeightRatio,y=e.width,v=Math.max(b,f);m.computeTextWrap(y,v)},d=m=>m==="left"?l.x:m==="right"?l.x+l.width:(m!=="center"&&j.error(`invalid textAlign value: ${m}`),l.x+l.width/2),h=(m,p)=>{let f=l.y;m.node.x=d(m.textAlign),m.node.y=f,m.node.textBaseline="top",c(m);let b=m.node.computeBBox(),y=Math.ceil(b.y-f+b.height+p);l.shrink(y,"top")},u=(m,p)=>{let f=l.y+l.height;m.node.x=d(m.textAlign),m.node.y=f,m.node.textBaseline="bottom",c(m);let b=m.node.computeBBox(),y=Math.ceil(f-b.y+p);l.shrink(y,"bottom")};if(s&&(s.node.visible=(t=s.enabled)!=null?t:!1),o&&(o.node.visible=o.enabled,o.node.visible)){let m=s?.node.visible?Zt.SMALL_PADDING:Zt.LARGE_PADDING,p=(n=o.spacing)!=null?n:m;h(o,p)}return s&&s.node.visible&&h(s,(i=s.spacing)!=null?i:0),a&&(a.node.visible=a.enabled,a.node.visible&&u(a,(r=a.spacing)!=null?r:0)),{shrinkRect:l}}},TA=class{constructor(e,t,n,i){this.chart=e,this.dataService=t,this.updateService=n,this.zoomManager=i,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return T(this,null,function*(){if(!this.dataService.isLazy())return;let e=this.getValidAxis(),t,n=!0;if(e){let i=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,i),n=this.shouldRefresh(e,i)}this.dirtyZoom=!1,this.dirtyDataSource=!1,n&&this.dataService.load({windowStart:t?.min,windowEnd:t?.max})})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let n=this.lastAxisZooms.get(e.id);return n&&t.min===n.min&&t.max===n.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){var n,i;let r=(i=(n=e.scale).getDomain)==null?void 0:i.call(n);if(!t||!r||r.length===0||isNaN(Number(r[0])))return;let o=Number(r[1])-Number(r[0]),s=new Date(Number(r[0])+o*t.min),a=new Date(Number(r[0])+o*t.max);return{min:s,max:a}}},MA=class{constructor(e,t,n,i){this.chartLike=e,this.overlays=t,this.dataService=n,this.layoutService=i,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",r=>this.onLayoutComplete(r)))}destroy(){this.destroyFns.forEach(e=>e())}onLayoutComplete({series:{rect:e}}){let t=this.dataService.isLoading(),n=this.chartLike.series.some(r=>{var o;return(o=r.data)==null?void 0:o.length}),i=this.chartLike.series.some(r=>r.visible);this.toggleOverlay(this.overlays.loading,e,t),this.toggleOverlay(this.overlays.noData,e,!t&&!n),this.toggleOverlay(this.overlays.noVisibleSeries,e,n&&!i)}toggleOverlay(e,t,n){n&&t?e.show(t):e.hide()}},Q0=class extends ws{constructor(e){super(),this.updateCallback=e}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:e})}},Gi=ne.create(!0,"opts"),dp=class extends Ft{constructor(){super(...arguments),this.padding=new Mr(0)}};g([_(Z,{optional:!0})],dp.prototype,"clip",2);g([_(K)],dp.prototype,"padding",2);var pe=class J0 extends b0{constructor(t,n){var i;super(),this.id=In(this),this.seriesRoot=new Y({name:`${this.id}-Series-root`}),this.debug=ne.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Mr(20),this.seriesArea=new dp,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.highlightManager=new sm,this.syncManager=new XI(this),this.zoomManager=new A0,this.modules=new Map,this.legends=new Map,this.processors=[],this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new MI,this.updateRequestors={},this.performUpdateTrigger=OI(h=>T(this,[h],function*({count:u}){this.destroyed||this.updateMutex.acquire(()=>T(this,null,function*(){try{yield this.performUpdate(u)}catch(m){j.error("update error",m)}}))})),this.axes=[],this.series=[],this.lastInteractionEvent=void 0,this.pointerScheduler=LI(()=>{this.lastInteractionEvent&&(this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0)}),this.onSeriesNodeClick=h=>{let u=V(I({},h),{type:"seriesNodeClick"});Object.defineProperty(u,"series",{enumerable:!1,get:()=>h.series}),this.fireEvent(u)},this.onSeriesNodeDoubleClick=h=>{let u=V(I({},h),{type:"seriesNodeDoubleClick"});this.fireEvent(u)},this.seriesGroupingChanged=h=>{if(!(h instanceof cp))return;let{series:u,seriesGrouping:m,oldGrouping:p}=h;u.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:u.internalId,type:u.type,rootGroup:u.rootGroup,highlightGroup:u.highlightGroup,annotationGroup:u.annotationGroup,getGroupZIndexSubOrder:f=>u.getGroupZIndexSubOrder(f),seriesGrouping:m,oldGrouping:p})},this.chartOptions=t;let{window:r,document:o}=t.specialOverrides,s=n?.scene,a=(i=n?.element)!=null?i:o.createElement("div"),l=n?.container,c=new Y({name:"root"});c.visible=!1,c.append(this.seriesRoot),this.axisGridGroup=new Y({name:"Axes-Grids",layer:!0,zIndex:1}),c.appendChild(this.axisGridGroup),this.axisGroup=new Y({name:"Axes",layer:!0,zIndex:2}),c.appendChild(this.axisGroup),this.element=a,a.classList.add("ag-chart-wrapper"),a.style.position="relative",this.scene=s??new qm(this.chartOptions.specialOverrides),this.scene.root=c,this.scene.container=a,this.autoSize=!0,this.chartEventManager=new C0,this.contextMenuRegistry=new D0,this.cursorManager=new E0(a),this.highlightManager=new sm,this.interactionManager=new k0(a,o,r),this.regionManager=new KI(this.interactionManager),this.gestureDetector=new I0(a),this.layoutService=new R0,this.updateService=new Q0((h=0,u)=>this.update(h,u)),this.seriesStateManager=new AA,this.seriesLayerManager=new IA(this.seriesRoot),this.callbackCache=new TI,this.animationManager=new S0(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.dataService=new ld(this.animationManager),this.overlays=new bA(this.element,this.animationManager),this.processors=[new RA(this,this.layoutService),new TA(this,this.dataService,this.updateService,this.zoomManager),new MA(this,this.overlays,this.dataService,this.layoutService)],this.tooltip=new By(this.scene.canvas.element,o,r,o.body),this.tooltipManager=new am(this.tooltip,this.interactionManager),this.highlight=new y0,this.container=l,this.attachLegend("category",si),this.legend=this.legends.get("category");let{All:d}=Wc;Nb.observe(this.element,h=>this.rawResize(h)),this._destroyFns.push(this.dataService.addListener("data-load",h=>{this.data=h.data}),this.interactionManager.addListener("click",h=>this.onClick(h)),this.interactionManager.addListener("dblclick",h=>this.onDoubleClick(h)),this.interactionManager.addListener("hover",h=>this.onMouseMove(h)),this.interactionManager.addListener("leave",h=>this.onLeave(h)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("wheel",()=>this.resetPointer()),this.interactionManager.addListener("drag",()=>this.resetPointer()),this.interactionManager.addListener("contextmenu",h=>this.onContextMenu(h),d),this.animationManager.addListener("animation-frame",()=>{this.update(6)}),this.highlightManager.addListener("highlight-change",h=>this.changeHighlightDatum(h)),this.zoomManager.addListener("zoom-change",()=>this.update(2,{forceNodeDataRefresh:!0,skipAnimations:!0})))}static getInstance(t){return J0.chartsInstances.get(t)}onAutoSizeChange(t){let{style:n}=this.element;if(t){if(n.display="block",n.width="100%",n.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else n.display="inline-block",n.width="auto",n.height="auto"}download(t,n){this.scene.download(t,n)}getOptions(){var t;return(t=this.queuedUserOptions.at(-1))!=null?t:this.userOptions}addModule(t){if(this.modules.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);let n=new t.instanceConstructor(this.getModuleContext());if(t.type==="legend"){let i=n;this.legends.set(t.identifier,i),i.attachLegend(this.scene.root)}this.modules.set(t.optionsKey,n)}removeModule(t){var n;t.type==="legend"&&this.legends.delete(t.identifier),(n=this.modules.get(t.optionsKey))==null||n.destroy(),this.modules.delete(t.optionsKey)}attachLegend(t,n){let i=new n(this.getModuleContext());this.legends.set(t,i),i.attachLegend(this.scene.root)}isModuleEnabled(t){return this.modules.has(t.optionsKey)}getModuleContext(){return{window:this.chartOptions.specialOverrides.window,document:this.chartOptions.specialOverrides.document,scene:this.scene,animationManager:this.animationManager,chartEventManager:this.chartEventManager,contextMenuRegistry:this.contextMenuRegistry,cursorManager:this.cursorManager,highlightManager:this.highlightManager,interactionManager:this.interactionManager,regionManager:this.regionManager,gestureDetector:this.gestureDetector,tooltipManager:this.tooltipManager,syncManager:this.syncManager,zoomManager:this.zoomManager,chartService:this,dataService:this.dataService,layoutService:this.layoutService,updateService:this.updateService,seriesStateManager:this.seriesStateManager,callbackCache:this.callbackCache}}resetAnimations(){var t;this.chartAnimationPhase="initial";for(let n of this.series)n.resetAnimation(this.chartAnimationPhase);for(let n of this.axes)n.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,(t=this.animationManager)==null||t.reset()}skipAnimations(){this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;let n=t?.keepTransferableResources,i;this.performUpdateType=7,this._destroyFns.forEach(r=>r()),this.processors.forEach(r=>r.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legends.forEach(r=>r.destroy()),this.legends.clear(),this.overlays.destroy(),Nb.unobserve(this.element);for(let r of this.modules.values())r?.destroy();return this.modules.clear(),this.regionManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.zoomManager.destroy(),n?(this.scene.strip(),i={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(r=>r.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this.animationRect=void 0,this.animationManager.reset(),this.syncManager.destroy(),this.destroyed=!0,Object.freeze(this),i}resetPointer(t=!1){t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>T(this,null,function*(){this.destroyed||(yield t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})))}update(t=0,n){var i,r;let{forceNodeDataRefresh:o=!1,skipAnimations:s,seriesToUpdate:a=this.series,newAnimationBatch:l}=n??{};o&&this.series.forEach(c=>c.markNodeDataDirty());for(let c of a)this.seriesToUpdate.add(c);if(s&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),l&&this.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=(i=n?.skipSync)!=null?i:!1,this.debug.check()){let c=(r=new Error().stack)!=null?r:"<unknown>";c=c.replace(/\([^)]*/g,""),this.updateRequestors[c]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(n?.backOffMs))}performUpdate(t){return T(this,null,function*(){let{performUpdateType:n,extraDebugStats:i}=this,r=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&n<6&&(this.animationManager.startBatch(this._performUpdateSkipAnimations),this.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",Ga[n]);let o={start:performance.now()};switch(n){case 0:case 1:yield this.updateData(),o["\u2B07\uFE0F"]=performance.now();case 2:yield this.processData(),this.resetPointer(!0),o["\u{1F3ED}"]=performance.now();case 3:if(this.checkUpdateShortcut(3)||!this.checkFirstAutoSize(r))break;yield this.processLayout(),o["\u2316"]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;let{seriesRect:a}=this;yield Promise.all(r.map(c=>c.update({seriesRect:a}))),o["\u{1F914}"]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;let l=this.tooltipManager.getTooltipMeta(this.id);n<=4&&l!==void 0&&this.handlePointer(l.lastPointerEvent,!0),o["\u2196"]=performance.now();case 6:if(this.checkUpdateShortcut(6))break;i.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:o,extraDebugStats:i}),this.extraDebugStats={};case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,this.animationManager.endBatch()}this.updateService.dispatchUpdateComplete(this.getMinRect());let s=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((s-o.start)*100)/100,count:t,performUpdateType:Ga[n]})})}checkUpdateShortcut(t){return this.updateShortcutCount>3?(j.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(t){if(this.autoSize&&!this._lastAutoSize){let n=this._performUpdateNoRenderCount++,i=nt(n,2)*10;if(n<8)return this.update(3,{seriesToUpdate:t,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onSeriesChange(t,n){var i,r;let o=(i=n?.filter(s=>!t.includes(s)))!=null?i:[];this.destroySeries(o),(r=this.seriesLayerManager)==null||r.setSeriesCount(t.length);for(let s of t){if(n?.includes(s))continue;s.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(s);let a=this;s.chart={get mode(){return a.mode},get isMiniChart(){return!1},get seriesRect(){return a.seriesRect},placeLabels(){return a.placeLabels()}},s.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(s),s.addChartEventListeners()}}destroySeries(t){t?.forEach(n=>{n.removeEventListener("nodeClick",this.onSeriesNodeClick),n.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(n=>n.axes[t.direction]===t)})}assignAxesToSeries(){let t=Cm(this.axes,n=>n.direction);this.series.forEach(n=>{n.directions.forEach(i=>{let r=t[i];if(!r){j.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);return}let o=n.getKeys(i),s=this.findMatchingAxis(r,o);if(!s){j.warnOnce(`no matching axis for direction [${i}] and keys [${o}]; check series and axes configuration.`);return}n.axes[i]=s})})}findMatchingAxis(t,n){for(let i of t){if(!i.keys.length)return i;if(n){for(let r of n)if(i.keys.includes(r))return i}}}rawResize(t){var n;let{width:i,height:r}=t;if(i=Math.floor(i),r=Math.floor(r),!this.autoSize||i===0&&r===0)return;let[o=0,s=0]=(n=this._lastAutoSize)!=null?n:[];o===i&&s===r||(this._lastAutoSize=[i,r],this.resize(void 0,void 0,"SizeMonitor"))}resize(t,n,i){var r,o,s,a;if(t??(t=(o=this.width)!=null?o:this.autoSize?(r=this._lastAutoSize)==null?void 0:r[0]:this.scene.canvas.width),n??(n=(a=this.height)!=null?a:this.autoSize?(s=this._lastAutoSize)==null?void 0:s[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${i}`,{width:t,height:n,stack:new Error().stack}),!(!t||!n||!xt(t)||!xt(n))&&this.scene.resize(t,n)){this.resetPointer(),this.animationManager.reset();let l=!0;this.autoSize&&this._firstAutoSize&&(l=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:l})}}updateData(){return T(this,null,function*(){this.series.forEach(n=>n.setChartData(this.data));let t=Array.from(this.modules.values(),n=>{var i;return(i=n.updateData)==null?void 0:i.call(n,{data:this.data})});yield Promise.all(t)})}processData(){return T(this,null,function*(){if(this.series.some(r=>r.canHaveAxes)){this.assignAxesToSeries(),this.assignSeriesToAxes();let r=this.modules.get("sync");r?.enabled&&r.syncAxes(this._skipSync)}let t=new x0(this.mode),n=this.series.map(r=>r.processData(t)),i=Array.from(this.modules.values(),r=>{var o;return(o=r.processData)==null?void 0:o.call(r,{dataController:t})});t.execute(),yield Promise.all([...n,...i]),yield this.updateLegend()})}placeLabels(){let t=[],n=[];for(let c of this.series){if(!c.visible)continue;let d=c.getLabelData();mI(d?.[0])&&(n.push(d),t.push(c))}let{seriesRect:i}=this,{top:r,right:o,bottom:s,left:a}=this.seriesArea.padding,l=i&&n.length>0?pI(n,{x:-a,y:-r,width:i.width+a+o,height:i.height+r+s}):[];return new Map(l.map((c,d)=>[t[d],c]))}updateLegend(){return T(this,null,function*(){this.legends.forEach((t,n)=>{let i=o=>o.every(s=>s.legendType==="category"),r=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(n));i(r)&&this.mode!=="integrated"&&this.validateCategoryLegendData(r),t.data=r})})}validateCategoryLegendData(t){let n={};t.forEach(i=>{var r,o,s,a,l;let c=(r=this.series.find(d=>d.id===i.seriesId))==null?void 0:r.type;c&&((o=n[c])!=null||(n[c]={}),(l=(s=n[c])[a=i.label.text])!=null||(s[a]=new Set),i.marker.fill!=null&&n[c][i.label.text].add(i.marker.fill))});for(let i of Object.values(n))for(let[r,o]of Object.entries(i))o.size>1&&j.warnOnce(`legend item '${r}' has multiple fill colors, this may cause unexpected behaviour.`)}processLayout(){return T(this,null,function*(){var t;let n=this.animationRect;yield this.performLayout(),n&&!((t=this.animationRect)!=null&&t.equals(n))&&this.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return T(this,null,function*(){this.scene.root&&(this.scene.root.visible=!0);let{width:t,height:n}=this.scene,i={shrinkRect:new Q(0,0,t,n)};i=this.layoutService.dispatchPerformLayout("start-layout",i),i=this.layoutService.dispatchPerformLayout("before-series",i);let r=Array.from(this.modules.values(),o=>T(this,null,function*(){var s;o.performLayout!=null&&(i=yield(s=o.performLayout)==null?void 0:s.call(o,i))}));return yield Promise.all(r),i.shrinkRect})}pickSeriesNode(t,n,i){var r,o;let s=performance.now(),a=n?[0]:void 0,l=[...this.series].reverse(),c;for(let d of l){if(!d.visible||!d.rootGroup.visible)continue;let{match:h,distance:u}=(r=d.pickNode(t,a))!=null?r:{};if(!(!h||u==null)&&((!c||c.distance>u)&&u<=(i??1/0)&&(c={series:d,distance:u,datum:h}),u===0))break}return this.extraDebugStats.pickSeriesNode=Math.round(((o=this.extraDebugStats.pickSeriesNode)!=null?o:0)+(performance.now()-s)),c}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){this.tooltip.pointerLeftOntoTooltip(t)||(this.resetPointer(),this.update(6))}onContextMenu(t){this.tooltipManager.removeTooltip(this.id);let{Default:n,ContextMenu:i}=Wc;this.interactionManager.getState()&(n|i)&&this.checkSeriesNodeRange(t,(r,o)=>{this.highlightManager.updateHighlight(this.id,o)})}handlePointer(t,n){if(this.interactionManager.getState()!==8)return;let{lastPick:i,hoverRect:r}=this,{offsetX:o,offsetY:s}=t,a=(l=!1)=>{i&&this.resetPointer(l)};if(n&&this.animationManager.isActive()){a();return}if(!r?.containsPoint(o,s)){a();return}this.handlePointerTooltip(t,a),this.handlePointerNode(t)}handlePointerTooltip(t,n){let{lastPick:i,tooltip:r}=this,{range:o}=r,{offsetX:s,offsetY:a}=t,l;xt(o)&&(l=o);let c=this.pickSeriesNode({x:s,y:a},o==="exact",l);if(!c){this.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&n(!0);return}let d=this.highlight.range==="node"||!i||i!==c.datum,h;d&&(h=c.series.getTooltipHtml(c.datum),this.highlight.range==="tooltip"&&this.highlightManager.updateHighlight(this.id,c.datum));let u=l!=null,m=this.tooltip.enabled&&c.series.properties.tooltip.enabled,p=o==="exact"&&c.distance===0,b=m&&(o==="nearest"||u||p)&&(!d||h!==void 0),y=am.makeTooltipMeta(t,c.datum);b&&this.tooltipManager.updateTooltip(this.id,y,h)}handlePointerNode(t){this.checkSeriesNodeRange(t,(i,r)=>{(i.hasEventListener("nodeClick")||i.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id,r)})||(this.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id))}onClick(t){if(this.checkSeriesNodeClick(t)){this.update(4);return}this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){if(this.checkSeriesNodeDoubleClick(t)){this.update(4);return}this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(n,i)=>n.fireNodeClickEvent(t.sourceEvent,i))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(n,i)=>n.fireNodeDoubleClickEvent(t.sourceEvent,i))}checkSeriesNodeRange(t,n){let i=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),r=i?.datum,o=r?.series.properties.nodeClickRange,s;xt(o)&&(s=o);let a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);if(a?this.highlightManager.updatePicked(this.id,a.datum):this.highlightManager.updatePicked(this.id),r&&o==="nearest")return n(r.series,r),!0;if(o!=="exact"&&(a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,s)),!a)return!1;let l=s!=null,c=o==="exact"&&a.distance===0;return l||c?(n(a.series,a.datum),!0):!1}changeHighlightDatum(t){var n,i;let r=new Set,{series:o=void 0,datum:s}=(n=t.currentHighlight)!=null?n:{},{series:a=void 0,datum:l}=(i=t.previousHighlight)!=null?i:{};a&&r.add(a),o&&r.add(o),a?.properties.cursor&&l&&this.cursorManager.updateCursor(a.id),o?.properties.cursor&&s&&this.cursorManager.updateCursor(o.id,o.properties.cursor),this.lastPick=t.currentHighlight,o==null||a==null?this.update(4):this.update(4,{seriesToUpdate:r})}waitForUpdate(t=5e3){return T(this,null,function*(){let n=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-n>t)throw new Error("waitForUpdate() timeout reached.");yield RI(5)}yield this.updateMutex.waitForClearAcquireQueue()})}getMinRect(){let t=this.series.map(n=>n.getMinRect()).filter(n=>n!==void 0);if(t.length)return new Q(0,0,t.reduce((n,i)=>Math.max(n,i.width),0),t.reduce((n,i)=>Math.max(n,i.height),0))}filterMiniChartSeries(t){return t!=null?t.filter(n=>n.showInMiniChart!==!1):t}applyOptions(t){var n,i,r,o,s,a;let l=this.processedOptions,c=t.diffOptions(l),d=t.userOptions;if(c==null)return;Gi("AgChartV2.updateDelta() - applying delta",c);let h=st(c,l),u=this.applyModules(h),m=["type","data","series","listeners","theme","legend.listeners","navigator.miniChart.label"];(bo(c)||hl(c))&&m.push("axes"),c.listeners&&this.registerListeners(this,c.listeners),this.applyOptionValues(this,c,{skip:m});let p=!1,f="no-op";c.series&&c.series.length>0&&(f=this.applySeries(this,c.series,l?.series),p=!0),f==="replaced"&&this.resetAnimations(),this.applyAxes(this,h,l,f)&&(p=!0);let b=!!c.data||f==="data-change"||f==="replaced",y=AD(),v=Object.values(y).some(D=>c[D]!=null),x=c.title!=null&&c.subtitle!=null;p=p||b||v||x,c.data&&(this.data=c.data),(n=c.legend)!=null&&n.listeners&&Object.assign(this.legend.listeners,c.legend.listeners),c.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t,this.processedOptions=h,this.userOptions=st(d,this.userOptions);let k=this.modules.get("navigator"),w=this.modules.get("zoom");!k?.enabled&&!w?.enabled&&this.zoomManager.updateZoom();let S=k?.miniChart;if(S?.enabled===!0&&c?.series!=null){let D=this.applySeries(S,this.filterMiniChartSeries(c.series),this.filterMiniChartSeries(l?.series));this.applyAxes(S,c,l,D,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let A=S.axes,R=A.find(N=>N.direction==="x");for(let N of A)N.gridLine.enabled=!1,N.label.enabled=N===R,N.tick.enabled=!1,N.interactionEnabled=!1;if(R!=null){let N=(r=(i=c.navigator)==null?void 0:i.miniChart)==null?void 0:r.label,O=(a=(s=(o=c.navigator)==null?void 0:o.miniChart)==null?void 0:s.label)==null?void 0:a.interval;kr(R.label,N,{path:"navigator.miniChart.label",skip:["navigator.miniChart.label.interval","navigator.miniChart.label.rotation","navigator.miniChart.label.minSpacing","navigator.miniChart.label.autoRotate","navigator.miniChart.label.autoRotateAngle"]}),kr(R.tick,O,{path:"navigator.miniChart.interval",skip:["navigator.miniChart.interval.enabled","navigator.miniChart.interval.width","navigator.miniChart.interval.size","navigator.miniChart.interval.color","navigator.miniChart.interval.interval","navigator.miniChart.interval.step"]});let U=O?.step;U!=null&&(R.tick.interval=U)}}else S?.enabled===!1&&(S.series=[],S.axes=[]);let E=p||u?1:3;Gi("AgChartV2.applyChartOptions() - update type",Ga[E]),this.update(E,{forceNodeDataRefresh:p,newAnimationBatch:!0})}applyModules(t){let n=!1;for(let i of _n){if(i.type!=="root"&&i.type!=="legend")continue;let r=t[i.optionsKey],o=i.chartTypes.includes(this.constructor.type)&&r!=null,s=this.isModuleEnabled(i);o!==s&&(o?(this.addModule(i),this[i.optionsKey]=this.modules.get(i.optionsKey)):(this.removeModule(i),delete this[i.optionsKey]),n=!0)}return n}applySeries(t,n,i){if(!n)return"no-change";let r=fA(t.series,n,i);if(r.status==="no-overlap")return Gi(`AgChartV2.applySeries() - creating new series instances, status: ${r.status}`,r),t.series=this.createSeries(n),"replaced";Gi("AgChartV2.applySeries() - matchResult",r);let o=[];for(let l of r.changes){if(l.status==="add"){let u=this.createSeries([l.opts])[0];o.push(u),Gi("AgChartV2.applySeries() - created new series",u);continue}else if(l.status==="remove"){Gi(`AgChartV2.applySeries() - removing series at previous idx ${l.idx}`,l.series);continue}else if(l.status==="no-op"){o.push(l.series),Gi(`AgChartV2.applySeries() - no change to series at previous idx ${l.idx}`,l.series);continue}let{series:c,diff:d,idx:h}=l;Gi(`AgChartV2.applySeries() - applying series diff previous idx ${h}`,d,c),this.applySeriesValues(c,d),c.markNodeDataDirty(),o.push(c)}for(let l=0;l<o.length;l++)o[l]._declarationOrder=l;Gi("AgChartV2.applySeries() - final series instances",o),t.series=o;let s=r.changes.some(({diff:l})=>l&&(l.seriesGrouping!=null||l.data!=null)),a=r.changes.every(l=>l.status==="no-op");return s?"data-change":a?"no-op":"updated"}applyAxes(t,n,i,r,o=[]){if(!("axes"in n)||!n.axes)return!1;o=["axes[].type",...o];let{axes:s}=n;return!(r==="replaced")&&t.axes.length===s.length&&t.axes.every((c,d)=>c.type===s[d].type)&&bo(i)?(t.axes.forEach((c,d)=>{var h,u;let m=(u=(h=i.axes)==null?void 0:h[d])!=null?u:{},p=bi(m,s[d]);Gi(`AgChartV2.applyAxes() - applying axis diff idx ${d}`,p);let f=`axes[${d}]`;this.applyOptionValues(c,p,{path:f,skip:o})}),!0):(Gi(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${r}`),t.axes=this.createAxis(s,o),!0)}createSeries(t){var n;let i=[],r=this.getModuleContext();for(let o of t??[]){let s=(n=o.type)!=null?n:"unknown";if(Av(s)&&!eD(s))continue;let a=mD(s,r);this.applySeriesOptionModules(a,o),this.applySeriesValues(a,o),i.push(a)}return i}applySeriesOptionModules(t,n){let i=t.createModuleContext(),r=t.getModuleMap();for(let o of _n)o.type==="series-option"&&o.optionsKey in n&&o.seriesTypes.includes(t.type)&&r.addModule(o,s=>new s.instanceConstructor(i))}applySeriesValues(t,n){let i=t.getModuleMap(),r=n,{type:o,data:s,errorBar:a,listeners:l,seriesGrouping:c,showInMiniChart:d}=r,h=we(r,["type","data","errorBar","listeners","seriesGrouping","showInMiniChart"]);t.properties.set(h),"data"in n&&(t.data=n.data),"errorBar"in n&&i.isModuleEnabled("errorBar")&&i.getModule("errorBar").properties.set(n.errorBar),n?.listeners&&this.registerListeners(t,n.listeners),c&&(t.seriesGrouping=I(I({},t.seriesGrouping),c))}createAxis(t,n){let i=new pA,r=this.getModuleContext(),o=0;for(let s of t??[]){let a=WC(s.type,r),l=`axes[${o++}]`;this.applyAxisModules(a,s),this.applyOptionValues(a,s,{path:l,skip:n}),i.push(a,s)}return i.guessInvalidPositions()}applyAxisModules(t,n){let i=!1,r=_n.filter(s=>s.type==="axis-option"),o=t.createModuleContext();for(let s of r){let a=n[s.optionsKey]!=null,l=t.getModuleMap(),c=l.isModuleEnabled(s);a!==c&&(i=!0,a?(l.addModule(s,d=>new d.instanceConstructor(o)),t[s.optionsKey]=l.getModule(s)):(l.removeModule(s),delete t[s.optionsKey]))}return i}applyOptionValues(t,n,{skip:i,path:r}={}){let o=this.getModuleContext();class s extends Zt{constructor(){super(),this.registerInteraction(o)}}return kr(t,n,{constructors:V(I({},xb.constructors),{title:s,subtitle:s,footnote:s}),constructedArrays:zy.constructedArrays,allowedTypes:I({},xb.allowedTypes),skip:i,path:r})}registerListeners(t,n){t.clearEventListeners();for(let[i,r]of Object.entries(n))ps(r)&&t.addEventListener(i,r)}};pe.chartsInstances=new WeakMap;pe.NodeValueChangeOptions={newValue(e){var t;(t=this.scene.root)==null||t.appendChild(e.node)},oldValue(e){var t;(t=this.scene.root)==null||t.removeChild(e.node)}};g([Se({newValue(e){this.destroyed||(e.setAttribute("data-ag-charts",""),e.appendChild(this.element),pe.chartsInstances.set(e,this))},oldValue(e){e.removeAttribute("data-ag-charts"),e.removeChild(this.element),pe.chartsInstances.delete(e)}})],pe.prototype,"container",2);g([Se({newValue(e){this.resize(e,void 0,"width option")}})],pe.prototype,"width",2);g([Se({newValue(e){this.resize(void 0,e,"height option")}})],pe.prototype,"height",2);g([Se({newValue(e){this.onAutoSizeChange(e)}}),_(Z)],pe.prototype,"autoSize",2);g([_(K)],pe.prototype,"padding",2);g([_(K)],pe.prototype,"seriesArea",2);g([Se(pe.NodeValueChangeOptions)],pe.prototype,"title",2);g([Se(pe.NodeValueChangeOptions)],pe.prototype,"subtitle",2);g([Se(pe.NodeValueChangeOptions)],pe.prototype,"footnote",2);g([_(le(["standalone","integrated"],"a chart mode"))],pe.prototype,"mode",2);g([Se({changeValue(e,t=[]){for(let n of t)e.includes(n)||(n.detachAxis(this.axisGroup,this.axisGridGroup),n.destroy());for(let n of e)t?.includes(n)||n.attachAxis(this.axisGroup,this.axisGridGroup);this.zoomManager.updateAxes(e)}})],pe.prototype,"axes",2);g([Se({changeValue(e,t){this.onSeriesChange(e,t)}})],pe.prototype,"series",2);var hd=pe,t_=class extends Ds{isContinuous(){var e,t;let n=Ot.is((e=this.axes.x)==null?void 0:e.scale),i=Ot.is((t=this.axes.y)==null?void 0:t.scale);return{isContinuousX:n,isContinuousY:i}}getModulePropertyDefinitions(){return this.moduleMap.mapValues(e=>e.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(e,t,n){return T(this,null,function*(){n.props.push(...this.getModulePropertyDefinitions());let{dataModel:i,processedData:r}=yield e.request(this.id,t??[],n);return this.dataModel=i,this.processedData=r,this.dispatch("data-processed",{dataModel:i,processedData:r}),{dataModel:i,processedData:r}})}isProcessedDataAnimatable(){var e,t;let n=(t=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:t.animationValidation;if(!n)return!0;let{orderedKeys:i,uniqueKeys:r}=n;return i&&r}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}},er=class extends Ft{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};g([_(mt,{optional:!0})],er.prototype,"fill",2);g([_(At,{optional:!0})],er.prototype,"fillOpacity",2);g([_(mt,{optional:!0})],er.prototype,"stroke",2);g([_(L,{optional:!0})],er.prototype,"strokeWidth",2);g([_(At,{optional:!0})],er.prototype,"strokeOpacity",2);g([_(Zn,{optional:!0})],er.prototype,"lineDash",2);g([_(L,{optional:!0})],er.prototype,"lineDashOffset",2);var ud=class extends Ft{};g([_(L,{optional:!0})],ud.prototype,"strokeWidth",2);g([_(At,{optional:!0})],ud.prototype,"dimOpacity",2);g([_(Z,{optional:!0})],ud.prototype,"enabled",2);var e_=class extends Ft{constructor(){super(...arguments),this.color="black"}};g([_(mt,{optional:!0})],e_.prototype,"color",2);var Cl=class extends Ft{constructor(){super(...arguments),this.item=new er,this.series=new ud,this.text=new e_}};g([_(K)],Cl.prototype,"item",2);g([_(K)],Cl.prototype,"series",2);g([_(K)],Cl.prototype,"text",2);var en=class extends Ft{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new Cl}};g([_(F,{optional:!0})],en.prototype,"id",2);g([_(Z)],en.prototype,"visible",2);g([_(Z)],en.prototype,"showInLegend",2);g([_(F)],en.prototype,"cursor",2);g([_(Fm)],en.prototype,"nodeClickRange",2);g([_(K)],en.prototype,"highlightStyle",2);var LA={x:["xKey"],y:["yKey"]},OA={x:["xName"],y:["yName"]},hp=class extends Sl{constructor(e,t,n,i){super(e,t,n,i),this.xKey=i.properties.xKey,this.yKey=i.properties.yKey}},Nr=class extends en{};g([_(F,{optional:!0})],Nr.prototype,"legendItemName",2);var Pr=class extends t_{constructor(e){var t=e,{pathsPerSeries:n=1,hasMarkers:i=!1,hasHighlightedLabels:r=!1,pathsZIndexSubOrderOffset:o=[],directionKeys:s=LA,directionNames:a=OA,datumSelectionGarbageCollection:l=!0,markerSelectionGarbageCollection:c=!0,animationAlwaysUpdateSelections:d=!1,animationResetFns:h}=t,u=we(t,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","directionKeys","directionNames","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns"]);super(I({directionKeys:s,directionNames:a,useSeriesGroupLayer:!0,canHaveAxes:!0},u)),this._contextNodeData=[],this.NodeClickEvent=hp,this.highlightSelection=Yt.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=Yt.select(this.highlightLabel,bt),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.debug=ne.create(),this.opts={pathsPerSeries:n,hasMarkers:i,hasHighlightedLabels:r,pathsZIndexSubOrderOffset:o,directionKeys:s,directionNames:a,animationResetFns:h,animationAlwaysUpdateSelections:d,datumSelectionGarbageCollection:l,markerSelectionGarbageCollection:c},this.animationState=new xl("empty",{empty:{update:{target:"ready",action:m=>this.animateEmptyUpdateReady(m)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:m=>this.animateReadyHighlight(m),highlightMarkers:m=>this.animateReadyHighlightMarkers(m),resize:m=>this.animateReadyResize(m),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:m=>this.animateWaitingUpdateReady(m)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:m=>this.animateClearingUpdateEmpty(m)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(e){return T(this,arguments,function*({seriesRect:t}){var n,i;let{visible:r,_contextNodeData:o}=this,{series:s}=(i=(n=this.ctx.highlightManager)==null?void 0:n.getActiveHighlight())!=null?i:{},a=s?s===this:void 0,l=this.checkResize(t),c=yield this.updateHighlightSelection(a);yield this.updateSelections(r),yield this.updateNodes(c,a,r);let d=this.getAnimationData(t,o);l&&this.animationState.transition("resize",d),this.animationState.transition("update",d)})}updateSelections(e){return T(this,null,function*(){let t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&t)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();let n=this.isProcessedDataAnimatable();this._contextNodeData.forEach(o=>{var s;(s=o.animationValid)!=null||(o.animationValid=n)}),yield this.updateSeriesGroups();let{dataModel:i,processedData:r}=this;i!==void 0&&r!==void 0&&this.dispatch("data-update",{dataModel:i,processedData:r})}yield Promise.all(this.subGroups.map((n,i)=>this.updateSeriesGroupSelections(n,i)))}})}updateSeriesGroupSelections(e,t,n){return T(this,null,function*(){let{datumSelection:i,labelSelection:r,markerSelection:o,paths:s}=e,a=this._contextNodeData[t],{nodeData:l,labelData:c,itemId:d}=a;yield this.updatePaths({seriesHighlighted:n,itemId:d,contextData:a,paths:s,seriesIdx:t}),e.datumSelection=yield this.updateDatumSelection({nodeData:l,datumSelection:i,seriesIdx:t}),e.labelSelection=yield this.updateLabelSelection({labelData:c,labelSelection:r,seriesIdx:t}),o&&(e.markerSelection=yield this.updateMarkerSelection({nodeData:l,markerSelection:o,seriesIdx:t}))})}markerFactory(){let e=Lr();return new e}updateSeriesGroups(){return T(this,null,function*(){let{_contextNodeData:e,contentGroup:t,subGroups:n,opts:{pathsPerSeries:i,hasMarkers:r,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:s}}=this;if(e.length===n.length)return;e.length<n.length&&n.splice(e.length).forEach(({dataNodeGroup:l,markerGroup:c,labelGroup:d,paths:h})=>{t.removeChild(l),c&&t.removeChild(c),d&&t.removeChild(d);for(let u of h)t.removeChild(u)});let a=e.length;for(;a>n.length;){let c=this.subGroupId++,d=new Y({name:`${this.id}-series-sub${c}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",c)}),h=r?new Y({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",c)}):void 0,u=new Y({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",c)});t.appendChild(d),t.appendChild(u),h&&t.appendChild(h);let m=[];for(let p=0;p<i;p++)m[p]=new _i,m[p].zIndex=4,m[p].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",p),t.appendChild(m[p]);n.push({paths:m,dataNodeGroup:d,markerGroup:h,labelGroup:u,labelSelection:Yt.select(u,bt),datumSelection:Yt.select(d,()=>this.nodeFactory(),o),markerSelection:h?Yt.select(h,()=>this.markerFactory(),s):void 0})}})}getGroupZIndexSubOrder(e,t=0){var n;let i=super.getGroupZIndexSubOrder(e,t);if(e==="paths"){let r=(n=this.opts.pathsZIndexSubOrderOffset[t])!=null?n:0,o=i[0];typeof o=="function"?i[0]=()=>+o()+r:i[0]=+o+r}return i}updateNodes(e,t,n){return T(this,null,function*(){var i;let{highlightSelection:r,highlightLabelSelection:o,opts:{hasMarkers:s,hasHighlightedLabels:a}}=this,l=!this.ctx.animationManager.isSkipped(),c=this.visible&&((i=this._contextNodeData)==null?void 0:i.length)>0&&n;this.rootGroup.visible=l||c,this.contentGroup.visible=l||c,this.highlightGroup.visible=(l||c)&&!!t;let d=this.getOpacity();s?(yield this.updateMarkerNodes({markerSelection:r,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",r)):(yield this.updateDatumNodes({datumSelection:r,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",r)),a&&(yield this.updateLabelNodes({labelSelection:o,seriesIdx:-1})),yield Promise.all(this.subGroups.map((h,u)=>T(this,null,function*(){let{dataNodeGroup:m,markerGroup:p,datumSelection:f,labelSelection:b,markerSelection:y,paths:v,labelGroup:x}=h,{itemId:k}=this.contextNodeData[u],w=c;m.opacity=d,m.visible=l||w,x.visible=w,p&&(p.opacity=d,p.zIndex=m.zIndex>=4?m.zIndex:m.zIndex+1,p.visible=w),x&&(x.opacity=d),yield this.updatePathNodes({seriesHighlighted:t,itemId:k,paths:v,seriesIdx:u,opacity:d,visible:w,animationEnabled:l}),m.visible&&(yield this.updateDatumNodes({datumSelection:f,highlightedItems:e,isHighlight:!1,seriesIdx:u}),yield this.updateLabelNodes({labelSelection:b,seriesIdx:u}),s&&y&&(yield this.updateMarkerNodes({markerSelection:y,isHighlight:!1,seriesIdx:u})))})))})}getHighlightLabelData(e,t){let n=e.filter(i=>i.datum===t.datum&&i.itemId===t.itemId);return n.length!==0?n:void 0}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){return T(this,null,function*(){var t;let{highlightSelection:n,highlightLabelSelection:i,_contextNodeData:r}=this,o=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight(),s=e&&o?.datum?o:void 0,a,l;if(s!=null){let c=this.isLabelEnabled();for(let{labelData:d,nodeData:h}of r)if(l=this.getHighlightData(h,s),a=c?this.getHighlightLabelData(d,s):void 0,(!c||a!=null)&&l!=null)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:l,highlightSelection:n}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:a,highlightLabelSelection:i}),l})}pickNodeExactShape(e){var t;let n=super.pickNodeExactShape(e);if(n)return n;let{x:i,y:r}=e,{opts:{hasMarkers:o}}=this,s;for(let{dataNodeGroup:a,markerGroup:l}of this.subGroups){let c=a.pickNode(i,r);if(!c&&o&&(c=l?.pickNode(i,r)),c)break}if(s)return{datum:s.datum,distance:0};for(let a of this.moduleMap.modules){let{datum:l}=(t=a.pickNodeExact(e))!=null?t:{};if(l!==void 0)return{datum:l,distance:0}}}pickNodeClosestDatum(e){var t,n;let{x:i,y:r}=e,{axes:o,rootGroup:s,_contextNodeData:a}=this,l=o.x,c=o.y,d=s.transformPoint(i,r),h=1/0,u;for(let m of a)for(let p of m.nodeData){let{point:{x:f=NaN,y:b=NaN}={}}=p;if(isNaN(f)||isNaN(b)||!(l?.inRange(f)&&c?.inRange(b)))continue;let v=Math.max(nt(d.x-f,2)+nt(d.y-b,2),0);v<h&&(h=v,u=p)}for(let m of this.moduleMap.modules){let p=m.pickNodeNearest(e);if(p!==void 0&&p.distanceSquared<h){h=p.distanceSquared,u=p.datum;break}}if(u){let m=Math.max(Math.sqrt(h)-((n=(t=u.point)==null?void 0:t.size)!=null?n:0),0);return{datum:u,distance:m}}}pickNodeMainAxisFirst(e,t){var n,i;let{x:r,y:o}=e,{axes:s,rootGroup:a,_contextNodeData:l}=this,c=s.x,d=s.y,h=[c,d].filter(y=>y instanceof $n).map(y=>y.direction);if(t&&h.length===0)return;let[u="x"]=h,m=a.transformPoint(r,o),p=u==="x"?[m.x,m.y]:[m.y,m.x],f=[1/0,1/0],b;for(let y of l)for(let v of y.nodeData){let{point:{x=NaN,y:k=NaN}={}}=v;if(isNaN(x)||isNaN(k)||!(c?.inRange(x)&&d?.inRange(k)))continue;let S=u==="x"?[x,k]:[k,x],C=!0;for(let E=0;E<S.length;E++){let D=Math.abs(S[E]-p[E]);if(D>f[E]){C=!1;break}D<f[E]&&(f[E]=D,f.fill(1/0,E+1,f.length))}C&&(b=v)}if(b){let y=Math.max(nt(f[0],2)+nt(f[1],2)-((i=(n=b.point)==null?void 0:n.size)!=null?i:0),0);for(let v of this.moduleMap.modules){let x=v.pickNodeMainAxisFirst(e);if(x!==void 0&&x.distanceSquared<y){b=x.datum,y=x.distanceSquared;break}}return{datum:b,distance:Math.sqrt(y)}}}onLegendItemClick(e){let{legendItemName:t}=this.properties,{enabled:n,itemId:i,series:r}=e,o=t!=null&&t===e.legendItemName;(r.id===this.id||o)&&this.toggleSeriesItem(i,n)}onLegendItemDoubleClick(e){let{enabled:t,itemId:n,series:i,numVisibleItems:r}=e,{legendItemName:o}=this.properties,s=o!=null&&o===e.legendItemName;i.id===this.id||s?this.toggleSeriesItem(n,!0):t&&r===1?this.toggleSeriesItem(n,!0):this.toggleSeriesItem(n,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRect(){let[e]=this._contextNodeData;if(!e?.nodeData.length)return;let t=e.nodeData.map(({midPoint:i})=>{var r;return(r=i?.x)!=null?r:0}).sort((i,r)=>i-r).reduce((i,r,o,s)=>o>0?Math.max(i,r-s[o-1]):i,0),n=e.nodeData.map(({midPoint:i})=>{var r;return(r=i?.y)!=null?r:0}).sort((i,r)=>i-r).reduce((i,r,o,s)=>o>0?Math.max(i,r-s[o-1]):i,0);return new Q(0,0,t,n)}updateHighlightSelectionItem(e){return T(this,null,function*(){let{opts:{hasMarkers:t}}=this,{items:n,highlightSelection:i}=e,r=n??[];if(t){let o=i;return this.updateMarkerSelection({nodeData:r,markerSelection:o,seriesIdx:-1})}else return this.updateDatumSelection({nodeData:r,datumSelection:i,seriesIdx:-1})})}updateHighlightSelectionLabel(e){return T(this,null,function*(){var t;return this.updateLabelSelection({labelData:(t=e.items)!=null?t:[],labelSelection:e.highlightLabelSelection,seriesIdx:-1})})}updateDatumSelection(e){return T(this,null,function*(){return e.datumSelection})}updateDatumNodes(e){return T(this,null,function*(){})}updateMarkerSelection(e){return T(this,null,function*(){return e.markerSelection})}updateMarkerNodes(e){return T(this,null,function*(){})}updatePaths(e){return T(this,null,function*(){e.paths.forEach(t=>t.visible=!1)})}updatePathNodes(e){return T(this,null,function*(){let{paths:t,opacity:n,visible:i}=e;for(let r of t)r.opacity=n,r.visible=i})}resetAllAnimation(e){var t,n;let{path:i,datum:r,label:o,marker:s}=(n=(t=this.opts)==null?void 0:t.animationResetFns)!=null?n:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),i&&e.paths.forEach(a=>{xe(a,i)}),r&&xe(e.datumSelections,r),o&&xe(e.labelSelections,o),s&&xe(e.markerSelections,s),e.contextData.some(a=>a.animationValid===!1)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var t,n;let{datum:i}=(n=(t=this.opts)==null?void 0:t.animationResetFns)!=null?n:{};i&&xe([e],i)}animateReadyHighlightMarkers(e){var t,n;let{marker:i}=(n=(t=this.opts)==null?void 0:t.animationResetFns)!=null?n:{};i&&xe([e],i)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e,t){return{datumSelections:this.subGroups.map(({datumSelection:i})=>i),markerSelections:this.subGroups.filter(({markerSelection:i})=>i!==void 0).map(({markerSelection:i})=>i),labelSelections:this.subGroups.map(({labelSelection:i})=>i),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:t,paths:this.subGroups.map(({paths:i})=>i),seriesRect:e}}calculateScaling(){let e={},t=n=>{let i=this.axes[n];if(i){if(i.scale instanceof Wm){let{range:r,domain:o}=i.scale;e[n]={type:"log",convert:s=>i.scale.convert(s),domain:[o[0],o[1]],range:[r[0],r[1]]}}else if(i.scale instanceof Ot){let{range:r}=i.scale,o=i.scale.getDomain();e[n]={type:"continuous",domain:[o[0],o[1]],range:[r[0],r[1]]}}else if(i.scale){let{domain:r}=i.scale;e[n]={type:"category",domain:r,range:r.map(o=>i.scale.convert(o))}}}};return t("x"),t("y"),e}},NA=["top","right","bottom","left"],up=class i_ extends hd{constructor(t,n){super(t,n),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastVisibility={crossLines:!0,series:!0}}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}performLayout(){return T(this,null,function*(){let t=yield Yn(i_.prototype,this,"performLayout").call(this),{firstSeriesTranslation:n,seriesRoot:i}=this,{animationRect:r,seriesRect:o,visibility:s,clipSeries:a}=this.updateAxes(t);this.seriesRoot.visible=s.series,this.seriesRect=o,this.animationRect=r;let{x:l,y:c}=o;if(n)i.translationX=Math.floor(l),i.translationY=Math.floor(c),this.firstSeriesTranslation=!1;else{let{translationX:u,translationY:m}=i;An(this.id,"seriesRect",this.animationManager,[this.seriesRoot],{translationX:u,translationY:m},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}let d=o.clone().grow(this.seriesArea.padding);this.hoverRect=d,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:a,series:{rect:o,paddedRect:d,visible:s.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(u=>I({id:u.id},u.getLayoutState()))});let h=Array.from(this.modules.values(),u=>{var m;return(m=u.performCartesianLayout)==null?void 0:m.call(u,{seriesRect:o})});return yield Promise.all(h),t})}updateAxes(t){var n;let i=this.axes.flatMap(y=>{var v;return(v=y.crossLines)!=null?v:[]}).map(y=>y.id),r=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===i.length&&this._lastCrossLineIds.every((y,v)=>i[v]===y),o,s;r?(o=I({},this._lastAxisWidths),s=I({},this._lastVisibility)):(o={top:0,bottom:0,left:0,right:0},s={crossLines:!0,series:!0},this._lastCrossLineIds=i);let a=new Set(this.axes.map(y=>y.position));for(let y of Object.keys(o))a.has(y)||delete o[y];let l=(y,v)=>Object.keys(y).some(x=>o[x]==null)?!1:s.crossLines===v.crossLines&&s.series===v.series&&Object.entries(o).every(([x,k])=>{let w=y[x];return k!=null||w!=null?k===w:!0}),c=y=>Dv(y,v=>v&&Math.abs(v)===1/0?0:v!=null?Math.ceil(v):v),d={},h={},u=!1,m=(n=this.seriesRect)==null?void 0:n.clone(),p=0,f={};do{Object.assign(o,d),Object.assign(s,h);let y=this.updateAxesPass(o,t.clone(),m);if(d=c(y.axisWidths),h=y.visibility,u=y.clipSeries,m=y.seriesRect,f=y.primaryTickCounts,p++>10){j.warn("unable to find stable axis layout.");break}}while(!l(d,h));this.axes.forEach(y=>{y.update(f[y.direction])});let b=5;return this.axes.forEach(y=>{if(y.setCrossLinesVisible(s.crossLines),!!m)switch(y.clipGrid(m.x,m.y,m.width+b,m.height+b),y.position){case"left":case"right":y.clipTickLines(t.x,m.y,t.width+b,m.height+b);break;case"top":case"bottom":y.clipTickLines(m.x,t.y,m.width+b,t.height+b);break}}),this._lastAxisWidths=o,this._lastVisibility=s,{seriesRect:m,animationRect:t,visibility:s,clipSeries:u}}updateAxesPass(t,n,i){let r={},o={},s={series:!0,crossLines:!0},a=!1,l={},c=this.applySeriesPadding(n),d=i?this.buildCrossLinePadding(t):{},h=this.buildAxisBound(c,t,d,s),u=this.buildSeriesRect(h,t);return this.axes.forEach(m=>{var p,f;let{position:b="left"}=m,{clipSeries:y,axisThickness:v,axisOffset:x}=this.calculateAxisDimensions({axis:m,seriesRect:u,paddedBounds:c,axisWidths:t,newAxisWidths:o,primaryTickCounts:l,clipSeries:a,addInterAxisPadding:((p=r[b])!=null?p:0)>0});r[b]=((f=r[b])!=null?f:0)+1,a=a||y,this.positionAxis({axis:m,axisBound:h,axisOffset:x,axisThickness:v,axisWidths:t,primaryTickCounts:l,seriesRect:u})}),{clipSeries:a,seriesRect:u,axisWidths:o,visibility:s,primaryTickCounts:l}}buildCrossLinePadding(t){var n;let i={};this.axes.forEach(r=>{r.crossLines&&r.crossLines.forEach(o=>{o.calculatePadding(i)})});for(let[r,o=0]of Object.entries(i))i[r]=Math.max(o-((n=t[r])!=null?n:0),0);return i}applySeriesPadding(t){let n=t.clone(),i=this.axes.slice().reverse();return NA.forEach(r=>{let o=this.seriesArea.padding[r],s=i.find(a=>a.position===r);s?s.seriesAreaPadding=o:n.shrink(o,r)}),n}buildAxisBound(t,n,i,r){var o,s,a,l;let c=t.clone(),{top:d=0,right:h=0,bottom:u=0,left:m=0}=i,p=m+h,f=d+u,b=((o=n.left)!=null?o:0)+((s=n.right)!=null?s:0)+p,y=((a=n.top)!=null?a:0)+((l=n.bottom)!=null?l:0)+f;return c.width<=b||c.height<=y?(r.crossLines=!1,r.series=!1,c):(c.x+=m,c.y+=d,c.width-=p,c.height-=f,c)}buildSeriesRect(t,n){let i=t.clone(),{top:r,bottom:o,left:s,right:a}=n;return i.x+=s??0,i.y+=r??0,i.width-=(s??0)+(a??0),i.height-=(r??0)+(o??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(t,n,i,r){let{x:o,y:s,width:a,height:l}=t,d=[o,s,o+a,s+l][(i==="x"?0:1)+(r===1?0:2)];return(r===1?Math.min:Math.max)(n,d)}calculateAxisDimensions(t){var n,i,r,o,s;let{axis:a,seriesRect:l,paddedBounds:c,axisWidths:d,newAxisWidths:h,primaryTickCounts:u,addInterAxisPadding:m}=t,{clipSeries:p}=t,{position:f="left",direction:b}=a,y=R=>R instanceof $n||R instanceof Cr?[0,l.height]:[l.height,0],v=(n=h[f])!=null?n:0;switch(f){case"top":case"bottom":a.range=[0,l.width],a.gridLength=l.height;break;case"right":case"left":a.range=y(a),a.gridLength=l.width;break}let{min:x,max:k}=this.zoomManager.getAxisZoom(a.id);a.visibleRange=[x,k],p||(p=a.dataDomain.clipped||a.visibleRange[0]>0||a.visibleRange[1]<1);let w=a.nice?u[b]:void 0,S=b==="y",C=.3;a.maxThickness=a.thickness||(S?c.width:c.height)*C;let E=a.calculateLayout(w);w=E.primaryTickCount,(i=u[b])!=null||(u[b]=w);let D;if(a.thickness!=null&&a.thickness>0)D=a.thickness;else{let{bbox:R}=E;D=S?R.width:R.height}return m&&(D+=15),D=Math.ceil(D),h[f]=((r=h[f])!=null?r:0)+D,a.gridPadding=((o=d[f])!=null?o:0)-((s=h[f])!=null?s:0),{clipSeries:p,axisThickness:D,axisOffset:v,primaryTickCount:w}}positionAxis(t){var n,i,r,o;let{axis:s,axisBound:a,axisWidths:l,seriesRect:c,axisOffset:d,axisThickness:h}=t,{position:u}=s;switch(u){case"top":s.translation.x=a.x+((n=l.left)!=null?n:0),s.translation.y=this.clampToOutsideSeriesRect(c,a.y+1+d+h,"y",1);break;case"bottom":s.translation.x=a.x+((i=l.left)!=null?i:0),s.translation.y=this.clampToOutsideSeriesRect(c,a.y+a.height+1-h-d,"y",-1);break;case"left":s.translation.y=a.y+((r=l.top)!=null?r:0),s.translation.x=this.clampToOutsideSeriesRect(c,a.x+d+h,"x",1);break;case"right":s.translation.y=a.y+((o=l.top)!=null?o:0),s.translation.x=this.clampToOutsideSeriesRect(c,a.x+a.width-h-d,"x",-1);break}s.updatePosition({rotation:ze(s.rotation),sideFlag:s.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(t=>!(t instanceof Pr&&t.shouldFlipXY()))}};up.className="CartesianChart";up.type="cartesian";var PA=up,$a=class n_{static isInstance(t){var n;return t instanceof n_||((n=t.constructor)==null?void 0:n.name)==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){var n;let i=["getOptions","destroy"],r=Object.keys((n=Object.getPrototypeOf(t))!=null?n:{});return i.every(o=>r.includes(o))}constructor(t){this.chart=t}getOptions(){return Be(this.chart.getOptions())}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}};$a.chartInstances=new WeakMap;g([Se({oldValue(e){$a.chartInstances.delete(e)},newValue(e){$a.chartInstances.set(e,this)}})],$a.prototype,"chart",2);var Jo=$a,Sn=class extends Ot{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(e){return e}ticks(){var e;let t=(e=this.tickCount)!=null?e:Ot.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||this.domain.some(o=>!isFinite(o)))return[];this.refresh();let[n,i]=this.getDomain(),{interval:r}=this;if(r){let o=Math.abs(r);if(!this.isDenseInterval({start:n,stop:i,interval:o}))return tl(n,i,o)}return sd(n,i,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){var n,i;let r=(n=this.tickCount)!=null?n:Ot.defaultTickCount;return(i=this.interval)!=null?i:hs(e,t,r,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var e;let t=(e=this.tickCount)!=null?e:Ot.defaultTickCount;if(t<1){this.niceDomain=[...this.domain];return}let[n,i]=this.domain;if(t===1)[n,i]=sI(n,i);else{let r=n>i?Math.ceil:Math.floor,o=i<n?Math.floor:Math.ceil,s=4;for(let a=0;a<s;a++){let l=n,c=i,d=this.getTickStep(n,i),[h,u]=this.domain;if(d>=1)n=r(h/d)*d,i=o(u/d)*d;else{let m=1/d;n=r(h*m)/m,i=o(u*m)/m}if(n===l&&i===c)break}}this.niceDomain=[n,i]}tickFormat({ticks:e,specifier:t}){return Qy(e??this.ticks(),t)}};function FA(e,t,n){let[i,r]=Wn(e);i=BA(Math.floor(i),r,t);let o=jA(i,r,t),s=t-1;r=i+s*o;let a=n?[r,i]:[i,r],l=zA(i,o,t);return[a,l]}function BA(e,t,n){let i=Math.abs(t-e)/(n-1),r=Math.floor(Math.log10(i)),o=Math.pow(10,r);return Math.floor(e/o)*o}function zA(e,t,n){let i=Math.floor(Math.log10(t)),r=t>0&&t<1?Math.abs(i):0,o=Math.pow(10,r),s=Ja(r);for(let a=0;a<n;a++){let l=e+t*a;s[a]=Math.round(l*o)/o}return s}function jA(e,t,n){let i=n-1,r=(t-e)/i;return VA(r)}function VA(e){let t=Math.floor(Math.log10(e)),n=Math.pow(10,t),i=e/n*10;return i>0&&i<=1?n/10:i>1&&i<=2?2*n/10:i>1&&i<=5?5*n/10:i>5&&i<=10?10*n/10:i>10&&i<=20?20*n/10:i>20&&i<=40?40*n/10:i>40&&i<=50?50*n/10:i>50&&i<=100?100*n/10:i}var r_=class extends tn{constructor(){super(...arguments),this.maxSpacing=NaN}};g([_(Bm),Jn(NaN)],r_.prototype,"maxSpacing",2);var xo=class extends kl{constructor(e,t=new Sn){super(e,t),this.min=NaN,this.max=NaN}normaliseDataDomain(e){let{min:t,max:n}=this,{extent:i,clipped:r}=pl(e,t,n);return{domain:i,clipped:r}}formatDatum(e){return typeof e=="number"?e.toFixed(2):(j.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(e))}createTick(){return new r_}updateSecondaryAxisTicks(e){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];let[t,n]=FA(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),n}};xo.className="NumberAxis";xo.type="number";g([_(Rn(_s,bl("max"))),Jn(NaN)],xo.prototype,"min",2);g([_(Rn(_s,vl("min"))),Jn(NaN)],xo.prototype,"max",2);var o_=Pt(e=>Hi(e)&&e!==0,"a non-zero number"),Er=class extends xo{constructor(e){super(e,new Wm),this.min=NaN,this.max=NaN}normaliseDataDomain(e){let{min:t,max:n}=this,{extent:i,clipped:r}=pl(e,t,n),o=i[0]>i[1],s=i[0]<0&&i[1]>0,a=i[0]===0&&i[1]===0;return(o||s||a)&&(e=[],s?j.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):a&&j.warn("the data domain has 0 extent, no data is rendered.")),i[0]===0&&(i[0]=1),i[1]===0&&(i[1]=-1),{domain:i,clipped:r}}set base(e){this.scale.base=e}get base(){return this.scale.base}};Er.className="LogAxis";Er.type="log";g([_(Rn(_s,o_,bl("max"))),Jn(NaN)],Er.prototype,"min",2);g([_(Rn(_s,o_,vl("min"))),Jn(NaN)],Er.prototype,"max",2);var s_=class extends tn{constructor(){super(...arguments),this.maxSpacing=NaN}};g([_(Bm),Jn(NaN)],s_.prototype,"maxSpacing",2);var wo=class extends kl{constructor(e){super(e,new Hm),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;let{scale:t}=this;this.refreshScale(),this.datumFormatter=t.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(e){var t;let{min:n,max:i}=this,r=!1;return typeof n=="number"&&(n=new Date(n)),typeof i=="number"&&(i=new Date(i)),e.length>2&&(e=((t=En(e))!=null?t:[0,1e3]).map(o=>new Date(o))),n instanceof Date&&(r||(r=n>e[0]),e=[n,e[1]]),i instanceof Date&&(r||(r=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:r}}createTick(){return new s_}onLabelFormatChange(e,t){t?super.onLabelFormatChange(e,t):this.labelFormatter=this.scale.tickFormat({ticks:e})}formatDatum(e){var t;return(t=this.moduleCtx.callbackCache.call(this.datumFormatter,e))!=null?t:String(e)}calculatePadding(e,t,n){return n?[1,0]:[0,1]}};wo.className="TimeAxis";wo.type="time";g([_(Rn(Om,bl("max")),{optional:!0})],wo.prototype,"min",2);g([_(Rn(Om,vl("min")),{optional:!0})],wo.prototype,"max",2);var Wb=1e-6,_c=(e,t,n,i,r)=>{let o=!1,s=!1,a=i-Math.sqrt(Math.max(nt(r,2)-nt(n,2),0)),l=0,c=0,d=n-Math.sqrt(Math.max(nt(r,2)-nt(i,2),0));return a>e?(o=!0,a=e,l=n-Math.sqrt(Math.max(nt(r,2)-nt(i-e,2)))):a<Wb&&(a=0),d>t?(s=!0,c=i-Math.sqrt(Math.max(nt(r,2)-nt(n-t,2))),d=t):d<Wb&&(d=0),{leading0:a,leading1:l,trailing0:c,trailing1:d,leadingClipped:o,trailingClipped:s}},xc=(e,{x0:t,y0:n,x1:i,y1:r,cx:o,cy:s},a,l)=>{if(l&&e.moveTo(t,n),t!==i||n!==r){let c=Math.atan2(n-s,t-o),d=Math.atan2(r-s,i-o);e.arc(o,s,a,c,d)}else e.lineTo(t,n)},Ru=(e,t,n,i,r,o,s)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:d}=o,h=Math.max(a+d,l+c),u=Math.max(a+l,d+c);if(h<=0&&u<=0){e.rect(t,n,i,r);return}else if(s==null&&a===l&&a===c&&a===d){e.roundRect(t,n,i,r,a);return}if(i<0&&(t+=i,i=Math.abs(i)),r<0&&(n+=r,r=Math.abs(r)),s!=null){let C=Math.max(t,s.x),E=Math.min(t+i,s.x+s.width),D=Math.max(n,s.y),A=Math.min(n+r,s.y+s.height);t=C,n=D,i=E-C,r=A-D}if(i<=0||r<=0)return;s??(s=new Q(t,n,i,r));let m=Math.max(h/s.height,u/s.width,1);m>1&&(a/=m,l/=m,c/=m,d/=m);let p=!0,f=!0,b=!0,y=!0,v,x,k,w;if(p){let C=_c(r,i,Math.max(s.x+a-t,0),Math.max(s.y+a-n,0),a);C.leadingClipped&&(y=!1),C.trailingClipped&&(f=!1);let E=Math.max(t+C.leading1,t),D=Math.max(n+C.leading0,n),A=Math.max(t+C.trailing1,t),R=Math.max(n+C.trailing0,n),N=s.x+a,O=s.y+a;v={x0:E,y0:D,x1:A,y1:R,cx:N,cy:O}}if(f){let C=_c(i,r,Math.max(s.y+l-n,0),Math.max(t+i-(s.x+s.width-l),0),l);C.leadingClipped&&(p=!1),C.trailingClipped&&(b=!1);let E=Math.min(t+i-C.leading0,t+i),D=Math.max(n+C.leading1,n),A=Math.min(t+i-C.trailing0,t+i),R=Math.max(n+C.trailing1,n),N=s.x+s.width-l,O=s.y+l;x={x0:E,y0:D,x1:A,y1:R,cx:N,cy:O}}if(b){let C=_c(r,i,Math.max(t+i-(s.x+s.width-c),0),Math.max(n+r-(s.y+s.height-c),0),c);C.leadingClipped&&(f=!1),C.trailingClipped&&(y=!1);let E=Math.min(t+i-C.leading1,t+i),D=Math.min(n+r-C.leading0,n+r),A=Math.min(t+i-C.trailing1,t+i),R=Math.min(n+r-C.trailing0,n+r),N=s.x+s.width-c,O=s.y+s.height-c;k={x0:E,y0:D,x1:A,y1:R,cx:N,cy:O}}if(y){let C=_c(i,r,Math.max(n+r-(s.y+s.height-d),0),Math.max(s.x+d-t,0),d);C.leadingClipped&&(b=!1),C.trailingClipped&&(p=!1);let E=Math.max(t+C.leading0,t),D=Math.min(n+r-C.leading1,n+r),A=Math.max(t+C.trailing0,t),R=Math.min(n+r-C.trailing1,n+r),N=s.x+d,O=s.y+s.height-d;w={x0:E,y0:D,x1:A,y1:R,cx:N,cy:O}}let S=!1;p&&v!=null&&(xc(e,v,a,!S),S||(S=!0)),f&&x!=null&&(xc(e,x,l,!S),S||(S=!0)),b&&k!=null&&(xc(e,k,c,!S),S||(S=!0)),y&&w!=null&&(xc(e,w,d,!S),S||(S=!0)),e.closePath()},Ve=class extends _i{constructor(){super(...arguments),this.borderPath=new us,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Li.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Li.defaultStyles.strokeWidth,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth?!0:!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var e,t,n;let{path:i,borderPath:r,crisp:o,topLeftCornerRadius:s,topRightCornerRadius:a,bottomRightCornerRadius:l,bottomLeftCornerRadius:c}=this,{x:d,y:h,width:u,height:m,strokeWidth:p,cornerRadiusBbox:f}=this,y=1/((t=(e=this.layerManager)==null?void 0:e.canvas.pixelRatio)!=null?t:1),v=1;if(i.clear({trackChanges:!0}),r.clear({trackChanges:!0}),o&&(u<=y&&(v*=u/y),m<=y&&(v*=m/y),u=this.align(d,u),m=this.align(h,m),d=this.align(d),h=this.align(h),f=f!=null?new Q(this.align(f.x),this.align(f.y),this.align(f.x,f.width),this.align(f.y,f.height)):void 0),p)if(u<y){let x=d+y/2;r.moveTo(x,h),r.lineTo(x,h+m),p=y,this.borderClipPath=void 0}else if(m<y){let x=h+y/2;r.moveTo(d,x),r.lineTo(d+u,x),p=y,this.borderClipPath=void 0}else if(p<u&&p<m){let x=p/2;d+=x,h+=x,u-=p,m-=p;let k=f?.clone().shrink(x),w={topLeft:s>0?s-p:0,topRight:a>0?a-p:0,bottomRight:l>0?l-p:0,bottomLeft:c>0?c-p:0};this.borderClipPath=void 0,Ru(i,d,h,u,m,w,k),Ru(r,d,h,u,m,w,k)}else this.borderClipPath=(n=this.borderClipPath)!=null?n:new us,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(d,h,u,m),r.rect(d,h,u,m);else{let x={topLeft:s,topRight:a,bottomRight:l,bottomLeft:c};this.borderClipPath=void 0,Ru(i,d,h,u,m,x,f)}this.effectiveStrokeWidth=p,this.lastUpdatePathStrokeWidth=p,this.microPixelEffectOpacity=v}computeBBox(){let{x:e,y:t,width:n,height:i}=this;return new Q(e,t,n,i)}isPointInPath(e,t){let n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)}applyFillAlpha(e){let{fillOpacity:t,microPixelEffectOpacity:n,opacity:i}=this,{globalAlpha:r}=e;e.globalAlpha=r*i*t*n}renderStroke(e){let{stroke:t,effectiveStrokeWidth:n,borderPath:i,borderClipPath:r,opacity:o,microPixelEffectOpacity:s}=this;if(!!t&&!!n){let{strokeOpacity:l,lineDash:c,lineDashOffset:d,lineCap:h,lineJoin:u}=this;r&&(r.draw(e),e.clip()),i.draw(e);let{globalAlpha:m}=e;e.strokeStyle=t,e.globalAlpha=m*o*l*s,e.lineWidth=n,c&&e.setLineDash(c),d&&(e.lineDashOffset=d),h&&(e.lineCap=h),u&&(e.lineJoin=u),e.stroke(),e.globalAlpha=m}}};Ve.className="Rect";g([it()],Ve.prototype,"x",2);g([it()],Ve.prototype,"y",2);g([it()],Ve.prototype,"width",2);g([it()],Ve.prototype,"height",2);g([it()],Ve.prototype,"topLeftCornerRadius",2);g([it()],Ve.prototype,"topRightCornerRadius",2);g([it()],Ve.prototype,"bottomRightCornerRadius",2);g([it()],Ve.prototype,"bottomLeftCornerRadius",2);g([it()],Ve.prototype,"cornerRadiusBbox",2);g([it()],Ve.prototype,"crisp",2);var Dl=class extends fm{constructor(e){var t;super(),this.node=new Y({name:"background",zIndex:0}),this.rectNode=new Ve,this.visible=!0,this.fill="white",this.image=void 0,this.node.appendChild(this.rectNode),(t=e.scene.root)==null||t.appendChild(this.node),this.destroyFns.push(()=>{var n;return(n=e.scene.root)==null?void 0:n.removeChild(this.node)},e.layoutService.addListener("layout-complete",n=>this.onLayoutComplete(n)))}onLayoutComplete(e){let{width:t,height:n}=e.chart;this.rectNode.width=t,this.rectNode.height=n}};g([_(Z),jt("node","visible")],Dl.prototype,"visible",2);g([_(mt,{optional:!0}),jt("rectNode","fill")],Dl.prototype,"fill",2);g([_(K,{optional:!0})],Dl.prototype,"image",2);var a_={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:Dl},Yi=class extends _i{constructor(){super(...arguments),this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)}get height(){return this._height}computeBBox(){let{centerX:e,centerY:t,width:n,height:i}=this,r=e-n/2,o=t-i/2;return new Q(r,o,n,i)}isPointInPath(e,t){let n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)}updatePath(){let{path:e,centerX:t,centerY:n,width:i,height:r}=this;e.clear();let o=t-i/2,s=n-r/2,a=this.align(o),l=this.align(s),c=a+this.align(o,i),d=l+this.align(s,r);e.moveTo(a,l),e.lineTo(c,l),e.lineTo(c,d),e.lineTo(a,d),e.closePath();let h=this.gripLineGap/2,u=this.gripLineLength/2;e.moveTo(this.align(t-h),this.align(n-u)),e.lineTo(this.align(t-h),this.align(n+u)),e.moveTo(this.align(t+h),this.align(n-u)),e.lineTo(this.align(t+h),this.align(n+u))}};Yi.className="RangeHandle";g([_(mt)],Yi.prototype,"_fill",2);g([_(mt)],Yi.prototype,"_stroke",2);g([_(L)],Yi.prototype,"_strokeWidth",2);g([_(Ey)],Yi.prototype,"_lineCap",2);g([_(L)],Yi.prototype,"_width",2);g([_(L)],Yi.prototype,"_gripLineGap",2);g([_(L)],Yi.prototype,"_gripLineLength",2);g([_(L)],Yi.prototype,"_height",2);function md(e,t){e!==t&&(this.dirtyPath=!0)}var Fr=class extends _i{constructor(){super(...arguments),this.x=0,this.y=0,this.width=200,this.height=30,this.minRange=.001,this._min=0,this._max=1}set min(e){var t;e=gt(0,e,this.max-this.minRange),this._min!==e&&!isNaN(e)&&(this._min=e,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get min(){return this._min}set max(e){var t;e=gt(this.min+this.minRange,e,1),this._max!==e&&!isNaN(e)&&(this._max=e,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get max(){return this._max}computeBBox(){let{x:e,y:t,width:n,height:i}=this;return new Q(e,t,n,i)}computeVisibleRangeBBox(){let{x:e,y:t,width:n,height:i,min:r,max:o}=this,s=e+n*r,a=e+n*o;return new Q(s,t,a-s,i)}updatePath(){let{path:e,x:t,y:n,width:i,height:r,min:o,max:s}=this;e.clear();let a=this.align(t),l=this.align(n),c=a+this.align(t,i),d=l+this.align(n,r);e.moveTo(a,l),e.lineTo(c,l),e.lineTo(c,d),e.lineTo(a,d),e.lineTo(a,l);let h=this.align(t+i*o),u=this.align(t+i*s);e.moveTo(h,l),e.lineTo(h,d),e.lineTo(u,d),e.lineTo(u,l),e.lineTo(h,l)}};Fr.className="RangeMask";g([Se({changeValue:md}),_(L)],Fr.prototype,"x",2);g([Se({changeValue:md}),_(L)],Fr.prototype,"y",2);g([Se({changeValue:md}),_(L)],Fr.prototype,"width",2);g([Se({changeValue:md}),_(L)],Fr.prototype,"height",2);g([_(zt)],Fr.prototype,"_min",2);g([_(zt)],Fr.prototype,"_max",2);var El=class l_ extends Y{constructor(){super({name:"rangeSelectorGroup",layer:!0}),this.minHandle=new Yi,this.maxHandle=new Yi,this.background=(()=>{let t=new Y({name:"navigator-background"});return t.zIndex=1,this.appendChild(t),t})(),this.mask=(()=>{let{x:t,y:n,width:i,height:r,min:o,max:s}=l_.defaults,a=new Fr;a.x=t,a.y=n,a.width=i,a.height=r,a.min=o,a.max=s,a.zIndex=2;let{minHandle:l,maxHandle:c}=this;return l.centerX=t,c.centerX=t+i,l.centerY=c.centerY=n+r/2,l.zIndex=4,c.zIndex=3,this.append([a,l,c]),a.onRangeChange=()=>{var d;this.updateHandles(),(d=this.onRangeChange)==null||d.call(this)},a})(),this.isContainerNode=!0}layout(t,n,i,r){this.mask.x=t,this.mask.y=n,this.mask.width=i,this.mask.height=r,this.updateHandles(),this.background.translationX=t,this.background.translationY=n}updateHandles(){let{x:t,y:n,width:i,height:r}=this.mask,{minHandle:o,maxHandle:s,min:a,max:l}=this;o.centerX=t+i*a,s.centerX=t+i*l,o.centerY=s.centerY=n+r/2,a+(l-a)/2<.5?(o.zIndex=3,s.zIndex=4):(o.zIndex=4,s.zIndex=3)}computeBBox(){return this.mask.computeBBox()}computeVisibleRangeBBox(){return this.mask.computeVisibleRangeBBox()}};El.className="Range";El.defaults={x:0,y:0,width:200,height:30,min:0,max:1};g([Tr("mask.min")],El.prototype,"min",2);g([Tr("mask.max")],El.prototype,"max",2);var UA=El,nn=class extends fm{constructor(e){var t;super(),this.ctx=e,this.rs=new UA,this.miniChart=void 0,this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.enabled=!1,this.height=30,this.margin=10,this.visible=!0,this.x=0,this.y=0,this.width=0,this.rs.onRangeChange=tC(()=>this.onRangeChange()),(t=e.scene.root)==null||t.appendChild(this.rs);let n=13;this.destroyFns.push(e.interactionManager.addListener("drag-start",i=>this.onDragStart(i),n),e.interactionManager.addListener("drag",i=>this.onDrag(i),n),e.interactionManager.addListener("hover",i=>this.onDrag(i),n),e.interactionManager.addListener("drag-end",()=>this.onDragStop(),n),e.zoomManager.addListener("zoom-change",()=>this.onZoomChange()),()=>{var i;return(i=e.scene.root)==null?void 0:i.removeChild(this.rs)},()=>delete this.rs.onRangeChange),this.updateGroupVisibility()}updateGroupVisibility(){let e=!!(this.enabled&&this.visible);e!==this.rs.visible&&(this.rs.visible=e,e&&this.onRangeChange())}performLayout(e){return T(this,arguments,function*({shrinkRect:t}){if(this.enabled){let n=this.height+this.margin;t.shrink(n,"bottom"),this.y=t.y+t.height+this.margin}else this.y=0;return{shrinkRect:t}})}performCartesianLayout(e){return T(this,null,function*(){let{x:t,width:n}=e.seriesRect,i=!0;if(this.enabled&&i){let{y:r,height:o}=this;this.rs.layout(t,r,n,o)}this.visible=i,this.x=t,this.width=n})}onRangeChange(){var e,t;let{min:n,max:i}=this.rs,r=this.ctx.zoomManager.getZoom();(((e=r?.x)==null?void 0:e.min)!==n||((t=r?.x)==null?void 0:t.max)!==i)&&this.ctx.zoomManager.updateZoom({x:{min:n,max:i},y:r?.y})}onZoomChange(){let e=this.ctx.zoomManager.getZoom();e&&e.x&&(this.min=e.x.min,this.max=e.x.max)}onDragStart(e){if(!this.enabled)return;let{offsetX:t,offsetY:n}=e,{rs:i}=this,{minHandle:r,maxHandle:o,min:s}=i,{x:a,width:l}=this,c=i.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(r.zIndex<o.zIndex?o.containsPoint(t,n)?this.maxHandleDragging=!0:r.containsPoint(t,n)&&(this.minHandleDragging=!0):r.containsPoint(t,n)?this.minHandleDragging=!0:o.containsPoint(t,n)&&(this.maxHandleDragging=!0),!this.minHandleDragging&&!this.maxHandleDragging&&c.containsPoint(t,n)&&(this.panHandleOffset=(t-a)/l-s))}onDrag(e){if(!this.enabled)return;let{rs:t,panHandleOffset:n}=this,{minHandle:i,maxHandle:r}=t,{x:o,y:s,width:a,height:l}=this,{offsetX:c,offsetY:d}=e,h=o+a*t.min,u=o+a*t.max,m=new Q(h,s,u-h,l),p=()=>gt(0,(c-o)/a,1);if(i.containsPoint(c,d)||r.containsPoint(c,d)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):m.containsPoint(c,d)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)t.min=p();else if(this.maxHandleDragging)t.max=p();else if(!isNaN(n)){let f=t.max-t.min,b=Math.min(p()-n,1-f);b<=t.min?(t.min=b,t.max=t.min+f):(t.max=b+f,t.min=t.max-f)}}onDragStop(){this.stopHandleDragging()}stopHandleDragging(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN}};g([_(K,{optional:!0})],nn.prototype,"miniChart",2);g([_(Z),xs(e=>e.updateGroupVisibility())],nn.prototype,"enabled",2);g([Tr("rs.mask")],nn.prototype,"mask",2);g([Tr("rs.minHandle")],nn.prototype,"minHandle",2);g([Tr("rs.maxHandle")],nn.prototype,"maxHandle",2);g([Tr("rs.min")],nn.prototype,"min",2);g([Tr("rs.max")],nn.prototype,"max",2);g([_(L)],nn.prototype,"margin",2);g([_(Z),xs(e=>e.updateGroupVisibility())],nn.prototype,"visible",2);var c_={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:nn,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}},mp=({takeColors:e})=>{let{fills:[t],strokes:[n]}=e(1);return{fill:t,stroke:n}},Il=e=>{let{fill:t,stroke:n}=mp(e);return{marker:{fill:t,stroke:n}}};function d_(e,t,n,i,r){let{addPhaseFn:o,updatePhaseFn:s,removePhaseFn:a}=r,l=(c,d,h)=>{n.animate({id:`${e}_${t}_${d.id}_${c}`,groupId:e,from:0,to:1,ease:Xa,onUpdate(u,m){m&&c!=="removed"||(d.path.clear({trackChanges:!0}),h(u,d),d.checkPathDirty())},onStop(){c==="added"&&(d.path.clear({trackChanges:!0}),h(1,d),d.checkPathDirty())},phase:Ke[c]})};for(let c of i)n.isSkipped()||(l("removed",c,a),l("updated",c,s)),l("added",c,o)}var _a=null;function $t(e){if(e!=null)return e===""?"":(_a??(_a=document.createElement("div")),_a.textContent=String(e),_a.innerHTML)}function It({id:e},t,n,i){An(e,t,n,i,{opacity:0},{opacity:1},{phase:"trailing"})}function _o({id:e},t,n,i){An(e,t,n,i,{opacity:1},{opacity:0},{phase:"remove"})}function ir(e){return{opacity:1}}var h_=class extends Ft{constructor(){super(...arguments),this._dirty=3}markDirty(e,t=1){this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},rn=class extends h_{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};g([_(Z),W({redraw:3})],rn.prototype,"enabled",2);g([_(mt),W({redraw:3})],rn.prototype,"color",2);g([_(zt),W({redraw:3})],rn.prototype,"xOffset",2);g([_(zt),W({redraw:3})],rn.prototype,"yOffset",2);g([_(L),W({redraw:3})],rn.prototype,"blur",2);var GA=Pt(e=>z0(e)||Object.getPrototypeOf(e)===Fi,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),ai=class extends h_{constructor(){super(...arguments),this.enabled=!0,this.shape=kn,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){let{size:e,fill:t,fillOpacity:n,stroke:i,strokeWidth:r,strokeOpacity:o}=this;return{size:e,fill:t,fillOpacity:n,stroke:i,strokeWidth:r,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};g([_(Z),W({redraw:3})],ai.prototype,"enabled",2);g([_(GA),W({redraw:3})],ai.prototype,"shape",2);g([_(L),W({redraw:3})],ai.prototype,"size",2);g([_(mt,{optional:!0}),W({redraw:3})],ai.prototype,"fill",2);g([_(At),W({redraw:3})],ai.prototype,"fillOpacity",2);g([_(mt,{optional:!0}),W({redraw:3})],ai.prototype,"stroke",2);g([_(L),W({redraw:3})],ai.prototype,"strokeWidth",2);g([_(At),W({redraw:3})],ai.prototype,"strokeOpacity",2);g([_(Oi,{optional:!0}),W({redraw:3})],ai.prototype,"formatter",2);var u_=class extends Ft{constructor(){super(...arguments),this.enabled=!1}};g([_(Z)],u_.prototype,"enabled",2);var li=class extends Ft{constructor(){super(...arguments),this.enabled=!0,this.interaction=new u_,this.position=new _l}toTooltipHtml(e,t){return this.renderer?Za(this.renderer(t),e):Za(e)}};g([_(Z)],li.prototype,"enabled",2);g([_(Z,{optional:!0})],li.prototype,"showArrow",2);g([_(Oi,{optional:!0})],li.prototype,"renderer",2);g([_(K)],li.prototype,"interaction",2);g([_(K)],li.prototype,"position",2);var Me=class extends Nr{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new rn,this.marker=new ai,this.label=new be,this.tooltip=new li,this.connectMissingData=!1}};g([_(F)],Me.prototype,"xKey",2);g([_(F,{optional:!0})],Me.prototype,"xName",2);g([_(F)],Me.prototype,"yKey",2);g([_(F,{optional:!0})],Me.prototype,"yName",2);g([_(L,{optional:!0})],Me.prototype,"normalizedTo",2);g([_(mt)],Me.prototype,"fill",2);g([_(At)],Me.prototype,"fillOpacity",2);g([_(mt)],Me.prototype,"stroke",2);g([_(L)],Me.prototype,"strokeWidth",2);g([_(At)],Me.prototype,"strokeOpacity",2);g([_(Zn)],Me.prototype,"lineDash",2);g([_(L)],Me.prototype,"lineDashOffset",2);g([_(K)],Me.prototype,"shadow",2);g([_(K)],Me.prototype,"marker",2);g([_(K)],Me.prototype,"label",2);g([_(K)],Me.prototype,"tooltip",2);g([_(Z)],Me.prototype,"connectMissingData",2);function il({id:e},t,n,i){let r={phase:i?Ke[i]:"trailing"};An(e,"markers",t,n,{opacity:0},{opacity:1},r),n.forEach(o=>o.cleanup())}function pp({id:e},t,n){An(e,"markers",t,n,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),n.forEach(i=>i.cleanup())}function fp({id:e,nodeDataDependencies:t},n,i){let r=t.seriesRectWidth;Ht(e,"markers",n,i,{fromFn:(a,l)=>{var c,d;let h=(d=(c=l.midPoint)==null?void 0:c.x)!=null?d:r;return{scalingX:0,scalingY:0,delay:gt(0,gy(h/r),1),duration:Jc,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Al(e){return{opacity:1,scalingX:1,scalingY:1}}function nl(e,t){var n,i,r,o;return{translationX:(i=(n=t.point)==null?void 0:n.x)!=null?i:NaN,translationY:(o=(r=t.point)==null?void 0:r.y)!=null?o:NaN}}function gp(e,t){let n=(s,a)=>{let l=e[a][s];return Array.isArray(l)?l[0]:l},i=s=>{let{xValue:a}=s;return e.moved[a]?{point:n(a,"moved"),status:"updated"}:e.removed[a]?{point:n(a,"removed"),status:"removed"}:e.added[a]?{point:n(a,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(s,a)=>{var l,c,d,h,u,m;let{status:p,point:f}=i(a);if(p==="unknown")return{opacity:0};let b={translationX:(c=(l=f?.from)==null?void 0:l.x)!=null?c:s.translationX,translationY:(h=(d=f?.from)==null?void 0:d.y)!=null?h:s.translationY,opacity:s.opacity,phase:Ke[p]};return t==="added"?V(I({},b),{opacity:0,translationX:(u=f?.to)==null?void 0:u.x,translationY:(m=f?.to)==null?void 0:m.y,phase:Ke.added}):(p==="added"&&(b.opacity=0),b)},toFn:(s,a)=>{var l,c;let{status:d,point:h}=i(a);if(d==="unknown")return{opacity:0};let u={translationX:a.point.x,translationY:a.point.y,opacity:1,phase:Ke[d]};return d==="removed"||t==="removed"?V(I({},u),{translationX:(l=h?.to)==null?void 0:l.x,translationY:(c=h?.to)==null?void 0:c.y,opacity:0,phase:Ke.removed}):u}}}function mm(e){return e.reduce(({min:t,max:n},i)=>((t==null||t.point.x>i.point.x)&&(t=i),(n==null||n.point.x<i.point.x)&&(n=i),{min:t,max:n}),{})}function $b(e,t,n){let i=(t.y-e.y)/(t.x-e.x),r=(n-e.x)*i+e.y;return{x:n,y:r}}function Hb(e,t,n,i){let r=-1,o=0,s=[];for(;o<e.length;){if(e[o].change===t){s.push(e[o]),o++;continue}if(e[o].change===n){o++;continue}s.length>0&&(i(s,r,o),s.length=0),r=o,o++}s.length>0&&i(s,r,o)}function bp(e,t){Hb(e,"out","in",(n,i,r)=>{var o,s;i===-1&&e[r]?n.forEach(a=>a.to=e[r].from):r===e.length&&e[i]?n.forEach(a=>a.to=e[i].from):t==="intersect"&&((o=e[i])!=null&&o.from)&&((s=e[r])!=null&&s.from)?n.forEach(a=>a.to=$b(e[i].from,e[r].from,a.from.x)):n.forEach(a=>a.to=a.from)}),Hb(e,"in","out",(n,i,r)=>{var o,s;i===-1&&e[r]?n.forEach(a=>a.from=e[r].to):r===e.length&&e[i]?n.forEach(a=>a.from=e[i].to):t==="intersect"&&((o=e[i])!=null&&o.to)&&((s=e[r])!=null&&s.to)?n.forEach(a=>a.from=$b(e[i].to,e[r].to,a.to.x)):n.forEach(a=>a.from=a.to)})}function Yb(e,t,n){let i=isNaN(e.x)?t.x:e.x,r=isNaN(e.y)?t.y:e.y,o=t.x-e.x,s=t.y-e.y,a=isNaN(o)?0:o*n,l=isNaN(s)?0:s*n;return{x:i+a,y:r+l}}function vp(e,t,n){let{path:i}=n,r;for(let o of e){let{from:s,to:a}=o,l=t[o.change];if(l==null||s==null||a==null)continue;let{x:c,y:d}=Yb(s,a,l);if(o.moveTo===!1)i.lineTo(c,d);else if(o.moveTo===!0||!r)i.moveTo(c,d);else if(r){let h=o.moveTo==="in"?l:1-l,{x:u,y:m}=Yb(r,{x:c,y:d},h);i.lineTo(u,m),i.moveTo(c,d)}r={x:c,y:d}}}function yp({id:e,visible:t,nodeDataDependencies:n},i,r){let{seriesRectWidth:o,seriesRectHeight:s}=n;An(e,"path_properties",i,r,{clipX:0},{clipX:o},{phase:"initial",start:{clipMode:"normal",clipY:s,visible:t},finish:{clipMode:void 0,visible:t}})}function Ha({id:e},t,n,i,r="add"){An(e,t,n,i,{opacity:0},{opacity:1},{phase:r})}function WA({id:e},t,n,i){An(e,t,n,i,{opacity:1},{opacity:0},{phase:"remove"})}function _p(e){return t=>({opacity:e.getOpacity(),clipScalingX:1,clipMode:void 0})}function Yc({nodeDataDependencies:e},t){let n=i=>isFinite(i)?i:0;t.clipX=n(e.seriesRectWidth),t.clipY=n(e.seriesRectHeight)}function Kb(e){return e.type==="continuous"||e.type==="log"}function Xb(e){return e.type==="category"}function qb(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every((n,i)=>n===t.domain[i])&&e.range.every((n,i)=>n===t.range[i])}function Zb(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:Kb(e)&&Kb(t)?e.type===t.type&&qb(e,t):Xb(e)&&Xb(t)?qb(e,t):!1}function wc(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);let n=t.domain.findIndex(i=>i===e);return n>=0?t.range[n]:NaN}function $A(e,t){return!Zb(e.scales.x,t.scales.x)||!Zb(e.scales.y,t.scales.y)}function HA(e,t){let n=Number(e),i=Number(t);return!isNaN(n)&&!isNaN(i)?Math.abs(i-n)<.25:e===t}function m_(e=!1,t=!1){return e===t?!!e:e?"in":"out"}function rl(e,t,n={}){var i,r,o,s;let{backfillSplitMode:a="intersect"}=n,l=x=>{var k,w;return{x:wc((k=x.xValue)!=null?k:NaN,e.scales.x),y:wc((w=x.yValue)!=null?w:NaN,e.scales.y)}},c=x=>{var k,w;return{x:wc((k=x.xValue)!=null?k:NaN,t.scales.x),y:wc((w=x.yValue)!=null?w:NaN,t.scales.y)}},d=[],h={added:{},moved:{},removed:{}},u=(x,k,w,S="move")=>{x&&(isNaN(x.point.x)||isNaN(x.point.y))&&(x=k);let C={from:x?.point,to:k?.point,moveTo:m_(x?.point.moveTo,k?.point.moveTo),change:S};S==="move"?(h.moved[w]=C,y++,v++):S==="in"?(h.added[w]=C,v++):S==="out"&&(h.removed[w]=C,y++),d.push(C)},{min:m,max:p}=mm(t.nodeData),{min:f,max:b}=mm(e.nodeData),y=0,v=0;for(;y<t.nodeData.length||v<e.nodeData.length;){let x=t.nodeData[y],k=e.nodeData[v],w=x?l(x):void 0,S=k?c(k):void 0,C=void 0;if(w&&HA(w.x,k?.point.x))u(x,k,k.xValue,"move");else if(w&&w.x<((i=f?.point.x)!=null?i:-1/0))u(x,C,x.xValue,"out");else if(w&&w.x>((r=b?.point.x)!=null?r:1/0))u(x,C,x.xValue,"out");else if(S&&S.x<((o=m?.point.x)!=null?o:-1/0))u(C,k,k.xValue,"in");else if(S&&S.x>((s=p?.point.x)!=null?s:1/0))u(C,k,k.xValue,"in");else if(w&&w.x<k?.point.x)u(x,C,x.xValue,"out");else if(S&&S.x<x?.point.x)u(C,k,k.xValue,"in");else if(x)u(x,C,x.xValue,"out");else if(k)u(C,k,k.xValue,"in");else throw new Error("Unable to process points")}return bp(d,a),{result:d,resultMap:h}}function ol(e,t,n,i={}){var r,o,s;let{backfillSplitMode:a="intersect",multiDatum:l=!1}=i,c=[],d={added:{},moved:{},removed:{}},h={added:{},moved:{},removed:{}},u,m,p=(x,k)=>{var w,S;let C=k.change==="move"?"moved":k.change==="in"?"added":"removed";l?((S=(w=h[C])[x])!=null||(w[x]=[]),h[C][x].push(k)):d[C][x]=k,u=k,m=rs(x)},f=0,b=0,y=!1;for(;f<t.nodeData.length||b<e.nodeData.length;){let x=t.nodeData[f],k=e.nodeData[b],w=rs(x?.xValue),S=rs(k?.xValue),C;if(w===S)C={change:"move",moveTo:m_((r=x.point.moveTo)!=null?r:!1,k.point.moveTo),from:x.point,to:k.point},p(x?.xValue,C),f++,b++;else if(n!==void 0&&n.removed.indexOf(String(w))>=0)C={change:"out",moveTo:(o=x.point.moveTo)!=null?o:!1,from:x.point},p(x?.xValue,C),f++;else if(n!==void 0&&n.added.indexOf(String(S))>=0)C={change:"in",moveTo:(s=k.point.moveTo)!=null?s:!1,to:k.point},p(k?.xValue,C),b++;else if(l&&u&&m===w)C=I({},u),p(x?.xValue,C),f++;else if(l&&u&&m===S)C=I({},u),p(k?.xValue,C),b++;else{y=!0;break}c.push(C)}let v=-1/0;return y||(y=c.some(x=>{let{change:k,to:{x:w=-1/0}={}}=x;if(k==="out")return;let S=w<v;return v=w,S})),y?{result:void 0,resultMap:void 0}:(bp(c,a),l?{result:c,resultMap:h}:{result:c,resultMap:d})}function p_(e,t){let n="updated",i=r=>r.visible;return!i(t)&&i(e)?n="added":i(t)&&!i(e)&&(n="removed"),n}function YA(e,t){let n=t==="none"?"updated":e,i={fromFn:r=>{let o;return e==="removed"?o={finish:{visible:!1}}:e==="added"?o={start:{visible:!0}}:o={},I({phase:Ke[n]},o)},toFn:r=>({phase:Ke[n]})};return t==="fade"?{fromFn:r=>{let o=e==="added"?0:r.opacity;return I({opacity:o},i.fromFn(r))},toFn:r=>I({opacity:e==="removed"?0:1},i.toFn(r))}:i}function xp(e,t,n,i,r){let o=p_(e,t),s=(d,h)=>{r(n,{move:0,out:d},h)},a=(d,h)=>{r(n,{move:d},h)},l=(d,h)=>{r(n,{move:1,in:d},h)},c=YA(o,i);return{status:o,path:{addPhaseFn:l,updatePhaseFn:a,removePhaseFn:s},pathProperties:c}}function f_(e,t,n){var i,r,o;let s=((i=e.scales.x)==null?void 0:i.type)==="category",a=((r=t.scales.x)==null?void 0:r.type)==="category";if(s!==a)return;let{result:l,resultMap:c}=s?ol(e,t,n):rl(e,t),d="updated";if(t.visible&&!e.visible?d="removed":!t.visible&&e.visible&&(d="added"),l===void 0||c===void 0)return;let h=((o=n?.changed)!=null?o:!0)||$A(e,t)||d!=="updated",u=xp(e,t,l,"fade",vp),m=gp(c,d);return V(I({},u),{marker:m,hasMotion:h})}var g_=(e=>(e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.Marker=2]="Marker",e[e.Label=3]="Label",e))(g_||{});function Kc(e){let{points:t}=e.fillData;return{top:t.slice(0,t.length/2),bottom:t.slice(t.length/2).reverse()}}function xr(e,t,n){return{scales:t.scales,nodeData:n[e],visible:t.visible}}function KA(e,t,n){let i=Kc(t),r=Kc(e),o={multiDatum:!0};return{top:ol(xr("top",e,r),xr("top",t,i),n,o),bottom:ol(xr("bottom",e,r),xr("bottom",t,i),n,o)}}function XA(e,t){let n=Kc(t),i=Kc(e);return{top:rl(xr("top",e,i),xr("top",t,n)),bottom:rl(xr("bottom",e,i),xr("bottom",t,n))}}function b_(e,t,n){var i,r;let o=((i=e.scales.x)==null?void 0:i.type)==="category",s=((r=t.scales.x)==null?void 0:r.type)==="category";if(o!==s)return;let a="updated";t.visible&&!e.visible?a="removed":!t.visible&&e.visible&&(a="added");let l=()=>o?ol(e,t,n,{backfillSplitMode:"static",multiDatum:!0}):rl(e,t,{backfillSplitMode:"static"}),c=()=>o?KA(e,t,n):XA(e,t),{resultMap:d}=l(),{top:h,bottom:u}=c();if(d===void 0||h.result===void 0||u.result===void 0)return;let m=[...h.result,...u.result.reverse()],f=(t.stackVisible?e.stackVisible:!1)?"none":"fade",b=xp(e,t,m,f,vp),y=gp(d,a);return{fill:b,marker:y}}var wp=class v_ extends Pr{constructor(t){super({moduleCtx:t,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:_p({getOpacity:()=>this.getOpacity()}),label:ir,marker:(n,i)=>I(I({},Al(n)),nl(n,i))}}),this.properties=new Me}processData(t){return T(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:n,visible:i,seriesGrouping:{groupIndex:r=this.id,stackCount:o=1}={}}=this,{xKey:s,yKey:a,connectMissingData:l,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),{isContinuousX:h,isContinuousY:u}=this.isContinuous(),m=[`area-stack-${r}-yValues`,`area-stack-${r}-yValues-trailing`,`area-stack-${r}-yValues-prev`,`area-stack-${r}-yValues-trailing-prev`,`area-stack-${r}-yValues-marker`],p=[];Lu(c)&&(p.push(Hc(this,[m[0],m[1],m[4]],c,"range")),p.push(Hc(this,[m[2],m[3]],c,"range"))),!h&&d&&this.processedData&&p.push(Ao(this.processedData)),d&&p.push(Cs(this));let f={invalidValue:null};l&&o>1&&(f.invalidValue=0),i||(f.forceValue=0),yield this.requestDataModel(t,n,{props:[Pe(this,s,h,{id:"xValue"}),Nt(this,a,u,I({id:"yValueRaw"},f)),..._r(this,a,u,"window","current",V(I({id:"yValueEnd"},f),{groupId:m[0]})),..._r(this,a,u,"window-trailing","current",V(I({id:"yValueStart"},f),{groupId:m[1]})),..._r(this,a,u,"window","last",V(I({id:"yValuePreviousEnd"},f),{groupId:m[2]})),..._r(this,a,u,"window-trailing","last",V(I({id:"yValuePreviousStart"},f),{groupId:m[3]})),..._r(this,a,u,"normal","current",V(I({id:"yValueCumulative"},f),{groupId:m[4]})),...p],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){let{processedData:n,dataModel:i,axes:r}=this;if(!n||!i||n.data.length===0)return[];let o=r.x,s=r.y,a=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","key",n),c=i.getDomain(this,"yValueEnd","value",n);if(t==="x")return a?.def.type==="key"&&a.def.valueType==="category"?l:Xe(En(l),o);if(s instanceof Er||s instanceof wo)return Xe(c,s);{let d=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return Xe(d,s)}}createNodeData(){return T(this,null,function*(){var t;let{axes:n,data:i,processedData:{data:r}={},dataModel:o}=this,s=n.x,a=n.y;if(!s||!a||!i||!o||!this.properties.isValid())return[];let{yKey:l,xKey:c,marker:d,label:h,fill:u,stroke:m,connectMissingData:p}=this.properties,{scale:f}=s,{scale:b}=a,y=Ot.is(b),v=((t=f.bandwidth)!=null?t:0)/2,x=o.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),k=ot=>{let vt=ot,{point:at}=vt,pt=we(vt,["point"]);return V(I({},pt),{point:V(I({},at),{moveTo:!0})})},w=(ot,vt,at)=>{let pt=f.convert(ot)+v,Vt=b.convert(vt),Ee=b.convert(at);return[{point:{x:pt,y:Ee},yValue:at,xValue:ot},{point:{x:pt,y:Vt},yValue:vt,xValue:ot}]},S=(ot,vt,at)=>{let pt;return(Lu(this.properties.normalizedTo)?y&&Um(at):!isNaN(at))&&(pt=vt),{x:f.convert(ot)+v,y:b.convert(pt),size:d.size}},C=l,E=[],D=[],{visibleSameStackCount:A}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),R={itemId:C,fillData:{itemId:C,points:[]},strokeData:{itemId:C,points:[]},labelData:E,nodeData:D,scales:Yn(v_.prototype,this,"calculateScaling").call(this),visible:this.visible,stackVisible:A>0},N=R.fillData.points,O=[],U=R.strokeData.points,rt=-1,J,dt=-1/0;return r?.forEach(ot=>{let{keys:vt,keys:[at],datum:pt,values:Vt}=ot;Vt.forEach((Ee,Ue)=>{var Je,$,wt;rt++;let Qt=pt[Ue],Jt=o.resolveProcessedDataDefsValues(x,{keys:vt,values:Ee}),{yValueRaw:ce,yValueCumulative:xi}=Jt,{yValueStart:Ie,yValueEnd:ti,yValuePreviousStart:ji,yValuePreviousEnd:Vr}=Jt,Ge=ce!=null,ln=S(at,+xi,ce);if(Ge&&d&&D.push({index:rt,series:this,itemId:C,datum:Qt,midPoint:{x:ln.x,y:ln.y},cumulativeValue:ti,yValue:ce,xValue:at,yKey:l,xKey:c,point:ln,fill:(Je=d.fill)!=null?Je:u,stroke:($=d.stroke)!=null?$:m,strokeWidth:(wt=d.strokeWidth)!=null?wt:this.getStrokeWidth(this.properties.strokeWidth)}),Ge&&h){let Bl=this.getLabelText(h,{value:ce,datum:Qt,xKey:c,yKey:l,xName:this.properties.xName,yName:this.properties.yName},Ps=>xt(Ps)?Ps.toFixed(2):String(Ps));E.push({index:rt,series:this,itemId:l,datum:Qt,x:ln.x,y:ln.y,label:Bl?{text:Bl,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0})}let Po=J!=null&&at!=null,Fo=dt!=null&&Ge;Fo||(Ie=Ie??0,ti=Ie??0,ji=ji??0,Vr=ji??0);let[ei,Gd]=w(J,ji,Vr),[Fl,Wd]=w(at,Ie,ti);Po&&(!p||Fo)&&(N.push(ei),O.push(Gd),N.push(Fl),O.push(Wd)),Fo&&rt>0&&(U.push(k(ei)),U.push(Fl)),J=at,dt=ce})}),U.length>0&&(U[0]=k(U[0])),O.reverse(),N.push(...O),[R]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:t}=this.properties.marker,n=Lr(t);return new n}updatePathNodes(t){return T(this,null,function*(){let{opacity:n,visible:i,animationEnabled:r}=t,[o,s]=t.paths,a=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({tag:1,fill:void 0,lineJoin:s.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:a,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:n,visible:i}),o.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:n,visible:i||r,strokeWidth:a}),Yc(this,s),Yc(this,o)})}updatePaths(t){return T(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,n){this.updateFillPath(t,n),this.updateStrokePath(t,n)}updateFillPath(t,n){n.forEach(({fillData:i},r)=>{let[o]=t[r],{path:s}=o;s.clear({trackChanges:!0});for(let{point:a}of i.points)a.moveTo?s.moveTo(a.x,a.y):s.lineTo(a.x,a.y);s.closePath(),o.checkPathDirty()})}updateStrokePath(t,n){n.forEach(({strokeData:i},r)=>{let[,o]=t[r],{path:s}=o;s.clear({trackChanges:!0});for(let{point:a}of i.points)a.moveTo?s.moveTo(a.x,a.y):s.lineTo(a.x,a.y);o.checkPathDirty()})}updateMarkerSelection(t){return T(this,null,function*(){let{nodeData:n,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?n:[])})}updateMarkerNodes(t){return T(this,null,function*(){let{markerSelection:n,isHighlight:i}=t,{xKey:r,yKey:o,marker:s,fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:h,highlightStyle:u}=this.properties,m=st(i&&u.item,s.getStyle(),{fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:h});n.each((p,f)=>{this.updateMarkerStyle(p,s,{datum:f,highlighted:i,xKey:r,yKey:o},m)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return T(this,null,function*(){let{labelData:n,labelSelection:i}=t;return i.update(n,r=>{r.tag=3})})}updateLabelNodes(t){return T(this,null,function*(){let{labelSelection:n}=t,{enabled:i,fontStyle:r,fontWeight:o,fontSize:s,fontFamily:a,color:l}=this.properties.label;n.each((c,d)=>{let{x:h,y:u,label:m}=d;m&&i&&this.visible?(c.fontStyle=r,c.fontWeight=o,c.fontSize=s,c.fontFamily=a,c.textAlign=m.textAlign,c.textBaseline=m.textBaseline,c.text=m.text,c.x=h,c.y=u-10,c.fill=l,c.visible=!0):c.visible=!1})})}getTooltipHtml(t){let{id:n,axes:i,dataModel:r}=this,{xKey:o,xName:s,yName:a,tooltip:l,marker:c}=this.properties,{yKey:d,xValue:h,yValue:u,datum:m}=t,p=i.x,f=i.y;if(!this.properties.isValid()||!(p&&f&&xt(u))||!r)return"";let b=p.formatDatum(h),y=f.formatDatum(u),v=$t(a),x=$t(b+": "+y),k=st({fill:this.properties.fill},c.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:w}=this.getMarkerStyle(c,{datum:t,xKey:o,yKey:d,highlighted:!1},k);return l.toTooltipHtml({title:v,content:x,backgroundColor:w},{datum:m,xKey:o,xName:s,yKey:d,yName:a,color:w,title:v,seriesId:n})}getLegendData(t){var n,i,r,o;if(!((n=this.data)!=null&&n.length)||!this.properties.isValid()||t!=="category")return[];let{yKey:s,yName:a,fill:l,stroke:c,fillOpacity:d,strokeOpacity:h,strokeWidth:u,lineDash:m,marker:p,visible:f}=this.properties,b=!p.enabled||p.fill===void 0;return[{legendType:t,id:this.id,itemId:s,seriesId:this.id,enabled:f,label:{text:a??s},marker:{shape:p.shape,fill:b?l:p.fill,fillOpacity:b?d:p.fillOpacity,stroke:(i=p.stroke)!=null?i:c,strokeOpacity:(r=p.strokeOpacity)!=null?r:h,strokeWidth:(o=p.strokeWidth)!=null?o:0,enabled:p.enabled||u<=0},line:{stroke:c,strokeOpacity:h,strokeWidth:u,lineDash:m}}]}animateEmptyUpdateReady(t){let{markerSelections:n,labelSelections:i,contextData:r,paths:o}=t,{animationManager:s}=this.ctx;this.updateAreaPaths(o,r),yp(this,s,o.flat()),xe(n,nl),fp(this,s,n),It(this,"labels",s,i)}animateReadyResize(t){let{contextData:n,paths:i}=t;this.updateAreaPaths(i,n),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var n,i;let{animationManager:r}=this.ctx,{markerSelections:o,labelSelections:s,contextData:a,paths:l,previousContextData:c}=t,[[d,h]]=l;super.resetAllAnimation(t);let u=()=>{this.updateAreaPaths(l,a),this.updateStrokePath(l,a)},m=()=>{r.skipCurrentBatch(),u()};if(a.length===0||c?.length===0){u(),il(this,r,o,"added"),Ha(this,"fill_path_properties",r,[d]),Ha(this,"stroke",r,[h],"trailing"),It(this,"labels",r,s);return}let[p]=a,[f]=c??[],b=b_(p,f,(i=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:i.diff);if(b===void 0){m();return}il(this,r,o),Ht(this.id,"fill_path_properties",r,[d],b.fill.pathProperties),d_(this.id,"fill_path_update",r,[d],b.fill.path),this.updateStrokePath(l,a),Ha(this,"stroke",r,[h],"trailing"),It(this,"labels",r,s)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Y}};wp.className="AreaSeries";wp.type="area";var qA=wp,ZA={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:qA,stackable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:Kn,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:vs,xOffset:3,yOffset:3,blur:5},marker:{__extends__:gs,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_e,color:_t,formatter:void 0}}},paletteFactory:e=>{let{marker:t}=Il(e);return{fill:t.fill,stroke:t.stroke,marker:t}}},kp=class extends Nr{constructor(){super(...arguments),this.direction="vertical"}};g([_(Ay)],kp.prototype,"direction",2);var y_=class extends Pr{getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){let e=this.getCategoryDirection();return this.axes[e]}},__=class extends be{constructor(){super(...arguments),this.placement="inside"}};g([_(Ry)],__.prototype,"placement",2);var Ce=class extends kp{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new rn,this.label=new __,this.tooltip=new li}};g([_(F)],Ce.prototype,"xKey",2);g([_(F,{optional:!0})],Ce.prototype,"xName",2);g([_(F)],Ce.prototype,"yKey",2);g([_(F,{optional:!0})],Ce.prototype,"yName",2);g([_(F,{optional:!0})],Ce.prototype,"stackGroup",2);g([_(zt,{optional:!0})],Ce.prototype,"normalizedTo",2);g([_(mt)],Ce.prototype,"fill",2);g([_(At)],Ce.prototype,"fillOpacity",2);g([_(mt)],Ce.prototype,"stroke",2);g([_(L)],Ce.prototype,"strokeWidth",2);g([_(At)],Ce.prototype,"strokeOpacity",2);g([_(Zn)],Ce.prototype,"lineDash",2);g([_(L)],Ce.prototype,"lineDashOffset",2);g([_(L)],Ce.prototype,"cornerRadius",2);g([_(Oi,{optional:!0})],Ce.prototype,"formatter",2);g([_(K,{optional:!0})],Ce.prototype,"shadow",2);g([_(K)],Ce.prototype,"label",2);g([_(K)],Ce.prototype,"tooltip",2);function x_({rect:e,config:t}){let{crisp:n=!0,fill:i,stroke:r,strokeWidth:o,fillOpacity:s,strokeOpacity:a,lineDash:l,lineDashOffset:c,fillShadow:d,cornerRadius:h=0,topLeftCornerRadius:u,topRightCornerRadius:m,bottomRightCornerRadius:p,bottomLeftCornerRadius:f,cornerRadiusBbox:b,visible:y=!0}=t;e.crisp=n,e.fill=i,e.stroke=r,e.strokeWidth=o,e.fillOpacity=s,e.strokeOpacity=a,e.lineDash=l,e.lineDashOffset=c,e.fillShadow=d,e.topLeftCornerRadius=u?h:0,e.topRightCornerRadius=m?h:0,e.bottomRightCornerRadius=p?h:0,e.bottomLeftCornerRadius=f?h:0,e.cornerRadiusBbox=b,e.visible=y}function w_(e){var t=e,{datum:n,isHighlighted:i,style:r,highlightStyle:o,formatter:s,seriesId:a,ctx:{callbackCache:l}}=t,c=we(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]),d,h,u,m,p,f;let{fill:b,fillOpacity:y,stroke:v,strokeWidth:x}=st(i&&o,r),{strokeOpacity:k,fillShadow:w,lineDash:S,lineDashOffset:C,cornerRadius:E=0,topLeftCornerRadius:D=!0,topRightCornerRadius:A=!0,bottomRightCornerRadius:R=!0,bottomLeftCornerRadius:N=!0,cornerRadiusBbox:O}=r,U;return s&&(U=l.call(s,I({datum:n.datum,xKey:n.xKey,fill:b,stroke:v,strokeWidth:x,cornerRadius:E,highlighted:i,seriesId:a},c))),{fill:(d=U?.fill)!=null?d:b,stroke:(h=U?.stroke)!=null?h:v,strokeWidth:(u=U?.strokeWidth)!=null?u:x,fillOpacity:(m=U?.fillOpacity)!=null?m:y,strokeOpacity:(p=U?.strokeOpacity)!=null?p:k,lineDash:S,lineDashOffset:C,fillShadow:w,cornerRadius:(f=U?.cornerRadius)!=null?f:E,topLeftCornerRadius:D,topRightCornerRadius:A,bottomRightCornerRadius:R,bottomLeftCornerRadius:N,cornerRadiusBbox:O}}function k_(e=[]){let[t,n]=e;return!(t!==0||n!==1)}var Qb=e=>{var t;return fl((t=e.yValue)!=null?t:0)};function sl(e,t,n){let{startingX:i,startingY:r}=JA(e,t);return{isVertical:e,calculate:(s,a)=>{let l=e?s.x:i,c=e?r:s.y,d=e?s.width:0,h=e?0:s.height,u=s.opacity;return a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,d=e?a.width:0,h=e?0:a.height,e&&!Qb(a)?c+=a.height:!e&&Qb(a)&&(l+=a.width)),{x:l,y:c,width:d,height:h,opacity:u}},mode:n}}function QA(e,t){return{isVertical:e,calculate:n=>({x:e?n.x:n.x+n.width/2,y:e?n.y+n.height/2:n.y,width:e?n.width:0,height:e?0:n.height,opacity:n.opacity}),mode:t}}function al(e){let t=r=>r==null||isNaN(r.x)||isNaN(r.y);return{toFn:(r,o,s)=>s==="removed"&&r.datum==null&&e.mode==="fade"?V(I({},ll(r,o)),{opacity:0}):s==="removed"||t(o)?e.calculate(o,r.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,opacity:o.opacity},fromFn:(r,o,s)=>{s==="updated"&&t(o)?s="removed":s==="updated"&&t(r.previousDatum)&&(s="added");let a={x:r.x,y:r.y,width:r.width,height:r.height,opacity:r.opacity};s==="added"&&r.previousDatum==null&&e.mode==="fade"?a=V(I({},ll(r,o)),{opacity:0}):(s==="unknown"||s==="added")&&(a=e.calculate(o,r.previousDatum));let l=Ke[s];return V(I({},a),{phase:l})}}}function JA(e,t){let n=t[e?"y":"x"],i=1/0,r=0;return n?(e?r=n.scale.convert(Ot.is(n.scale)?0:Math.max(...n.range)):i=n.scale.convert(Ot.is(n.scale)?0:Math.min(...n.range)),{startingX:i,startingY:r}):{startingX:i,startingY:r}}function ll(e,{x:t,y:n,width:i,height:r,opacity:o}){return{x:t,y:n,width:i,height:r,opacity:o}}function S_(e,t,n){if(t.enabled&&n){let{x:i,y:r,text:o,textAlign:s,textBaseline:a}=n,{color:l,fontStyle:c,fontWeight:d,fontSize:h,fontFamily:u}=t;e.setProperties({visible:!0,x:i,y:r,text:o,fill:l,fontStyle:c,fontWeight:d,fontSize:h,fontFamily:u,textAlign:s,textBaseline:a})}else e.visible=!1}function C_({isPositive:e,isVertical:t,placement:n,padding:i=0,rect:r}){let o=r.x+r.width/2,s=r.y+r.height/2,a="center",l="middle";switch(n){case"start":{t?(s=e?r.y+r.height+i:r.y-i,l=e?"top":"bottom"):(o=e?r.x-i:r.x+r.width+i,a=e?"start":"end");break}case"outside":case"end":{t?(s=e?r.y-i:r.y+r.height+i,l=e?"bottom":"top"):(o=e?r.x+r.width+i:r.x-i,a=e?"start":"end");break}}return{x:o,y:s,textAlign:a,textBaseline:l}}var Sp=class D_ extends y_{constructor(t){super({moduleCtx:t,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:ll,label:ir}}),this.properties=new Ce,this.groupScale=new Dn,this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}processData(t){return T(this,null,function*(){var n,i,r,o;if(!this.properties.isValid()||!this.data)return;let{seriesGrouping:{groupIndex:s=this.id}={},data:a=[]}=this,{xKey:l,yKey:c,normalizedTo:d}=this.properties,h=!this.ctx.animationManager.isSkipped(),u=Math.abs(d??NaN),m=Ot.is((n=this.getCategoryAxis())==null?void 0:n.scale),p=Ot.is((i=this.getValueAxis())==null?void 0:i.scale),f=`bar-stack-${s}-yValues`,b=`${f}-trailing`,y=u&&isFinite(u)?u:void 0,v=[];y&&v.push(Hc(this,[f,b],y,"range")),h&&this.processedData&&v.push(Ao(this.processedData)),h&&v.push(Cs(this));let x=this.visible?{}:{forceValue:0},{processedData:k}=yield this.requestDataModel(t,a,{props:[Pe(this,l,m,{id:"xValue"}),Nt(this,c,p,I({id:"yValue-raw",invalidValue:null},x)),..._r(this,c,p,"normal","current",I({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:f,separateNegative:!0},x)),..._r(this,c,p,"trailing","current",I({id:"yValue-start",invalidValue:null,missingValue:0,groupId:b,separateNegative:!0},x)),...m?[um]:[],...v],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:(o=(r=k.reduced)==null?void 0:r.smallestKeyInterval)!=null?o:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var n;let{processedData:i,dataModel:r}=this;if(!i||!r||i.data.length===0)return[];let{reduced:{[um.property]:o}={}}=i,s=this.getCategoryAxis(),a=this.getValueAxis(),l=r.resolveProcessedDataDefById(this,"xValue"),c=r.getDomain(this,"xValue","key",i),d=r.getDomain(this,"yValue-end","value",i);if(t===this.getCategoryDirection()){if(l?.def.type==="key"&&l?.def.valueType==="category")return c;let h=o!=null&&isFinite(o)?o:0,u=(n=En(c))!=null?n:[NaN,NaN],m=s?.isReversed();if(t==="y"){let b=u[0]+(m?0:-h),y=u[1]+(m?h:0);return Xe([b,y],s)}let p=u[0]+(m?-h:0),f=u[1]+(m?0:h);return Xe([p,f],s)}else{if(this.getValueAxis()instanceof Er)return Xe(d,a);{let h=[d[0]>0?0:d[0],d[1]<0?0:d[1]];return Xe(h,a)}}}createNodeData(){return T(this,null,function*(){let{dataModel:t}=this,n=this.getCategoryAxis(),i=this.getValueAxis();if(!(t&&n&&i&&this.properties.isValid()))return[];let r=n.scale,o=i.scale,{groupScale:s,processedData:a,smallestDataInterval:l,ctx:{seriesStateManager:c}}=this,{xKey:d,yKey:h,xName:u,yName:m,fill:p,stroke:f,strokeWidth:b,cornerRadius:y,legendItemName:v,label:x}=this.properties,k=i.isReversed(),w=Ot.is(r)?r.calcBandwidth(l?.x):r.bandwidth,S=[],{index:C,visibleGroupCount:E}=c.getVisiblePeerGroupIndex(this);for(let dt=0;dt<E;dt++)S.push(String(dt));s.domain=S,s.range=[0,w??0],n instanceof $n?s.paddingInner=n.groupPaddingInner:n instanceof Cr?s.padding=.1:s.padding=0,s.round=s.padding!==0;let D=s.bandwidth>=1?s.bandwidth:s.rawBandwidth,A=t.resolveProcessedDataIndexById(this,"xValue").index,R=t.resolveProcessedDataIndexById(this,"yValue-raw").index,N=t.resolveProcessedDataIndexById(this,"yValue-start").index,O=t.resolveProcessedDataIndexById(this,"yValue-end").index,U=t.resolveProcessedDataDefById(this,"yValue-range").index,rt=!this.ctx.animationManager.isSkipped(),J=[];return a?.data.forEach(({keys:dt,datum:ot,values:vt,aggValues:at})=>{vt.forEach((pt,Vt)=>{var Ee,Ue;(Ee=J[Vt])!=null||(J[Vt]={itemId:h,nodeData:[],labelData:[],scales:Yn(D_.prototype,this,"calculateScaling").call(this),visible:this.visible||rt});let Je=dt[A],$=r.convert(Je),wt=+pt[O],Qt=+pt[N],Jt=pt[R],ce=Jt>=0,xi=ce!==k,Ie=(Ue=at?.[U][ce?1:0])!=null?Ue:0,ti=$+s.convert(String(C));if(isNaN(wt))return;let ji=o.convert(wt),Vr=o.convert(Qt),Ge=this.getBarDirection()==="x",ln=o.convert(Ie),Po=o.convert(0),Fo=new Q(Ge?Math.min(Po,ln):ti,Ge?ti:Math.min(Po,ln),Ge?Math.abs(Po-ln):D,Ge?D:Math.abs(Po-ln)),ei={x:Ge?Math.min(ji,Vr):ti,y:Ge?ti:Math.min(ji,Vr),width:Ge?Math.abs(Vr-ji):D,height:Ge?D:Math.abs(Vr-ji),cornerRadiusBbox:Fo},{fontStyle:Gd,fontWeight:Fl,fontSize:Wd,fontFamily:Bl,color:Ps,placement:Cw}=x,bf=this.getLabelText(this.properties.label,{datum:ot[Vt],value:Jt,xKey:d,yKey:h,xName:u,yName:m,legendItemName:v},_f=>xt(_f)?_f.toFixed(2):""),Dw=bf?I({text:bf,fill:Ps,fontStyle:Gd,fontWeight:Fl,fontSize:Wd,fontFamily:Bl},C_({isPositive:ce,isVertical:!Ge,placement:Cw,rect:ei})):void 0,vf=this.shouldFlipXY()?ei.height:ei.width,yf={series:this,itemId:h,datum:ot[Vt],cumulativeValue:wt,xValue:Je,yValue:Jt,yKey:h,xKey:d,capDefaults:{lengthRatioMultiplier:vf,lengthMax:vf},x:ei.x,y:ei.y,width:ei.width,height:ei.height,midPoint:{x:ei.x+ei.width/2,y:ei.y+ei.height/2},fill:p,stroke:f,opacity:1,strokeWidth:b,cornerRadius:y,topLeftCornerRadius:Ge!==xi,topRightCornerRadius:xi,bottomRightCornerRadius:Ge===xi,bottomLeftCornerRadius:!xi,cornerRadiusBbox:Fo,label:Dw};J[Vt].nodeData.push(yf),J[Vt].labelData.push(yf)})}),J})}nodeFactory(){return new Ve}updateDatumSelection(t){return T(this,null,function*(){return t.datumSelection.update(t.nodeData,n=>{n.tag=0},n=>Dr(n.xValue))})}updateDatumNodes(t){return T(this,null,function*(){if(!this.properties.isValid())return;let{yKey:n,stackGroup:i,fill:r,fillOpacity:o,stroke:s,strokeWidth:a,strokeOpacity:l,lineDash:c,lineDashOffset:d,formatter:h,shadow:u,highlightStyle:{item:m}}=this.properties,p=this.axes.x,f=k_(p?.visibleRange),b=this.getCategoryDirection()==="x";t.datumSelection.each((y,v)=>{let x={fill:r,stroke:s,fillOpacity:o,strokeOpacity:l,lineDash:c,lineDashOffset:d,fillShadow:u,strokeWidth:this.getStrokeWidth(a),cornerRadius:v.cornerRadius,topLeftCornerRadius:v.topLeftCornerRadius,topRightCornerRadius:v.topRightCornerRadius,bottomRightCornerRadius:v.bottomRightCornerRadius,bottomLeftCornerRadius:v.bottomLeftCornerRadius,cornerRadiusBbox:v.cornerRadiusBbox},k=b?v.width>0:v.height>0,w=w_({datum:v,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:m,yKey:n,style:x,formatter:h,stackGroup:i});w.crisp=f,w.visible=k,x_({rect:y,config:w})})})}updateLabelSelection(t){return T(this,null,function*(){let n=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(n,i=>{i.tag=1,i.pointerEvents=1})})}updateLabelNodes(t){return T(this,null,function*(){t.labelSelection.each((n,i)=>{S_(n,this.properties.label,i.label)})})}getTooltipHtml(t){var n;let{id:i,processedData:r,ctx:{callbackCache:o}}=this,s=this.getCategoryAxis(),a=this.getValueAxis();if(!r||!this.properties.isValid()||!s||!a)return"";let{xKey:l,yKey:c,xName:d,yName:h,fill:u,stroke:m,strokeWidth:p,tooltip:f,formatter:b,stackGroup:y}=this.properties,{xValue:v,yValue:x,datum:k}=t,w=s.formatDatum(v),S=a.formatDatum(x),C=$t(h),E=$t(w+": "+S),D;b&&(D=o.call(b,{seriesId:i,datum:k,xKey:l,yKey:c,stackGroup:y,fill:u,stroke:m,strokeWidth:this.getStrokeWidth(p),highlighted:!1}));let A=(n=D?.fill)!=null?n:u;return f.toTooltipHtml({title:C,content:E,backgroundColor:A},I({seriesId:i,datum:k,xKey:l,yKey:c,xName:d,yName:h,stackGroup:y,title:C,color:A},this.getModuleTooltipParams()))}getLegendData(t){var n,i;let{showInLegend:r}=this.properties;if(t!=="category"||!((n=this.data)!=null&&n.length)||!this.properties.isValid()||!r)return[];let{yKey:o,yName:s,fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:h,legendItemName:u,visible:m}=this.properties;return[{legendType:"category",id:this.id,itemId:o,seriesId:this.id,enabled:m,label:{text:(i=u??s)!=null?i:o},marker:{fill:a,fillOpacity:d,stroke:l,strokeWidth:c,strokeOpacity:h},legendItemName:u}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:n,annotationSelections:i}){let r=al(sl(this.isVertical(),this.axes,"normal"));Ht(this.id,"nodes",this.ctx.animationManager,t,r),It(this,"labels",this.ctx.animationManager,n),It(this,"annotations",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){var n,i,r;let{datumSelections:o,labelSelections:s,annotationSelections:a,previousContextData:l}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(i=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:i.diff,d=l?.length===0?"fade":"normal",h=al(sl(this.isVertical(),this.axes,d));Ht(this.id,"nodes",this.ctx.animationManager,o,h,(m,p)=>Dr(p.xValue),c),((r=c?.changed)!=null?r:!0)&&(It(this,"labels",this.ctx.animationManager,s),It(this,"annotations",this.ctx.animationManager,a))}isLabelEnabled(){return this.properties.label.enabled}};Sp.className="BarSeries";Sp.type="bar";var tR=Sp,eR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:tR,stackable:!0,groupable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},swapDefaultAxesCondition:e=>e?.direction==="horizontal",themeTemplate:{series:{__extends__:Kn,direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:_e,color:bs,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:vs,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:mp},Jb=e=>{let t=yn.fromString(e),[n,i,r]=yn.RGBtoOKLCH(t.r,t.g,t.b);return{l:n,c:i,h:r,a:t.a}},iR=(e,t,n)=>{n=gt(0,n,1);let i,r;if(Number.isNaN(e.h)&&Number.isNaN(t.h))i=0,r=0;else if(Number.isNaN(e.h))i=t.h,r=t.c;else if(Number.isNaN(t.h))i=e.h,r=e.c;else{let a=e.h,l=t.h,c=t.h-e.h;c>180?l-=360:c<-180&&(l+=360),i=a*(1-n)+l*n,r=e.c*(1-n)+t.c*n}let o=e.l*(1-n)+t.l*n,s=e.a*(1-n)+t.a*n;return yn.fromOKLCH(o,r,i,s)},Ro=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Jb)}update(){let{domain:e,range:t}=this;e.length<2&&(j.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){let i=e[n-1],r=e[n];if(i>=r){j.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((o,s)=>o-s);break}}if(t.length<e.length)for(let n=t.length;n<e.length;n++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(Jb)}convert(e){this.refresh();let{domain:t,range:n,parsedRange:i}=this,r=t[0],o=t.at(-1),s=n[0],a=n[n.length-1];if(e<=r)return s;if(e>=o)return a;let l,c;if(t.length===2){let u=(e-r)/(o-r),m=1/(n.length-1);l=n.length<=2?0:Math.min(Math.floor(u*(n.length-1)),n.length-2),c=(u-l*m)/m}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);let u=t[l],m=t[l+1];c=(e-u)/(m-u)}let d=i[l],h=i[l+1];return iR(d,h,c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&j.warnOnce("Expected update to not invalidate scale"))}};g([oi],Ro.prototype,"domain",2);g([oi],Ro.prototype,"range",2);var Cp=class extends ai{constructor(){super(...arguments),this.maxSize=30}};g([_(L),W({redraw:3})],Cp.prototype,"maxSize",2);g([_(id,{optional:!0}),W({redraw:3})],Cp.prototype,"domain",2);var Fe=class extends Nr{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new Cp,this.label=new be,this.tooltip=new li}};g([_(F)],Fe.prototype,"xKey",2);g([_(F)],Fe.prototype,"yKey",2);g([_(F)],Fe.prototype,"sizeKey",2);g([_(F,{optional:!0})],Fe.prototype,"labelKey",2);g([_(F,{optional:!0})],Fe.prototype,"colorKey",2);g([_(F,{optional:!0})],Fe.prototype,"xName",2);g([_(F,{optional:!0})],Fe.prototype,"yName",2);g([_(F,{optional:!0})],Fe.prototype,"sizeName",2);g([_(F,{optional:!0})],Fe.prototype,"labelName",2);g([_(F,{optional:!0})],Fe.prototype,"colorName",2);g([_(id,{optional:!0})],Fe.prototype,"colorDomain",2);g([_(Ni)],Fe.prototype,"colorRange",2);g([_(F,{optional:!0})],Fe.prototype,"title",2);g([_(K)],Fe.prototype,"marker",2);g([_(K)],Fe.prototype,"label",2);g([_(K)],Fe.prototype,"tooltip",2);var nR=class extends hp{constructor(e,t,n,i){super(e,t,n,i),this.sizeKey=i.properties.sizeKey}},Dp=class E_ extends Pr{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:ir,marker:Al}}),this.NodeClickEvent=nR,this.properties=new Fe,this.sizeScale=new Sn,this.colorScale=new Ro}processData(t){return T(this,null,function*(){var n,i;if(!this.properties.isValid()||this.data==null)return;let{isContinuousX:r,isContinuousY:o}=this.isContinuous(),{xKey:s,yKey:a,sizeKey:l,labelKey:c,colorDomain:d,colorRange:h,colorKey:u,marker:m}=this.properties,{dataModel:p,processedData:f}=yield this.requestDataModel(t,this.data,{props:[Pe(this,s,r,{id:"xKey-raw"}),Pe(this,a,o,{id:"yKey-raw"}),...c?[Pe(this,c,!1,{id:"labelKey-raw"})]:[],Nt(this,s,r,{id:"xValue"}),Nt(this,a,o,{id:"yValue"}),Nt(this,l,!0,{id:"sizeValue"}),...u?[Nt(this,u,!0,{id:"colorValue"})]:[],...c?[Nt(this,c,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),b=p.resolveProcessedDataIndexById(this,"sizeValue").index,y=(n=f.domain.values[b])!=null?n:[];if(this.sizeScale.domain=m.domain?m.domain:y,u){let v=p.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(i=d??f.domain.values[v])!=null?i:[],this.colorScale.range=h,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){let{dataModel:n,processedData:i}=this;if(!i||!n)return[];let r=t==="x"?"xValue":"yValue",o=n.resolveProcessedDataDefById(this,r),s=n.getDomain(this,r,"value",i);if(o?.def.type==="value"&&o?.def.valueType==="category")return s;let a=this.axes[t];return Xe(En(s),a)}createNodeData(){return T(this,null,function*(){var t,n,i;let{axes:r,dataModel:o,processedData:s,colorScale:a,sizeScale:l}=this,{xKey:c,yKey:d,sizeKey:h,labelKey:u,xName:m,yName:p,sizeName:f,labelName:b,label:y,colorKey:v,marker:x,visible:k}=this.properties,w=r.x,S=r.y;if(!(o&&s&&k&&w&&S))return[];let C=o.resolveProcessedDataIndexById(this,"xValue").index,E=o.resolveProcessedDataIndexById(this,"yValue").index,D=h?o.resolveProcessedDataIndexById(this,"sizeValue").index:-1,A=v?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,R=u?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,N=w.scale,O=S.scale,U=((t=N.bandwidth)!=null?t:0)/2,rt=((n=O.bandwidth)!=null?n:0)/2,J=[];l.range=[x.size,x.maxSize];let dt=y.getFont();for(let{values:ot,datum:vt}of(i=s.data)!=null?i:[]){let at=ot[C],pt=ot[E],Vt=N.convert(at)+U,Ee=O.convert(pt)+rt,Ue=this.getLabelText(y,{value:u?ot[R]:pt,datum:vt,xKey:c,yKey:d,sizeKey:h,labelKey:u,xName:m,yName:p,sizeName:f,labelName:b}),Je=re.getTextSize(String(Ue),dt),$=h?l.convert(ot[D]):x.size,wt=v?a.convert(ot[A]):void 0;J.push({series:this,itemId:d,yKey:d,xKey:c,datum:vt,xValue:at,yValue:pt,sizeValue:ot[D],point:{x:Vt,y:Ee,size:$},midPoint:{x:Vt,y:Ee},fill:wt,label:I({text:Ue},Je)})}return[{itemId:d,nodeData:J,labelData:J,scales:Yn(E_.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((n,i)=>n.concat(i.labelData),[])}markerFactory(){let{shape:t}=this.properties.marker,n=Lr(t);return new n}updateMarkerSelection(t){return T(this,null,function*(){let{nodeData:n,markerSelection:i}=t;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());let r=this.properties.marker.enabled?n:[];return i.update(r,void 0,o=>Dr([o.xValue,o.yValue,o.label.text]))})}updateMarkerNodes(t){return T(this,null,function*(){let{markerSelection:n,isHighlight:i}=t,{xKey:r,yKey:o,sizeKey:s,labelKey:a,marker:l}=this.properties,c=st(i&&this.properties.highlightStyle.item,l.getStyle());this.sizeScale.range=[l.size,l.maxSize],n.each((d,h)=>{this.updateMarkerStyle(d,l,{datum:h,highlighted:i,xKey:r,yKey:o,sizeKey:s,labelKey:a},c)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return T(this,null,function*(){var n,i;let r=this.properties.label.enabled?(i=(n=this.chart)==null?void 0:n.placeLabels().get(this))!=null?i:[]:[];return t.labelSelection.update(r.map(o=>V(I({},o.datum),{point:{x:o.x,y:o.y,size:o.datum.point.size}})))})}updateLabelNodes(t){return T(this,null,function*(){let{label:n}=this.properties;t.labelSelection.each((i,r)=>{var o,s,a,l;i.text=r.label.text,i.fill=n.color,i.x=(s=(o=r.point)==null?void 0:o.x)!=null?s:0,i.y=(l=(a=r.point)==null?void 0:a.y)!=null?l:0,i.fontStyle=n.fontStyle,i.fontWeight=n.fontWeight,i.fontSize=n.fontSize,i.fontFamily=n.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){var n;let i=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!i||!r)return"";let{xKey:o,yKey:s,sizeKey:a,labelKey:l,xName:c,yName:d,sizeName:h,labelName:u,marker:m,tooltip:p}=this.properties,f=(n=this.properties.title)!=null?n:d,b=st({fill:t.fill,strokeWidth:this.getStrokeWidth(m.strokeWidth)},m.getStyle()),{fill:y="gray"}=this.getMarkerStyle(m,{datum:t,highlighted:!1,xKey:o,yKey:s,sizeKey:a,labelKey:l},b),{datum:v,xValue:x,yValue:k,sizeValue:w,label:{text:S}}=t,C=$t(i.formatDatum(x)),E=$t(r.formatDatum(k)),D=`<b>${$t(c??o)}</b>: ${C}<br><b>${$t(d??s)}</b>: ${E}`;return a&&(D+=`<br><b>${$t(h??a)}</b>: ${$t(String(w))}`),l&&(D=`<b>${$t(u??l)}</b>: ${$t(S)}<br>`+D),p.toTooltipHtml({title:f,content:D,backgroundColor:y},{datum:v,xKey:o,xName:c,yKey:s,yName:d,sizeKey:a,sizeName:h,labelKey:l,labelName:u,title:f,color:y,seriesId:this.id})}getLegendData(){var t,n;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid())return[];let{yKey:i,yName:r,title:o,marker:s,visible:a}=this.properties,{shape:l,fill:c,stroke:d,fillOpacity:h,strokeOpacity:u,strokeWidth:m}=s;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:a,label:{text:(n=o??r)!=null?n:i},marker:{shape:l,fill:c??"rgba(0, 0, 0, 0)",stroke:d??"rgba(0, 0, 0, 0)",fillOpacity:h??1,strokeOpacity:u??1,strokeWidth:m??0}}]}animateEmptyUpdateReady({markerSelections:t,labelSelections:n}){pp(this,this.ctx.animationManager,t),It(this,"labels",this.ctx.animationManager,n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Y}};Dp.className="BubbleSeries";Dp.type="bubble";var rR=Dp,oR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:rR,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:Kn,tooltip:{position:{type:"node"}},marker:{__extends__:gs,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_e,color:_t}}},paletteFactory:Il},De=class extends Nr{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new rn,this.label=new be,this.tooltip=new li}};g([_(F)],De.prototype,"xKey",2);g([_(F,{optional:!0})],De.prototype,"yKey",2);g([_(F,{optional:!0})],De.prototype,"xName",2);g([_(F,{optional:!0})],De.prototype,"yName",2);g([_(mt,{optional:!0})],De.prototype,"fill",2);g([_(At)],De.prototype,"fillOpacity",2);g([_(mt,{optional:!0})],De.prototype,"stroke",2);g([_(L)],De.prototype,"strokeWidth",2);g([_(At)],De.prototype,"strokeOpacity",2);g([_(Zn)],De.prototype,"lineDash",2);g([_(L)],De.prototype,"lineDashOffset",2);g([_(Z)],De.prototype,"areaPlot",2);g([_(gl,{optional:!0})],De.prototype,"bins",2);g([_(le(["count","sum","mean"],"a histogram aggregation"))],De.prototype,"aggregation",2);g([_(L,{optional:!0})],De.prototype,"binCount",2);g([_(K)],De.prototype,"shadow",2);g([_(K)],De.prototype,"label",2);g([_(K)],De.prototype,"tooltip",2);var tv=10,Ep=class I_ extends Pr{constructor(t){super({moduleCtx:t,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:ll,label:ir}}),this.properties=new De,this.calculatedBins=[]}deriveBins(t){if(this.properties.binCount)return this.calculateNiceBins(t,this.properties.binCount);let n=sd(t[0],t[1],tv),i=hs(t[0],t[1],tv),[r]=n,o=s=>[s,s+i];return[[r-i,r],...n.map(o)]}calculateNiceBins(t,n){let i=Math.floor(t[0]),r=t[1],o=n||1,{start:s,binSize:a}=this.calculateNiceStart(i,r,o);return this.getBins(s,r,a,o)}getBins(t,n,i,r){let o=[],s=this.calculatePrecision(i);for(let a=0;a<r;a++){let l=Math.round((t+a*i)*s)/s,c=Math.round((t+(a+1)*i)*s)/s;a===r-1&&(c=Math.max(c,n)),o[a]=[l,c]}return o}calculatePrecision(t){let n=10;if(isFinite(t)&&t>0)for(;t<1;)n*=10,t*=10;return n}calculateNiceStart(t,n,i){let r=Math.abs(n-t)/i,o=Math.floor(Math.log10(r)),s=Math.pow(10,o);return{start:Math.floor(t/s)*s,binSize:r}}processData(t){return T(this,null,function*(){var n;let{xKey:i,yKey:r,areaPlot:o,aggregation:s}=this.properties,a=[Pe(this,i,!0),Y0];if(r){let c=dm(this,"groupCount");s==="count"||(s==="sum"?c=U0(this,"groupAgg"):s==="mean"&&(c=W0(this,"groupAgg"))),o&&(c=hm(this,"groupAgg",c)),a.push(Nt(this,r,!0,{invalidValue:void 0}),c)}else{let c=dm(this,"groupAgg");o&&(c=hm(this,"groupAgg",c)),a.push(c)}let l=c=>{var d;let h=Xe(c.domain.keys[0]);if(h.length===0)return c.domain.groups=[],()=>[];let u=(d=this.properties.bins)!=null?d:this.deriveBins(h),m=u.length;return this.calculatedBins=[...u],p=>{let f=p.keys[0];for(let b=0;b<m;b++){let y=u[b];if(f>=y[0]&&f<y[1]||b===m-1&&f<=y[1])return y}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&a.push(Ao(this.processedData,!1)),yield this.requestDataModel(t,(n=this.data)!=null?n:[],{props:a,dataVisible:this.visible,groupByFn:l}),this.animationState.transition("updateData")})}getSeriesDomain(t){var n,i,r,o;let{processedData:s,dataModel:a}=this;if(!s||!a||!this.calculatedBins.length)return[];let l=a.getDomain(this,"groupAgg","aggregate",s),c=(n=this.calculatedBins)==null?void 0:n[0][0],d=(o=this.calculatedBins)==null?void 0:o[((r=(i=this.calculatedBins)==null?void 0:i.length)!=null?r:0)-1][1];return Xe(t==="x"?[c,d]:l)}createNodeData(){return T(this,null,function*(){var t;let{id:n,axes:i,processedData:r,ctx:{callbackCache:o}}=this,s=i.x,a=i.y;if(!this.visible||!s||!a||!r||r.type!=="grouped")return[];let{scale:l}=s,{scale:c}=a,{xKey:d,yKey:h,xName:u,yName:m,fill:p,stroke:f,strokeWidth:b}=this.properties,{formatter:y=E=>String(E.value),fontStyle:v,fontWeight:x,fontSize:k,fontFamily:w,color:S}=this.properties.label,C=[];return r.data.forEach(E=>{var D;let{aggValues:[[A,R]]=[[0,0]],datum:N,datum:{length:O},keys:U,keys:[rt,J]}=E,dt=l.convert(rt),ot=l.convert(J),vt=A+R,at=c.convert(0),pt=c.convert(vt),Vt=Math.abs(ot-dt),Ee=Math.abs(pt-at),Ue=Math.min(dt,ot),Je=Math.min(at,pt),$=vt!==0?{text:(D=o.call(y,{value:vt,datum:N,seriesId:n,xKey:d,yKey:h,xName:u,yName:m}))!=null?D:String(vt),fontStyle:v,fontWeight:x,fontSize:k,fontFamily:w,fill:S,x:Ue+Vt/2,y:Je+Ee/2}:void 0,wt={x:Ue+Vt/2,y:Je+Ee/2};C.push({series:this,datum:N,aggregatedValue:vt,frequency:O,domain:U,yKey:h,xKey:d,x:Ue,y:Je,xValue:dt,yValue:pt,width:Vt,height:Ee,midPoint:wt,fill:p,stroke:f,opacity:1,strokeWidth:b,label:$})}),[{itemId:(t=this.properties.yKey)!=null?t:this.id,nodeData:C,labelData:C,scales:Yn(I_.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new Ve}updateDatumSelection(t){return T(this,null,function*(){let{nodeData:n,datumSelection:i}=t;return i.update(n,r=>{r.tag=0,r.crisp=!0},r=>r.domain.join("_"))})}updateDatumNodes(t){return T(this,null,function*(){let{isHighlight:n}=t,{fillOpacity:i,strokeOpacity:r,lineDash:o,lineDashOffset:s,shadow:a,highlightStyle:{item:{fill:l,fillOpacity:c=i,stroke:d,strokeWidth:h}}}=this.properties;t.datumSelection.each((u,m,p)=>{var f,b;let y=n&&h!==void 0?h:m.strokeWidth,v=n?c:i;u.fill=(f=n?l:void 0)!=null?f:m.fill,u.stroke=(b=n?d:void 0)!=null?b:m.stroke,u.fillOpacity=v,u.strokeOpacity=r,u.strokeWidth=y,u.lineDash=o,u.lineDashOffset=s,u.fillShadow=a,u.zIndex=n?Ds.highlightedZIndex:p,u.visible=m.height>0})})}updateLabelSelection(t){return T(this,null,function*(){let{labelData:n,labelSelection:i}=t;return i.update(n,r=>{r.tag=1,r.pointerEvents=1,r.textAlign="center",r.textBaseline="middle"})})}updateLabelNodes(t){return T(this,null,function*(){let n=this.isLabelEnabled();t.labelSelection.each((i,r)=>{let o=r.label;o&&n?(i.text=o.text,i.x=o.x,i.y=o.y,i.fontStyle=o.fontStyle,i.fontWeight=o.fontWeight,i.fontSize=o.fontSize,i.fontFamily=o.fontFamily,i.fill=o.fill,i.visible=!0):i.visible=!1})})}getTooltipHtml(t){let n=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!n||!i)return"";let{xKey:r,yKey:o,xName:s,yName:a,fill:l,aggregation:c,tooltip:d}=this.properties,{aggregatedValue:h,frequency:u,domain:[m,p]}=t,f=`${$t(s??r)}: ${n.formatDatum(m)} - ${n.formatDatum(p)}`,b=o?`<b>${$t(a??o)} (${c})</b>: ${i.formatDatum(h)}<br>`:"";b+=`<b>Frequency</b>: ${u}`;let y={title:f,backgroundColor:l,content:b};return d.toTooltipHtml(y,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:r,xName:s,yKey:o,yName:a,color:l,title:f,seriesId:this.id})}getLegendData(t){var n,i;if(!((n=this.data)!=null&&n.length)||t!=="category")return[];let{xKey:r,yName:o,fill:s,fillOpacity:a,stroke:l,strokeWidth:c,strokeOpacity:d,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:r,seriesId:this.id,enabled:h,label:{text:(i=o??r)!=null?i:"Frequency"},marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:a,strokeOpacity:d,strokeWidth:c}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:n}){let i=al(sl(!0,this.axes,"normal"));Ht(this.id,"datums",this.ctx.animationManager,t,i),It(this,"labels",this.ctx.animationManager,n)}animateWaitingUpdateReady(t){var n,i;let r=(i=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:i.diff,o=al(sl(!0,this.axes,"normal"));Ht(this.id,"datums",this.ctx.animationManager,t.datumSelections,o,(s,a)=>Dr(a.domain),r),It(this,"labels",this.ctx.animationManager,t.labelSelections)}isLabelEnabled(){return this.properties.label.enabled}};Ep.className="HistogramSeries";Ep.type="histogram";var sR=Ep,aR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:sR,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:Kn,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_e,color:bs,formatter:void 0},shadow:{enabled:!1,color:vs,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:e})=>{let{fills:[t],strokes:[n]}=e(1);return{fill:t,stroke:n}}},Ze=class extends Nr{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new ai,this.label=new be,this.tooltip=new li,this.connectMissingData=!1}};g([_(F)],Ze.prototype,"xKey",2);g([_(F)],Ze.prototype,"yKey",2);g([_(F,{optional:!0})],Ze.prototype,"xName",2);g([_(F,{optional:!0})],Ze.prototype,"yName",2);g([_(F,{optional:!0})],Ze.prototype,"title",2);g([_(mt)],Ze.prototype,"stroke",2);g([_(L)],Ze.prototype,"strokeWidth",2);g([_(At)],Ze.prototype,"strokeOpacity",2);g([_(Zn)],Ze.prototype,"lineDash",2);g([_(L)],Ze.prototype,"lineDashOffset",2);g([_(K)],Ze.prototype,"marker",2);g([_(K)],Ze.prototype,"label",2);g([_(K)],Ze.prototype,"tooltip",2);g([_(Z)],Ze.prototype,"connectMissingData",2);var Ip=class A_ extends Pr{constructor(t){super({moduleCtx:t,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:_p({getOpacity:()=>this.getOpacity()}),label:ir,marker:(n,i)=>I(I({},Al(n)),nl(n,i))}}),this.properties=new Ze}processData(t){return T(this,null,function*(){if(!this.properties.isValid()||this.data==null)return;let{xKey:n,yKey:i}=this.properties,r=!this.ctx.animationManager.isSkipped(),{isContinuousX:o,isContinuousY:s}=this.isContinuous(),a=[];o||(a.push(Pe(this,n,o,{id:"xKey"})),r&&this.processedData&&a.push(Ao(this.processedData))),r&&a.push(Cs(this,o?["xValue"]:[])),a.push(Nt(this,n,o,{id:"xValue"}),Nt(this,i,s,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(t,this.data,{props:a}),this.animationState.transition("updateData")})}getSeriesDomain(t){let{axes:n,dataModel:i,processedData:r}=this;if(!r||!i)return[];let o=n.x,s=n.y,a=i.resolveProcessedDataDefById(this,"xValue");if(t==="x"){let l=i.getDomain(this,"xValue","value",r);return a?.def.type==="value"&&a.def.valueType==="category"?l:Xe(En(l),o)}else{let l=i.getDomain(this,"yValue","value",r);return Xe(l,s)}}createNodeData(){return T(this,null,function*(){var t,n,i;let{processedData:r,dataModel:o,axes:s}=this,a=s.x,l=s.y;if(!r||!o||!a||!l)return[];let{xKey:c,yKey:d,xName:h,yName:u,marker:m,label:p,connectMissingData:f}=this.properties,b=a.scale,y=l.scale,v=((t=b.bandwidth)!=null?t:0)/2,x=((n=y.bandwidth)!=null?n:0)/2,k=[],w=m.enabled?m.size:0,S=o.resolveProcessedDataIndexById(this,"xValue").index,C=o.resolveProcessedDataIndexById(this,"yValue").index,E=!0,D;for(let A=0;A<r.data.length;A++){let{datum:R,values:N}=D??r.data[A],O=N[S],U=N[C];if(U===void 0)E=!f;else{let rt=b.convert(O)+v;if(isNaN(rt)){E=!f,D=void 0;continue}D=((i=r.data[A+1])==null?void 0:i.values[C])===void 0?void 0:r.data[A+1];let J=y.convert(U)+x,dt=this.getLabelText(p,{value:U,datum:R,xKey:c,yKey:d,xName:h,yName:u},ot=>xt(ot)?ot.toFixed(2):String(ot));k.push({series:this,datum:R,yKey:d,xKey:c,point:{x:rt,y:J,moveTo:E,size:w},midPoint:{x:rt,y:J},yValue:U,xValue:O,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:dt?{text:dt,fontStyle:p.fontStyle,fontWeight:p.fontWeight,fontSize:p.fontSize,fontFamily:p.fontFamily,textAlign:"center",textBaseline:"bottom",fill:p.color}:void 0}),E=!1}}return[{itemId:d,nodeData:k,labelData:k,scales:Yn(A_.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:t}=this.properties.marker,n=Lr(t);return new n}updatePathNodes(t){return T(this,null,function*(){let{paths:[n],opacity:i,visible:r,animationEnabled:o}=t;n.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(n.visible=r),Yc(this,n)})}updateMarkerSelection(t){return T(this,null,function*(){let{nodeData:n}=t,{markerSelection:i}=t,{shape:r,enabled:o}=this.properties.marker;return n=r&&o?n:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(n,void 0,s=>Dr(s.xValue))})}updateMarkerNodes(t){return T(this,null,function*(){let{markerSelection:n,isHighlight:i}=t,{xKey:r,yKey:o,stroke:s,strokeWidth:a,strokeOpacity:l,marker:c,highlightStyle:d}=this.properties,h=st(i&&d.item,c.getStyle(),{stroke:s,strokeWidth:a,strokeOpacity:l}),u=this.ctx.animationManager.isSkipped();n.each((m,p)=>{this.updateMarkerStyle(m,c,{datum:p,highlighted:i,xKey:r,yKey:o},h,{applyTranslation:u})}),i||c.markClean()})}updateLabelSelection(t){return T(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return T(this,null,function*(){let{enabled:n,fontStyle:i,fontWeight:r,fontSize:o,fontFamily:s,color:a}=this.properties.label;t.labelSelection.each((l,c)=>{let{point:d,label:h}=c;c&&h&&n?(l.fontStyle=i,l.fontWeight=r,l.fontSize=o,l.fontFamily=s,l.textAlign=h.textAlign,l.textBaseline=h.textBaseline,l.text=h.text,l.x=d.x,l.y=d.y-10,l.fill=a,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){var n;let i=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!i||!r)return"";let{xKey:o,yKey:s,xName:a,yName:l,strokeWidth:c,marker:d,tooltip:h}=this.properties,{datum:u,xValue:m,yValue:p}=t,f=i.formatDatum(m),b=r.formatDatum(p),y=$t((n=this.properties.title)!=null?n:l),v=$t(f+": "+b),x=st({fill:d.stroke},d.getStyle(),{strokeWidth:c}),{fill:k}=this.getMarkerStyle(d,{datum:t,xKey:o,yKey:s,highlighted:!1},x);return h.toTooltipHtml({title:y,content:v,backgroundColor:k},I({datum:u,xKey:o,xName:a,yKey:s,yName:l,title:y,color:k,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var n,i,r,o,s,a,l,c,d;if(!((n=this.data)!=null&&n.length&&this.properties.isValid()&&t==="category"))return[];let{yKey:h,yName:u,stroke:m,strokeOpacity:p,strokeWidth:f,lineDash:b,title:y,marker:v,visible:x}=this.properties,k="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:h,seriesId:this.id,enabled:x,label:{text:(i=y??u)!=null?i:h},marker:{shape:v.shape,fill:(r=v.fill)!=null?r:k,stroke:(s=(o=v.stroke)!=null?o:m)!=null?s:k,fillOpacity:(a=v.fillOpacity)!=null?a:1,strokeOpacity:(c=(l=v.strokeOpacity)!=null?l:p)!=null?c:1,strokeWidth:(d=v.strokeWidth)!=null?d:0,enabled:v.enabled},line:{stroke:m??k,strokeOpacity:p,strokeWidth:f,lineDash:b}}]}updatePaths(t){return T(this,null,function*(){this.updateLinePaths([t.paths],[t.contextData])})}updateLinePaths(t,n){n.forEach(({nodeData:i},r)=>{let[o]=t[r],{path:s}=o;s.clear({trackChanges:!0});for(let a of i)a.point.moveTo?s.moveTo(a.point.x,a.point.y):s.lineTo(a.point.x,a.point.y);o.checkPathDirty()})}animateEmptyUpdateReady(t){let{markerSelections:n,labelSelections:i,annotationSelections:r,contextData:o,paths:s}=t,{animationManager:a}=this.ctx;this.updateLinePaths(s,o),yp(this,a,s.flat()),xe(n,nl),fp(this,a,n),It(this,"labels",a,i),It(this,"annotations",a,r)}animateReadyResize(t){let{contextData:n,paths:i}=t;this.updateLinePaths(i,n),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var n,i;let{animationManager:r}=this.ctx,{markerSelections:o,labelSelections:s,annotationSelections:a,contextData:l,paths:c,previousContextData:d}=t,[h]=c;super.resetAllAnimation(t);let u=()=>{this.updateLinePaths(c,l)},m=()=>{r.skipCurrentBatch(),u()};if(l.length===0||d?.length===0){u(),il(this,r,o,"added"),Ha(this,"path_properties",r,h??[]),It(this,"labels",r,s),It(this,"annotations",r,a);return}let[p]=l,[f]=d??[],b=f_(p,f,(i=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:i.diff);if(b===void 0){m();return}il(this,r,o),Ht(this.id,"path_properties",r,h,b.pathProperties),d_(this.id,"path_update",r,h,b.path),b.hasMotion&&(It(this,"labels",r,s),It(this,"annotations",r,a))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new Y}};Ip.className="LineSeries";Ip.type="line";var lR=Ip,cR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:lR,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:Kn,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:gs,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_e,color:_t,formatter:void 0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{let{marker:t}=Il(e);return{stroke:t.fill,marker:t}}},Qe=class extends Nr{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new ai,this.label=new be,this.tooltip=new li}};g([_(F)],Qe.prototype,"xKey",2);g([_(F)],Qe.prototype,"yKey",2);g([_(F,{optional:!0})],Qe.prototype,"labelKey",2);g([_(F,{optional:!0})],Qe.prototype,"colorKey",2);g([_(F,{optional:!0})],Qe.prototype,"xName",2);g([_(F,{optional:!0})],Qe.prototype,"yName",2);g([_(F,{optional:!0})],Qe.prototype,"labelName",2);g([_(F,{optional:!0})],Qe.prototype,"colorName",2);g([_(id,{optional:!0})],Qe.prototype,"colorDomain",2);g([_(Ni)],Qe.prototype,"colorRange",2);g([_(F,{optional:!0})],Qe.prototype,"title",2);g([_(K)],Qe.prototype,"marker",2);g([_(K)],Qe.prototype,"label",2);g([_(K)],Qe.prototype,"tooltip",2);var Ap=class R_ extends Pr{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Al,label:ir}}),this.properties=new Qe,this.colorScale=new Ro}processData(t){return T(this,null,function*(){var n;if(!this.properties.isValid()||this.data==null)return;let{isContinuousX:i,isContinuousY:r}=this.isContinuous(),{xKey:o,yKey:s,labelKey:a,colorKey:l,colorDomain:c,colorRange:d}=this.properties,{dataModel:h,processedData:u}=yield this.requestDataModel(t,this.data,{props:[Pe(this,o,i,{id:"xKey-raw"}),Pe(this,s,r,{id:"yKey-raw"}),...a?[Pe(this,a,!1,{id:"labelKey-raw"})]:[],Nt(this,o,i,{id:"xValue"}),Nt(this,s,r,{id:"yValue"}),...l?[Nt(this,l,!0,{id:"colorValue"})]:[],...a?[Nt(this,a,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(l){let m=h.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(n=c??u.domain.values[m])!=null?n:[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){let{dataModel:n,processedData:i}=this;if(!i||!n)return[];let r=t==="x"?"xValue":"yValue",o=n.resolveProcessedDataDefById(this,r),s=n.getDomain(this,r,"value",i);if(o?.def.type==="value"&&o?.def.valueType==="category")return s;let a=this.axes[t];return Xe(En(s),a)}createNodeData(){return T(this,null,function*(){var t,n,i;let{axes:r,dataModel:o,processedData:s,colorScale:a}=this,{xKey:l,yKey:c,labelKey:d,colorKey:h,xName:u,yName:m,labelName:p,marker:f,label:b,visible:y}=this.properties,v=r.x,x=r.y;if(!(o&&s&&y&&v&&x))return[];let k=o.resolveProcessedDataIndexById(this,"xValue").index,w=o.resolveProcessedDataIndexById(this,"yValue").index,S=h?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,C=d?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,E=v.scale,D=x.scale,A=((t=E.bandwidth)!=null?t:0)/2,R=((n=D.bandwidth)!=null?n:0)/2,N=[],O=b.getFont();for(let{values:U,datum:rt}of(i=s.data)!=null?i:[]){let J=U[k],dt=U[w],ot=E.convert(J)+A,vt=D.convert(dt)+R,at=this.getLabelText(b,{value:d?U[C]:dt,datum:rt,xKey:l,yKey:c,labelKey:d,xName:u,yName:m,labelName:p}),pt=re.getTextSize(at,O),Vt=h?a.convert(U[S]):void 0;N.push({series:this,itemId:c,yKey:c,xKey:l,datum:rt,xValue:J,yValue:dt,capDefaults:{lengthRatioMultiplier:f.getDiameter(),lengthMax:1/0},point:{x:ot,y:vt,size:f.size},midPoint:{x:ot,y:vt},fill:Vt,label:I({text:at},pt)})}return[{itemId:c,nodeData:N,labelData:N,scales:Yn(R_.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((n,i)=>n.concat(i.labelData),[])}markerFactory(){let{shape:t}=this.properties.marker,n=Lr(t);return new n}updateMarkerSelection(t){return T(this,null,function*(){let{nodeData:n,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?n:[])})}updateMarkerNodes(t){return T(this,null,function*(){let{markerSelection:n,isHighlight:i}=t,{xKey:r,yKey:o,labelKey:s,marker:a,highlightStyle:l}=this.properties,c=st(i&&l.item,a.getStyle());n.each((d,h)=>{this.updateMarkerStyle(d,a,{datum:h,highlighted:i,xKey:r,yKey:o,labelKey:s},c)}),i||a.markClean()})}updateLabelSelection(t){return T(this,null,function*(){var n,i;let r=this.isLabelEnabled()?(i=(n=this.chart)==null?void 0:n.placeLabels().get(this))!=null?i:[]:[];return t.labelSelection.update(r.map(({datum:o,x:s,y:a})=>V(I({},o),{point:{x:s,y:a,size:o.point.size}})),o=>{o.pointerEvents=1})})}updateLabelNodes(t){return T(this,null,function*(){let{label:n}=this.properties;t.labelSelection.each((i,r)=>{var o,s,a,l;i.text=r.label.text,i.fill=n.color,i.x=(s=(o=r.point)==null?void 0:o.x)!=null?s:0,i.y=(l=(a=r.point)==null?void 0:a.y)!=null?l:0,i.fontStyle=n.fontStyle,i.fontWeight=n.fontWeight,i.fontSize=n.fontSize,i.fontFamily=n.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){let n=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!n||!i)return"";let{xKey:r,yKey:o,labelKey:s,xName:a,yName:l,labelName:c,title:d=l,marker:h,tooltip:u}=this.properties,{datum:m,xValue:p,yValue:f,label:b}=t,y=st({fill:t.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:v="gray"}=this.getMarkerStyle(h,{datum:t,highlighted:!1,xKey:r,yKey:o,labelKey:s},y),x=$t(n.formatDatum(p)),k=$t(i.formatDatum(f)),w=`<b>${$t(a??r)}</b>: ${x}<br><b>${$t(l??o)}</b>: ${k}`;return s&&(w=`<b>${$t(c??s)}</b>: ${$t(b.text)}<br>`+w),u.toTooltipHtml({title:d,content:w,backgroundColor:v},I({datum:m,xKey:r,xName:a,yKey:o,yName:l,labelKey:s,labelName:c,title:d,color:v,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var n,i,r,o,s,a;let{yKey:l,yName:c,title:d,marker:h,visible:u}=this.properties,{fill:m,stroke:p,fillOpacity:f,strokeOpacity:b,strokeWidth:y}=h;return!((n=this.data)!=null&&n.length)||!this.properties.isValid()||t!=="category"?[]:[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:u,label:{text:(i=d??c)!=null?i:l},marker:{shape:h.shape,fill:(o=(r=h.fill)!=null?r:m)!=null?o:"rgba(0, 0, 0, 0)",stroke:(a=(s=h.stroke)!=null?s:p)!=null?a:"rgba(0, 0, 0, 0)",fillOpacity:f??1,strokeOpacity:b??1,strokeWidth:y??0}}]}animateEmptyUpdateReady(t){let{markerSelections:n,labelSelections:i,annotationSelections:r}=t;pp(this,this.ctx.animationManager,n),It(this,"labels",this.ctx.animationManager,i),It(this,"annotations",this.ctx.animationManager,r)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new Y}};Ap.className="ScatterSeries";Ap.type="scatter";var dR=Ap,hR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:dR,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:Kn,tooltip:{position:{type:"node"}},marker:{__extends__:gs,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_e,color:_t}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:Il};function Rp(e,t,n){let i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:r,outerRadius:o}=n;if(n.startAngle===n.endAngle||i<Math.min(r,o)||i>Math.max(r,o))return!1;let s=qa(n.startAngle),a=qa(n.endAngle),l=Math.atan2(t,e);return s<a?l<=a&&l>=s:l<=a&&l>=-Math.PI||l>=s&&l<=Math.PI}function ev(e,t){let{startAngle:n,endAngle:i,innerRadius:r,outerRadius:o}=t,s={x:o*Math.cos(n),y:o*Math.sin(n)},a={x:o*Math.cos(i),y:o*Math.sin(i)},l=r===0?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)},c=r===0?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)};return Wa(e.start.x,e.start.y,e.end.x,e.end.y,s.x,s.y,l.x,l.y)!=null||Wa(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)!=null||T0(0,0,o,n,i,!0,e.start.x,e.start.y,e.end.x,e.end.y).length>0}function T_(e,t){let n={x:e.x,y:e.y},i={x:e.x+e.width,y:e.y},r={x:e.x,y:e.y+e.height},o={x:e.x+e.width,y:e.y+e.height};return ev({start:n,end:i},t)||ev({start:r,end:o},t)}var Bi=class extends _i{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.angleOffset=0,this.inset=0}computeBBox(){let e=this.outerRadius;return new Q(this.centerX-e,this.centerY-e,e*2,e*2)}updatePath(){let e=this.path,{angleOffset:t,inset:n}=this,i=this.startAngle+t,r=this.endAngle+t,o=i<=r?r-i:Math.PI*2-(i-r),s=Math.max(Math.min(this.innerRadius,this.outerRadius)+n,0),a=Math.max(Math.max(this.innerRadius,this.outerRadius)-n,0),l=o>=2*Math.PI,c=this.centerX,d=this.centerY;if(e.clear(),l)e.arc(c,d,a,i,r),s>n&&(e.moveTo(c+s*Math.cos(r),d+s*Math.sin(r)),e.arc(c,d,s,r,i,!0));else{let h=s>0?n/s:0,u=a>0?n/a:0;if(o<2*u)return;let p=s<=n||o<2*h;if(p){let f=o<Math.PI*.5?n*(1+Math.cos(o))/Math.sin(o):NaN,b;f>0&&f<a?b=Math.max(Math.hypot(n,f),s):b=s;let y=i+o*.5;e.moveTo(c+b*Math.cos(y),d+b*Math.sin(y))}else e.moveTo(c+s*Math.cos(i+h),d+s*Math.sin(i+h));e.arc(c,d,a,i+u,r-u),p||(s>0?e.arc(c,d,s,r-h,i+h,!0):e.lineTo(c,d))}e.closePath(),this.dirtyPath=!1}isPointInPath(e,t){let{angleOffset:n}=this,i=this.startAngle+n,r=this.endAngle+n,o=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=this.transformPoint(e,t);return Rp(a.x,a.y,{startAngle:i,endAngle:r,innerRadius:o,outerRadius:s})}};Bi.className="Sector";g([it()],Bi.prototype,"centerX",2);g([it()],Bi.prototype,"centerY",2);g([it()],Bi.prototype,"innerRadius",2);g([it()],Bi.prototype,"outerRadius",2);g([it()],Bi.prototype,"startAngle",2);g([it()],Bi.prototype,"endAngle",2);g([it()],Bi.prototype,"angleOffset",2);g([it()],Bi.prototype,"inset",2);var M_=class extends Zt{constructor(){super(...arguments),this.showInLegend=!1}};g([_(Z)],M_.prototype,"showInLegend",2);var Tp=class extends be{constructor(){super(...arguments),this.margin=2}set(e,t){return super.set(e)}};g([_(F)],Tp.prototype,"text",2);g([_(zt)],Tp.prototype,"margin",2);var Mp=class extends Ft{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};g([_(mt)],Mp.prototype,"fill",2);g([_(At)],Mp.prototype,"fillOpacity",2);var Es=class extends be{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};g([_(L)],Es.prototype,"offset",2);g([_(Ir)],Es.prototype,"minAngle",2);g([_(L)],Es.prototype,"minSpacing",2);g([_(L)],Es.prototype,"maxCollisionOffset",2);g([_(Z)],Es.prototype,"avoidCollisions",2);var Lp=class extends be{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};g([_(zt)],Lp.prototype,"positionOffset",2);g([_(At)],Lp.prototype,"positionRatio",2);var pd=class extends Ft{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};g([_(Ni,{optional:!0})],pd.prototype,"colors",2);g([_(L)],pd.prototype,"length",2);g([_(L)],pd.prototype,"strokeWidth",2);var lt=class extends en{constructor(){super(...arguments),this.fills=Object.values(bn),this.strokes=Object.values(vo),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new ul(Tp),this.title=new M_,this.innerCircle=new Mp,this.shadow=new rn,this.calloutLabel=new Es,this.sectorLabel=new Lp,this.calloutLine=new pd,this.tooltip=new li,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}isValid(){let e=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(j.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};g([_(F)],lt.prototype,"angleKey",2);g([_(F,{optional:!0})],lt.prototype,"angleName",2);g([_(F,{optional:!0})],lt.prototype,"radiusKey",2);g([_(F,{optional:!0})],lt.prototype,"radiusName",2);g([_(L,{optional:!0})],lt.prototype,"radiusMin",2);g([_(L,{optional:!0})],lt.prototype,"radiusMax",2);g([_(F,{optional:!0})],lt.prototype,"calloutLabelKey",2);g([_(F,{optional:!0})],lt.prototype,"calloutLabelName",2);g([_(F,{optional:!0})],lt.prototype,"sectorLabelKey",2);g([_(F,{optional:!0})],lt.prototype,"sectorLabelName",2);g([_(F,{optional:!0})],lt.prototype,"legendItemKey",2);g([_(Ni)],lt.prototype,"fills",2);g([_(Ni)],lt.prototype,"strokes",2);g([_(At)],lt.prototype,"fillOpacity",2);g([_(At)],lt.prototype,"strokeOpacity",2);g([_(Zn)],lt.prototype,"lineDash",2);g([_(L)],lt.prototype,"lineDashOffset",2);g([_(Oi,{optional:!0})],lt.prototype,"formatter",2);g([_(Ir)],lt.prototype,"rotation",2);g([_(zt)],lt.prototype,"outerRadiusOffset",2);g([_(At)],lt.prototype,"outerRadiusRatio",2);g([_(zt,{optional:!0})],lt.prototype,"innerRadiusOffset",2);g([_(At,{optional:!0})],lt.prototype,"innerRadiusRatio",2);g([_(L)],lt.prototype,"strokeWidth",2);g([_(L,{optional:!0})],lt.prototype,"sectorSpacing",2);g([_(Nm)],lt.prototype,"innerLabels",2);g([_(K)],lt.prototype,"title",2);g([_(K)],lt.prototype,"innerCircle",2);g([_(K)],lt.prototype,"shadow",2);g([_(K)],lt.prototype,"calloutLabel",2);g([_(K)],lt.prototype,"sectorLabel",2);g([_(K)],lt.prototype,"calloutLine",2);g([_(K)],lt.prototype,"tooltip",2);g([_(F,{optional:!0})],lt.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);function ls(e,t,n,i){let r=[n.convert(0),n.convert(1)],o=[i.convert(0),i.convert(1)],s=Math.PI/-2+ze(t),a=({radius:m})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*m}),l=({radius:m})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*m});return{nodes:{toFn:(m,p,f,{prevLive:b})=>{var y,v;let{startAngle:x,endAngle:k,innerRadius:w,outerRadius:S}=p,{stroke:C,fill:E}=p.sectorFormat;if(f==="removed"&&b?(x=(y=b.datum)==null?void 0:y.endAngle,k=(v=b.datum)==null?void 0:v.endAngle):f==="removed"&&!b&&(x=s,k=s),f==="removed"){let D=a(p);w=D.innerRadius,S=D.outerRadius}return{startAngle:x,endAngle:k,outerRadius:S,innerRadius:w,stroke:C,fill:E}},fromFn:(m,p,f,{prevFromProps:b})=>{var y,v,x,k,w,S;let{startAngle:C,endAngle:E,innerRadius:D,outerRadius:A}=m,{fill:R,stroke:N}=p.sectorFormat;if(f==="unknown"||f==="added"&&!b?(C=s,E=s,D=p.innerRadius,A=p.outerRadius):f==="added"&&b&&(C=(y=b.endAngle)!=null?y:s,E=(v=b.endAngle)!=null?v:s,D=(x=b.innerRadius)!=null?x:p.innerRadius,A=(k=b.outerRadius)!=null?k:p.outerRadius),f==="added"&&!e){let O=l(p);D=O.innerRadius,A=O.outerRadius}return f==="updated"&&(R=(w=m.fill)!=null?w:R,N=(S=m.stroke)!=null?S:N),{startAngle:C,endAngle:E,innerRadius:D,outerRadius:A,fill:R,stroke:N,phase:"initial"}}},innerCircle:{fromFn:(m,p)=>{var f,b,y;return{size:(y=(b=(f=m.previousDatum)==null?void 0:f.radius)!=null?b:m.size)!=null?y:0,phase:"initial"}},toFn:(m,p)=>{var f;return{size:(f=p.radius)!=null?f:0}}}}}function L_(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}var fd=class extends t_{constructor(e){var t=e,{useLabelLayer:n=!1,pickModes:i=[0],canHaveAxes:r=!1,animationResetFns:o}=t,s=we(t,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(V(I({},s),{useLabelLayer:n,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:r})),this.itemGroup=this.contentGroup.appendChild(new Y),this.itemSelection=Yt.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Yt.select(this.labelGroup,bt,!1),this.highlightSelection=Yt.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new xl("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){var e;let{item:t,label:n}=(e=this.animationResetFns)!=null?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&xe([this.itemSelection,this.highlightSelection],t),n&&xe([this.labelSelection],n),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){var t;let{item:n}=(t=this.animationResetFns)!=null?t:{};n&&xe([this.highlightSelection],n)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}},uR=class extends Sl{constructor(e,t,n,i){super(e,t,n,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},gd=class extends fd{constructor(e){super({moduleCtx:e,useLabelLayer:!0,animationResetFns:{item:L_,label:ir}}),this.properties=new lt,this.previousRadiusScale=new Sn,this.radiusScale=new Sn,this.backgroundGroup=this.rootGroup.appendChild(new Y({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Y({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new kn),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new kn),this.innerCircleGroup=this.backgroundGroup.appendChild(new Y({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=uR,this.angleScale=new Sn,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(r=>r+Math.PI/2);let t=new Y({name:"pieCalloutLabels"}),n=new Y({name:"pieSectorLabels"}),i=new Y({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(n),this.labelGroup.append(i),this.calloutLabelSelection=Yt.select(t,Y),this.sectorLabelSelection=Yt.select(n,bt),this.innerLabelsSelection=Yt.select(i,bt),this.innerCircleSelection=Yt.select(this.innerCircleGroup,kn);for(let r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1}addChartEventListeners(){var e;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(e=>e):super.visible}processSeriesItemEnabled(){var e;let{data:t,visible:n}=this;this.seriesItemEnabled=(e=t?.map(()=>n))!=null?e:[]}nodeFactory(){return new Bi}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}processData(e){return T(this,null,function*(){var t,n,i,r,o;if(this.data==null||!this.properties.isValid())return;let{data:s}=this,{seriesItemEnabled:a}=this,{angleKey:l,radiusKey:c,calloutLabelKey:d,sectorLabelKey:h,legendItemKey:u}=this.properties,m=!this.ctx.animationManager.isSkipped(),p=[],f=[];u?p.push(Pe(this,u,!1,{id:"legendItemKey"})):d?p.push(Pe(this,d,!1,{id:"calloutLabelKey"})):h&&p.push(Pe(this,h,!1,{id:"sectorLabelKey"})),c&&f.push(ap(this,c,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),Nt(this,c,!0,{id:"radiusRaw"}),el(this,{id:"radiusValue"},[0,1],1,(n=this.properties.radiusMin)!=null?n:0,this.properties.radiusMax)),d&&f.push(Nt(this,d,!1,{id:"calloutLabelValue"})),h&&f.push(Nt(this,h,!1,{id:"sectorLabelValue"})),u&&f.push(Nt(this,u,!1,{id:"legendItemValue"})),m&&this.processedData&&p.length>0&&f.push(Ao(this.processedData)),f.push(Cs(this)),s=s.map((b,y)=>a[y]?b:V(I({},b),{[l]:0})),yield this.requestDataModel(e,s,{props:[...p,lp(this,l,!0,{id:"angleValue",onlyPositive:!0}),Nt(this,l,!0,{id:"angleRaw"}),el(this,{id:"angleValue"},[0,1],0,0),...f]});for(let b of(o=(r=(i=this.processedData)==null?void 0:i.defs)==null?void 0:r.values)!=null?o:[]){let{id:y,missing:v,property:x}=b,k=Zm(this,v);y!=="angleRaw"&&k>0&&j.warnOnce(`no value was found for the key '${String(x)}' on ${k} data element${k>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return T(this,null,function*(){if(!this.nodeDataRefresh)return;let[{nodeData:e=[]}={}]=yield this.createNodeData();this.nodeData=e,this.nodeDataRefresh=!1})}getProcessedDataIndexes(e){let t=e.resolveProcessedDataIndexById(this,"angleValue").index,n=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue").index:-1,i=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,r=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,o=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:n,calloutLabelIdx:i,sectorLabelIdx:r,legendItemIdx:o}}createNodeData(){return T(this,null,function*(){let{id:e,processedData:t,dataModel:n,angleScale:i}=this,{rotation:r,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,[{itemId:e,nodeData:[],labelData:[]}];if(!t||!n||t.type!=="ungrouped")return[];let{angleIdx:s,radiusIdx:a,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}=this.getProcessedDataIndexes(n),h=0,u=0,m=t.data.map((p,f)=>{var b;let{datum:y,values:v}=p,x=v[s],k=i.convert(h)+ze(r);h=x,u+=x;let w=i.convert(h)+ze(r),S=Math.abs(w-k),C=k+S/2,E=v[s+1],D=a>=0&&(b=v[a])!=null?b:1,A=a>=0?v[a+1]:void 0,R=d>=0?v[d]:void 0,N=this.getLabels(y,C,S,!0,v[l],v[c],R),O=this.getSectorFormat(y,f,!1);return I({itemId:f,series:this,datum:y,index:f,angleValue:E,midAngle:C,midCos:Math.cos(C),midSin:Math.sin(C),startAngle:k,endAngle:w,sectorFormat:O,radiusValue:A,radius:D,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(D),0),legendItemValue:R},N)});return this.zerosumOuterRing.visible=u===0,this.zerosumInnerRing.visible=u===0&&o!=null&&o!==1&&o>0,[{itemId:e,nodeData:m,labelData:m}]})}getLabels(e,t,n,i,r,o,s){let{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,d=!i||a.enabled?this.properties.calloutLabelKey:void 0,h=!i||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!h&&!c)return{};let u={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},m={};return d&&n>ze(a.minAngle)&&(m.calloutLabel=V(I({},this.getTextAlignment(t)),{text:this.getLabelText(a,V(I({},u),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(m.sectorLabel={text:this.getLabelText(l,V(I({},u),{value:o}))}),c!=null&&s!=null&&(m.legendItem={key:c,text:s}),m}getTextAlignment(e){let t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=qa(e),i=-3*Math.PI/4,r=n-i,o=Math.floor(r/(Math.PI/2)),s=Qc(o,t.length);return t[s]}getSectorFormat(e,t,n){var i,r,o,s,a;let{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:d,radiusKey:h,fills:u,strokes:m,formatter:p,sectorSpacing:f,__BACKGROUND_COLOR_DO_NOT_USE:b}=this.properties,y=c.getActiveHighlight(),v=n&&y?.series===this&&t===y.itemId,{fill:x,fillOpacity:k,stroke:w,strokeWidth:S,strokeOpacity:C}=st(v&&this.properties.highlightStyle.item,{fill:u.length>0?u[t%u.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:f!=null?m.length>0?m[t%m.length]:void 0:m.length>0?m[t%m.length]:b,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()}),E;return p&&(E=l.call(p,{datum:e,angleKey:d,radiusKey:h,fill:x,stroke:w,fills:u,strokes:m,strokeWidth:S,highlighted:v,seriesId:this.id})),{fill:(i=E?.fill)!=null?i:x,fillOpacity:(r=E?.fillOpacity)!=null?r:k,stroke:(o=E?.stroke)!=null?o:w,strokeWidth:(s=E?.strokeWidth)!=null?s:S,strokeOpacity:(a=E?.strokeOpacity)!=null?a:C}}getInnerRadius(){let{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,i=e*t+n;return i===e||i<0?0:i}getOuterRadius(){let{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){let t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(n=>{var i=n,{radius:r}=i,o=we(i,["radius"]);return V(I({},o),{radius:r,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(r),0)})})}getTitleTranslationY(){var e,t;let n=Math.max(0,this.radiusScale.range[1]);if(n===0)return NaN;let r=2+((t=(e=this.properties.title)==null?void 0:e.spacing)!=null?t:0),o=Math.max(0,-n);return-n-r-o}update(e){return T(this,arguments,function*({seriesRect:t}){let{title:n}=this.properties,i={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=bi(this.nodeDataDependencies,i)!=null;if(r&&(this._nodeDataDependencies=i),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let o=this.getTitleTranslationY(),s=n.node.computeBBox();n.node.visible=n.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(s,0,o),n.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var e,t;let{oldTitle:n}=this,{title:i}=this.properties;n!==i&&(n&&((e=this.labelGroup)==null||e.removeChild(n.node)),i&&(i.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){this.nodeData.forEach(e=>{let t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}})}updateSelections(){return T(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return T(this,null,function*(){let{itemSelection:e,highlightSelection:t,calloutLabelSelection:n,sectorLabelSelection:i,innerLabelsSelection:r}=this,o=(s,a)=>{let l=this.nodeData;a&&(l=l.map(c=>V(I({},c),{sectorFormat:I({},c.sectorFormat)}))),s.update(l,void 0,c=>this.getDatumId(c)),this.ctx.animationManager.isSkipped()&&s.cleanup()};o(e,!1),o(t,!0),n.update(this.nodeData,s=>{let a=new ke;a.tag=1,a.pointerEvents=1,s.appendChild(a);let l=new bt;l.tag=2,l.pointerEvents=1,s.appendChild(l)}),i.update(this.nodeData,s=>{s.pointerEvents=1}),r.update(this.properties.innerLabels,s=>{s.pointerEvents=1})})}updateInnerCircleSelection(){let{innerCircle:e}=this.properties,t=0,n=this.getInnerRadius();if(n>0){let r=Math.min(n,this.getOuterRadius());t=Math.ceil(r*2+1)}let i=e?[{radius:t}]:[];this.innerCircleSelection.update(i)}updateNodes(e){return T(this,null,function*(){let t=this.ctx.highlightManager.getActiveHighlight(),n=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((r,{radius:o})=>{var s,a;r.setProperties({fill:(s=this.properties.innerCircle)==null?void 0:s.fill,opacity:(a=this.properties.innerCircle)==null?void 0:a.fillOpacity,size:o})});let i=(r,o,s,a)=>{let l=this.getSectorFormat(o.datum,o.itemId,a);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;let c=this.ctx.animationManager.isSkipped();c&&(r.startAngle=o.startAngle,r.endAngle=o.endAngle,r.innerRadius=o.innerRadius,r.outerRadius=o.outerRadius),(a||c)&&(r.fill=l.fill,r.stroke=l.stroke),r.strokeWidth=l.strokeWidth,r.fillOpacity=l.fillOpacity,r.strokeOpacity=this.properties.strokeOpacity,r.lineDash=this.properties.lineDash,r.lineDashOffset=this.properties.lineDashOffset,r.fillShadow=this.properties.shadow,r.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,r.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((r,o,s)=>i(r,o,s,!1)),this.highlightSelection.each((r,o,s)=>{let a=t?.series===this&&r.datum.itemId===t.itemId;i(r,o,s,!0),r.visible=a}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var e;let{calloutLine:t}=this.properties,n=t.length,i=t.strokeWidth,r=(e=t.colors)!=null?e:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((s,a)=>{let l=s.datum,{calloutLabel:c,outerRadius:d}=l;if(c?.text&&!c.hidden&&d!==0){s.visible=!0,s.strokeWidth=i,s.stroke=r[a%r.length],s.fill=void 0;let h=l.midCos*d,u=l.midSin*d,m=l.midCos*(d+n),p=l.midSin*(d+n);if((c.collisionTextAlign||c.collisionOffsetY!==0)&&c.box!=null){let b=c.box,y=m,v=p;m<b.x?y=b.x:m>b.x+b.width&&(y=b.x+b.width),p<b.y?v=b.y:p>b.y+b.height&&(v=b.y+b.height);let x=y-m,k=v-p,w=Math.sqrt(Math.pow(x,2)+Math.pow(k,2)),S=w-o;S>0&&(m=m+x*S/w,p=p+k*S/w)}s.x1=h,s.y1=u,s.x2=m,s.y2=p}else s.visible=!1})}getLabelOverflow(e,t,n){let i=n.x-this.centerX,r=n.x+n.width-this.centerX,o=n.y-this.centerY,s=n.y+n.height-this.centerY,a=1,l=1;t.x+a<i?l=(t.x+t.width-i)/t.width:t.x+t.width-a>r&&(l=(r-t.x)/t.width);let c=t.y+a<o||t.y+t.height-a>s,d=l===1?e.length:Math.floor(e.length*l)-1,h=this.bboxIntersectsSurroundingSeries(t);return{textLength:d,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(e,t=0,n=0){let{surroundingRadius:i}=this;if(i==null)return!1;let r=[{x:e.x+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+e.height+n},{x:e.x+t,y:e.y+e.height+n}],o=nt(i,2);return r.some(s=>nt(s.x,2)+nt(s.y,2)>o)}computeCalloutLabelCollisionOffsets(){let{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:i,minSpacing:r}=t,o=e.convert(0),s=v=>!v.calloutLabel||v.outerRadius===0,a=this.nodeData,l=this.nodeData.filter(v=>!s(v));if(l.forEach(v=>{let x=v.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;let c=l.filter(v=>v.midCos<0).sort((v,x)=>v.midSin-x.midSin),d=l.filter(v=>v.midCos>=0).sort((v,x)=>v.midSin-x.midSin),h=l.filter(v=>{var x;return v.midSin<0&&((x=v.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((v,x)=>v.midCos-x.midCos),u=l.filter(v=>{var x;return v.midSin>=0&&((x=v.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((v,x)=>v.midCos-x.midCos),m=new bt,p=v=>{var x;let k=v.calloutLabel;if(k==null)return new Q(0,0,0,0);let w=v.outerRadius+n.length+i,S=v.midCos*w,C=v.midSin*w+k.collisionOffsetY;return m.text=k.text,m.x=S,m.y=C,m.setFont(this.properties.calloutLabel),m.setAlign({textAlign:(x=k.collisionTextAlign)!=null?x:k.textAlign,textBaseline:k.textBaseline}),m.computeBBox()},f=(v,x,k)=>{let w=p(v).grow(r/2),S=p(x).grow(r/2);if(w.x<S.x+S.width&&w.x+w.width>S.x&&(k==="to-top"?w.y<S.y+S.height:w.y+w.height>S.y)){let E=k==="to-top"?w.y-S.y-S.height:w.y+w.height-S.y;x.calloutLabel.collisionOffsetY=E}},b=v=>{let x=v.slice().sort((w,S)=>Math.abs(w.midSin)-Math.abs(S.midSin))[0],k=v.indexOf(x);for(let w=k-1;w>=0;w--){let S=v[w+1],C=v[w];f(S,C,"to-top")}for(let w=k+1;w<v.length;w++){let S=v[w-1],C=v[w];f(S,C,"to-bottom")}},y=v=>{let x=l.some(D=>D.calloutLabel.collisionOffsetY!==0),k=v.map(D=>p(D)),w=k.map(D=>D.clone().grow(r/2)),S=!1;for(let D=0;D<w.length&&!S;D++){let A=w[D];for(let R=D+1;R<v.length;R++){let N=w[R];if(A.collidesBBox(N)){S=!0;break}}}let C=a.map(D=>{let{startAngle:A,endAngle:R,outerRadius:N}=D;return{startAngle:A,endAngle:R,innerRadius:o,outerRadius:N}}),E=k.some(D=>C.some(A=>T_(D,A)));!S&&!x&&!E||v.filter(D=>D.calloutLabel.textAlign==="center").forEach(D=>{let A=D.calloutLabel;D.midCos<0?A.collisionTextAlign="right":D.midCos>0?A.collisionTextAlign="left":A.collisionTextAlign="center"})};b(c),b(d),y(h),y(u)}updateCalloutLabelNodes(e){let{radiusScale:t}=this,{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:o,color:s}=n,a=new bt;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var c;let{datum:d}=l,h=d.calloutLabel,u=t.convert(d.radius),m=Math.max(0,u);if(!h?.text||m===0||h.hidden){l.visible=!1;return}let p=m+r+o,f=d.midCos*p,b=d.midSin*p+h.collisionOffsetY,y={textAlign:(c=h.collisionTextAlign)!=null?c:h.textAlign,textBaseline:h.textBaseline};a.text=h.text,a.x=f,a.y=b,a.setFont(this.properties.calloutLabel),a.setAlign(y);let v=a.computeBBox(),x=h.text,k=!0;if(n.avoidCollisions){let{textLength:w,hasVerticalOverflow:S}=this.getLabelOverflow(h.text,v,e);x=h.text.length===w?h.text:`${h.text.substring(0,w)}\u2026`,k=!S}l.text=x,l.x=f,l.y=b,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=s,l.visible=k})}computeLabelsBBox(e,t){return T(this,null,function*(){let{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:o,maxCollisionOffset:s,minSpacing:a}=n;if(!n.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let l=[],c=new bt,d,{title:h}=this.properties;if(h?.text&&h.enabled){let u=this.getTitleTranslationY();isFinite(u)&&(c.text=h.text,c.x=0,c.y=u,c.setFont(h),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.computeBBox(),l.push(d))}return this.nodeData.forEach(u=>{var m;let p=u.calloutLabel;if(!p||u.outerRadius===0)return null;let f=u.outerRadius+r+o,b=u.midCos*f,y=u.midSin*f+p.collisionOffsetY;c.text=p.text,c.x=b,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:(m=p.collisionTextAlign)!=null?m:p.textAlign,textBaseline:p.textBaseline});let v=c.computeBBox();if(p.box=v,Math.abs(p.collisionOffsetY)>s){p.hidden=!0;return}if(d){let x=t.y-this.centerY,k=new Q(d.x-a,x,d.width+2*a,d.y+d.height+a-x);if(v.collidesBBox(k)){p.hidden=!0;return}}if(e.hideWhenNecessary){let{textLength:x,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(p.text,v,t),S=p.text.length>2&&x<2;if(k||S||w){p.hidden=!0;return}}p.hidden=!1,l.push(v)}),l.length===0?null:Q.merge(l)})}updateSectorLabelNodes(){let{radiusScale:e}=this,t=e.convert(0),{fontSize:n,fontStyle:i,fontWeight:r,fontFamily:o,positionOffset:s,positionRatio:a,color:l}=this.properties.sectorLabel;this.sectorLabelSelection.each((c,d)=>{let{sectorLabel:h,outerRadius:u}=d,m=!1;if(h&&u!==0){let p=t*(1-a)+u*a+s;c.fill=l,c.fontStyle=i,c.fontWeight=r,c.fontSize=n,c.fontFamily=o,c.text=h.text,c.x=d.midCos*p,c.y=d.midSin*p,c.textAlign="center",c.textBaseline="middle";let f=c.computeBBox(),b=[[f.x,f.y],[f.x+f.width,f.y],[f.x+f.width,f.y+f.height],[f.x,f.y+f.height]],{startAngle:y,endAngle:v}=d,x={startAngle:y,endAngle:v,innerRadius:t,outerRadius:u};b.every(([k,w])=>Rp(k,w,x))&&(m=!0)}c.visible=m})}updateInnerLabelNodes(){let e=[],t=[];this.innerLabelsSelection.each((d,h)=>{let{fontStyle:u,fontWeight:m,fontSize:p,fontFamily:f,color:b}=h;d.fontStyle=u,d.fontWeight=m,d.fontSize=p,d.fontFamily=f,d.text=h.text,d.x=0,d.y=0,d.fill=b,d.textAlign="center",d.textBaseline="alphabetic",e.push(d.computeBBox()),t.push(h.margin)});let n=d=>d===0?0:t[d],i=d=>d===t.length-1?0:t[d],r=e.reduce((d,h,u)=>d+h.height+n(u)+i(u),0),o=Math.max(...e.map(d=>d.width)),s=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(r/2,2))<=(s>0?s:this.getOuterRadius()),c=[];for(let d=0,h=-r/2;d<e.length;d++){let m=e[d].height+h+n(d);c.push(m),h=m+i(d)}this.innerLabelsSelection.each((d,h,u)=>{d.y=c[u],d.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(e){let{angleKey:t,calloutLabelKey:n,sectorLabelKey:i,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:s,legendItem:a}=e;if(r&&a!==void 0)return a.text;if(n&&n!==t&&s?.text!==void 0)return s.text;if(i&&i!==t&&o?.text!==void 0)return o.text}getTooltipHtml(e){var t;if(!this.properties.isValid())return"";let{datum:n,angleValue:i,sectorFormat:{fill:r}}=e,o=$t((t=this.properties.title)==null?void 0:t.text),s=xt(i)?Zc(i):String(i),a=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:o??a,content:o&&a?`${a}: ${s}`:s,backgroundColor:r},{datum:n,title:o,color:r,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(e){var t,n,i,r,o;let{processedData:s,dataModel:a}=this;if(!a||!s?.data.length||!this.properties.isValid()||e!=="category")return[];let{angleKey:l,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:h}=this.properties;if(!h&&(!c||c===l)&&(!d||d===l))return[];let{calloutLabelIdx:u,sectorLabelIdx:m,legendItemIdx:p}=this.getProcessedDataIndexes(a),f=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,b=[];for(let y=0;y<s.data.length;y++){let{datum:v,values:x}=s.data[y],k=[];f&&k.push(f);let w=this.getLabels(v,2*Math.PI,2*Math.PI,!1,x[u],x[m],x[p]);if(h&&w.legendItem!==void 0?k.push(w.legendItem.text):c&&c!==l&&((n=w.calloutLabel)==null?void 0:n.text)!==void 0?k.push((i=w.calloutLabel)==null?void 0:i.text):d&&d!==l&&((r=w.sectorLabel)==null?void 0:r.text)!==void 0&&k.push((o=w.sectorLabel)==null?void 0:o.text),k.length===0)continue;let S=this.getSectorFormat(v,y,!1);b.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:this.seriesItemEnabled[y],label:{text:k.join(" - ")},marker:{fill:S.fill,stroke:S.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:h!=null?v[h]:void 0})}return b}onLegendItemClick(e){let{enabled:t,itemId:n,series:i,legendItemName:r}=e;i.id===this.id?this.toggleSeriesItem(n,t):r!=null&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){var n;if(!this.properties.legendItemKey||!this.dataModel)return;let i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(n=this.processedData)==null||n.data.forEach(({values:r},o)=>{r[i]===e&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(e){let{animationManager:t}=this.ctx,n=ls(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Ht(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],n.nodes),Ht(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),It(this,"callout",t,[this.calloutLabelSelection]),It(this,"sector",t,[this.sectorLabelSelection]),It(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var e,t,n,i,r,o;let{itemSelection:s,highlightSelection:a,processedData:l,radiusScale:c,previousRadiusScale:d}=this,{animationManager:h}=this.ctx,u=(e=l?.reduced)==null?void 0:e.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let m=((t=u?.moved.length)!=null?t:0)===0&&u?.addedIndices.every(y=>!u.removedIndices.includes(y)),p=((n=l?.defs.keys.length)!=null?n:0)>0,f=(o=(r=(i=l?.reduced)==null?void 0:i.animationValidation)==null?void 0:r.uniqueKeys)!=null?o:!0;(!m||!p||!f)&&this.ctx.animationManager.skipCurrentBatch();let b=ls(!1,this.properties.rotation,c,d);Ht(this.id,"nodes",h,[s,a],b.nodes,(y,v)=>this.getDatumId(v),u),Ht(this.id,"innerCircle",h,[this.innerCircleSelection],b.innerCircle),It(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),It(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),It(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:e,highlightSelection:t,radiusScale:n,previousRadiusScale:i}=this,{animationManager:r}=this.ctx,o=ls(!1,this.properties.rotation,n,i);Ht(this.id,"nodes",r,[e,t],o.nodes),Ht(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),_o(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),_o(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),_o(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var t,n,i;let{calloutLabelKey:r,sectorLabelKey:o,legendItemKey:s}=this.properties;if((i=(n=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:n.animationValidation)!=null&&i.uniqueKeys){if(s)return e[s];if(r)return e[r];if(o)return e[o]}}getDatumId(e){var t;let{index:n}=e;return(t=this.getDatumIdFromData(e.datum))!=null?t:`${n}`}onDataChange(){this.processSeriesItemEnabled()}};gd.className="DonutSeries";gd.type="donut";var O_={series:{__extends__:Kn,title:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:14,fontFamily:_e,color:ns,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_e,color:_t,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:_e,color:bs,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,shadow:{enabled:!1,color:vs,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:_e,color:_t,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:Ka}},N_=({takeColors:e,colorsCount:t,userPalette:n})=>{let{fills:i,strokes:r}=e(t);return{fills:i,strokes:n?r:[],calloutLine:{colors:r}}},mR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:gd,seriesDefaults:{},themeTemplate:O_,paletteFactory:N_},P_=class extends Zt{constructor(){super(...arguments),this.showInLegend=!1}};g([_(Z)],P_.prototype,"showInLegend",2);var Op=class extends be{set(e,t){return super.set(e)}};g([So("Use a Donut Series instead"),_(F,{optional:!0})],Op.prototype,"text",2);g([So("Use a Donut Series instead"),_(zt,{optional:!0})],Op.prototype,"margin",2);var Np=class extends Ft{};g([So("Use a Donut Series instead"),_(mt,{optional:!0})],Np.prototype,"fill",2);g([So("Use a Donut Series instead"),_(At,{optional:!0})],Np.prototype,"fillOpacity",2);var Is=class extends be{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};g([_(L)],Is.prototype,"offset",2);g([_(Ir)],Is.prototype,"minAngle",2);g([_(L)],Is.prototype,"minSpacing",2);g([_(L)],Is.prototype,"maxCollisionOffset",2);g([_(Z)],Is.prototype,"avoidCollisions",2);var Pp=class extends be{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};g([_(zt)],Pp.prototype,"positionOffset",2);g([_(At)],Pp.prototype,"positionRatio",2);var bd=class extends Ft{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};g([_(Ni,{optional:!0})],bd.prototype,"colors",2);g([_(L)],bd.prototype,"length",2);g([_(L)],bd.prototype,"strokeWidth",2);var ct=class extends en{constructor(){super(...arguments),this.fills=Object.values(bn),this.strokes=Object.values(vo),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new ul(Op),this.title=new P_,this.innerCircle=new Np,this.shadow=new rn,this.calloutLabel=new Is,this.sectorLabel=new Pp,this.calloutLine=new bd,this.tooltip=new li,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}};g([_(F)],ct.prototype,"angleKey",2);g([_(F,{optional:!0})],ct.prototype,"angleName",2);g([_(F,{optional:!0})],ct.prototype,"radiusKey",2);g([_(F,{optional:!0})],ct.prototype,"radiusName",2);g([_(L,{optional:!0})],ct.prototype,"radiusMin",2);g([_(L,{optional:!0})],ct.prototype,"radiusMax",2);g([_(F,{optional:!0})],ct.prototype,"calloutLabelKey",2);g([_(F,{optional:!0})],ct.prototype,"calloutLabelName",2);g([_(F,{optional:!0})],ct.prototype,"sectorLabelKey",2);g([_(F,{optional:!0})],ct.prototype,"sectorLabelName",2);g([_(F,{optional:!0})],ct.prototype,"legendItemKey",2);g([_(Ni)],ct.prototype,"fills",2);g([_(Ni)],ct.prototype,"strokes",2);g([_(At)],ct.prototype,"fillOpacity",2);g([_(At)],ct.prototype,"strokeOpacity",2);g([_(Zn)],ct.prototype,"lineDash",2);g([_(L)],ct.prototype,"lineDashOffset",2);g([_(Oi,{optional:!0})],ct.prototype,"formatter",2);g([_(Ir)],ct.prototype,"rotation",2);g([_(zt)],ct.prototype,"outerRadiusOffset",2);g([_(At)],ct.prototype,"outerRadiusRatio",2);g([So("Use a Donut Series instead"),_(zt,{optional:!0})],ct.prototype,"innerRadiusOffset",2);g([So("Use a Donut Series instead"),_(At,{optional:!0})],ct.prototype,"innerRadiusRatio",2);g([_(L)],ct.prototype,"strokeWidth",2);g([_(L,{optional:!0})],ct.prototype,"sectorSpacing",2);g([_(Nm)],ct.prototype,"innerLabels",2);g([_(K)],ct.prototype,"title",2);g([_(K)],ct.prototype,"innerCircle",2);g([_(K)],ct.prototype,"shadow",2);g([_(K)],ct.prototype,"calloutLabel",2);g([_(K)],ct.prototype,"sectorLabel",2);g([_(K)],ct.prototype,"calloutLine",2);g([_(K)],ct.prototype,"tooltip",2);g([_(F,{optional:!0})],ct.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var pR=class extends Sl{constructor(e,t,n,i){super(e,t,n,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},vd=class extends fd{constructor(e){super({moduleCtx:e,useLabelLayer:!0,animationResetFns:{item:L_,label:ir}}),this.properties=new ct,this.previousRadiusScale=new Sn,this.radiusScale=new Sn,this.backgroundGroup=this.rootGroup.appendChild(new Y({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Y({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new kn),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new kn),this.innerCircleGroup=this.backgroundGroup.appendChild(new Y({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=pR,this.angleScale=new Sn,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(r=>r+Math.PI/2);let t=new Y({name:"pieCalloutLabels"}),n=new Y({name:"pieSectorLabels"}),i=new Y({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(n),this.labelGroup.append(i),this.calloutLabelSelection=Yt.select(t,Y),this.sectorLabelSelection=Yt.select(n,bt),this.innerLabelsSelection=Yt.select(i,bt),this.innerCircleSelection=Yt.select(this.innerCircleGroup,kn);for(let r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1}addChartEventListeners(){var e;this.destroyFns.push((e=this.ctx.chartEventManager)==null?void 0:e.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(e=>e):super.visible}processSeriesItemEnabled(){var e;let{data:t,visible:n}=this;this.seriesItemEnabled=(e=t?.map(()=>n))!=null?e:[]}nodeFactory(){return new Bi}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}processData(e){return T(this,null,function*(){var t,n,i,r,o;if(this.data==null||!this.properties.isValid())return;let{data:s}=this,{seriesItemEnabled:a}=this,{angleKey:l,radiusKey:c,calloutLabelKey:d,sectorLabelKey:h,legendItemKey:u}=this.properties,m=!this.ctx.animationManager.isSkipped(),p=[],f=[];u?p.push(Pe(this,u,!1,{id:"legendItemKey"})):d?p.push(Pe(this,d,!1,{id:"calloutLabelKey"})):h&&p.push(Pe(this,h,!1,{id:"sectorLabelKey"})),c&&f.push(ap(this,c,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),Nt(this,c,!0,{id:"radiusRaw"}),el(this,{id:"radiusValue"},[0,1],1,(n=this.properties.radiusMin)!=null?n:0,this.properties.radiusMax)),d&&f.push(Nt(this,d,!1,{id:"calloutLabelValue"})),h&&f.push(Nt(this,h,!1,{id:"sectorLabelValue"})),u&&f.push(Nt(this,u,!1,{id:"legendItemValue"})),m&&this.processedData&&p.length>0&&f.push(Ao(this.processedData)),f.push(Cs(this)),s=s.map((b,y)=>a[y]?b:V(I({},b),{[l]:0})),yield this.requestDataModel(e,s,{props:[...p,lp(this,l,!0,{id:"angleValue",onlyPositive:!0}),Nt(this,l,!0,{id:"angleRaw"}),el(this,{id:"angleValue"},[0,1],0,0),...f]});for(let b of(o=(r=(i=this.processedData)==null?void 0:i.defs)==null?void 0:r.values)!=null?o:[]){let{id:y,missing:v,property:x}=b,k=Zm(this,v);y!=="angleRaw"&&k>0&&j.warnOnce(`no value was found for the key '${String(x)}' on ${k} data element${k>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return T(this,null,function*(){if(!this.nodeDataRefresh)return;let[{nodeData:e=[]}={}]=yield this.createNodeData();this.nodeData=e,this.nodeDataRefresh=!1})}getProcessedDataIndexes(e){let t=e.resolveProcessedDataIndexById(this,"angleValue").index,n=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue").index:-1,i=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,r=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,o=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:n,calloutLabelIdx:i,sectorLabelIdx:r,legendItemIdx:o}}createNodeData(){return T(this,null,function*(){let{id:e,processedData:t,dataModel:n,angleScale:i}=this,{rotation:r}=this.properties;if(!t||!n||t.type!=="ungrouped")return[];let{angleIdx:o,radiusIdx:s,calloutLabelIdx:a,sectorLabelIdx:l,legendItemIdx:c}=this.getProcessedDataIndexes(n),d=0,h=0,u=t.data.map((p,f)=>{var b;let{datum:y,values:v}=p,x=v[o],k=i.convert(d)+ze(r);d=x,h+=x;let w=i.convert(d)+ze(r),S=Math.abs(w-k),C=k+S/2,E=v[o+1],D=s>=0&&(b=v[s])!=null?b:1,A=s>=0?v[s+1]:void 0,R=c>=0?v[c]:void 0,N=this.getLabels(y,C,S,!0,v[a],v[l],R),O=this.getSectorFormat(y,f,!1);return I({itemId:f,series:this,datum:y,index:f,angleValue:E,midAngle:C,midCos:Math.cos(C),midSin:Math.sin(C),startAngle:k,endAngle:w,sectorFormat:O,radiusValue:A,radius:D,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(D),0),legendItemValue:R},N)});this.zerosumOuterRing.visible=h===0;let{innerRadiusRatio:m=1}=this.properties;return this.zerosumInnerRing.visible=h===0&&m!==1&&m>0,[{itemId:e,nodeData:u,labelData:u}]})}getLabels(e,t,n,i,r,o,s){let{calloutLabel:a,sectorLabel:l,legendItemKey:c}=this.properties,d=!i||a.enabled?this.properties.calloutLabelKey:void 0,h=!i||l.enabled?this.properties.sectorLabelKey:void 0;if(!d&&!h&&!c)return{};let u={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},m={};return d&&n>ze(a.minAngle)&&(m.calloutLabel=V(I({},this.getTextAlignment(t)),{text:this.getLabelText(a,V(I({},u),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(m.sectorLabel={text:this.getLabelText(l,V(I({},u),{value:o}))}),c!=null&&s!=null&&(m.legendItem={key:c,text:s}),m}getTextAlignment(e){let t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=qa(e),i=-3*Math.PI/4,r=n-i,o=Math.floor(r/(Math.PI/2)),s=Qc(o,t.length);return t[s]}getSectorFormat(e,t,n){var i,r,o,s,a;let{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:d,radiusKey:h,fills:u,strokes:m,formatter:p,sectorSpacing:f,__BACKGROUND_COLOR_DO_NOT_USE:b}=this.properties,y=c.getActiveHighlight(),v=n&&y?.series===this&&t===y.itemId,{fill:x,fillOpacity:k,stroke:w,strokeWidth:S,strokeOpacity:C}=st(v&&this.properties.highlightStyle.item,{fill:u.length>0?u[t%u.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:f!=null?m.length>0?m[t%m.length]:void 0:m.length>0?m[t%m.length]:b,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()}),E;return p&&(E=l.call(p,{datum:e,angleKey:d,radiusKey:h,fill:x,stroke:w,fills:u,strokes:m,strokeWidth:S,highlighted:v,seriesId:this.id})),{fill:(i=E?.fill)!=null?i:x,fillOpacity:(r=E?.fillOpacity)!=null?r:k,stroke:(o=E?.stroke)!=null?o:w,strokeWidth:(s=E?.strokeWidth)!=null?s:S,strokeOpacity:(a=E?.strokeOpacity)!=null?a:C}}getInnerRadius(){let{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,i=e*t+n;return i===e||i<0?0:i}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){let t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(n=>{var i=n,{radius:r}=i,o=we(i,["radius"]);return V(I({},o),{radius:r,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(r),0)})})}getTitleTranslationY(){var e,t;let n=Math.max(0,this.radiusScale.range[1]);if(n===0)return NaN;let r=2+((t=(e=this.properties.title)==null?void 0:e.spacing)!=null?t:0),o=Math.max(0,-n);return-n-r-o}update(e){return T(this,arguments,function*({seriesRect:t}){let{title:n}=this.properties,i={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=bi(this.nodeDataDependencies,i)!=null;if(r&&(this._nodeDataDependencies=i),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let o=this.getTitleTranslationY(),s=n.node.computeBBox();n.node.visible=n.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(s,0,o),n.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var e,t;let{oldTitle:n}=this,{title:i}=this.properties;n!==i&&(n&&((e=this.labelGroup)==null||e.removeChild(n.node)),i&&(i.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){this.nodeData.forEach(e=>{let t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}})}updateSelections(){return T(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return T(this,null,function*(){let{itemSelection:e,highlightSelection:t,calloutLabelSelection:n,sectorLabelSelection:i,innerLabelsSelection:r}=this,o=(s,a)=>{let l=this.nodeData;a&&(l=l.map(c=>V(I({},c),{sectorFormat:I({},c.sectorFormat)}))),s.update(l,void 0,c=>this.getDatumId(c)),this.ctx.animationManager.isSkipped()&&s.cleanup()};o(e,!1),o(t,!0),n.update(this.nodeData,s=>{let a=new ke;a.tag=1,a.pointerEvents=1,s.appendChild(a);let l=new bt;l.tag=2,l.pointerEvents=1,s.appendChild(l)}),i.update(this.nodeData,s=>{s.pointerEvents=1}),r.update(this.properties.innerLabels,s=>{s.pointerEvents=1})})}updateInnerCircleSelection(){let{innerCircle:e}=this.properties,t=0,n=this.getInnerRadius();if(n>0){let r=Math.min(n,this.getOuterRadius());t=Math.ceil(r*2+1)}let i=e?[{radius:t}]:[];this.innerCircleSelection.update(i)}updateNodes(e){return T(this,null,function*(){let t=this.ctx.highlightManager.getActiveHighlight(),n=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((r,{radius:o})=>{var s,a;r.setProperties({fill:(s=this.properties.innerCircle)==null?void 0:s.fill,opacity:(a=this.properties.innerCircle)==null?void 0:a.fillOpacity,size:o})});let i=(r,o,s,a)=>{let l=this.getSectorFormat(o.datum,o.itemId,a);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;let c=this.ctx.animationManager.isSkipped();c&&(r.startAngle=o.startAngle,r.endAngle=o.endAngle,r.innerRadius=o.innerRadius,r.outerRadius=o.outerRadius),(a||c)&&(r.fill=l.fill,r.stroke=l.stroke),r.strokeWidth=l.strokeWidth,r.fillOpacity=l.fillOpacity,r.strokeOpacity=this.properties.strokeOpacity,r.lineDash=this.properties.lineDash,r.lineDashOffset=this.properties.lineDashOffset,r.fillShadow=this.properties.shadow,r.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,r.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((r,o,s)=>i(r,o,s,!1)),this.highlightSelection.each((r,o,s)=>{let a=t?.series===this&&r.datum.itemId===t.itemId;i(r,o,s,!0),r.visible=a}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var e;let{calloutLine:t}=this.properties,n=t.length,i=t.strokeWidth,r=(e=t.colors)!=null?e:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((s,a)=>{let l=s.datum,{calloutLabel:c,outerRadius:d}=l;if(c?.text&&!c.hidden&&d!==0){s.visible=!0,s.strokeWidth=i,s.stroke=r[a%r.length],s.fill=void 0;let h=l.midCos*d,u=l.midSin*d,m=l.midCos*(d+n),p=l.midSin*(d+n);if((c.collisionTextAlign||c.collisionOffsetY!==0)&&c.box!=null){let b=c.box,y=m,v=p;m<b.x?y=b.x:m>b.x+b.width&&(y=b.x+b.width),p<b.y?v=b.y:p>b.y+b.height&&(v=b.y+b.height);let x=y-m,k=v-p,w=Math.sqrt(Math.pow(x,2)+Math.pow(k,2)),S=w-o;S>0&&(m=m+x*S/w,p=p+k*S/w)}s.x1=h,s.y1=u,s.x2=m,s.y2=p}else s.visible=!1})}getLabelOverflow(e,t,n){let i=n.x-this.centerX,r=n.x+n.width-this.centerX,o=n.y-this.centerY,s=n.y+n.height-this.centerY,a=1,l=1;t.x+a<i?l=(t.x+t.width-i)/t.width:t.x+t.width-a>r&&(l=(r-t.x)/t.width);let c=t.y+a<o||t.y+t.height-a>s,d=l===1?e.length:Math.floor(e.length*l)-1,h=this.bboxIntersectsSurroundingSeries(t);return{textLength:d,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(e,t=0,n=0){let{surroundingRadius:i}=this;if(i==null)return!1;let r=[{x:e.x+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+e.height+n},{x:e.x+t,y:e.y+e.height+n}],o=nt(i,2);return r.some(s=>nt(s.x,2)+nt(s.y,2)>o)}computeCalloutLabelCollisionOffsets(){let{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:i,minSpacing:r}=t,o=e.convert(0),s=v=>!v.calloutLabel||v.outerRadius===0,a=this.nodeData,l=this.nodeData.filter(v=>!s(v));if(l.forEach(v=>{let x=v.calloutLabel;x!=null&&(x.hidden=!1,x.collisionTextAlign=void 0,x.collisionOffsetY=0)}),l.length<=1)return;let c=l.filter(v=>v.midCos<0).sort((v,x)=>v.midSin-x.midSin),d=l.filter(v=>v.midCos>=0).sort((v,x)=>v.midSin-x.midSin),h=l.filter(v=>{var x;return v.midSin<0&&((x=v.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((v,x)=>v.midCos-x.midCos),u=l.filter(v=>{var x;return v.midSin>=0&&((x=v.calloutLabel)==null?void 0:x.textAlign)==="center"}).sort((v,x)=>v.midCos-x.midCos),m=new bt,p=v=>{var x;let k=v.calloutLabel;if(k==null)return new Q(0,0,0,0);let w=v.outerRadius+n.length+i,S=v.midCos*w,C=v.midSin*w+k.collisionOffsetY;return m.text=k.text,m.x=S,m.y=C,m.setFont(this.properties.calloutLabel),m.setAlign({textAlign:(x=k.collisionTextAlign)!=null?x:k.textAlign,textBaseline:k.textBaseline}),m.computeBBox()},f=(v,x,k)=>{let w=p(v).grow(r/2),S=p(x).grow(r/2);if(w.x<S.x+S.width&&w.x+w.width>S.x&&(k==="to-top"?w.y<S.y+S.height:w.y+w.height>S.y)){let E=k==="to-top"?w.y-S.y-S.height:w.y+w.height-S.y;x.calloutLabel.collisionOffsetY=E}},b=v=>{let x=v.slice().sort((w,S)=>Math.abs(w.midSin)-Math.abs(S.midSin))[0],k=v.indexOf(x);for(let w=k-1;w>=0;w--){let S=v[w+1],C=v[w];f(S,C,"to-top")}for(let w=k+1;w<v.length;w++){let S=v[w-1],C=v[w];f(S,C,"to-bottom")}},y=v=>{let x=l.some(D=>D.calloutLabel.collisionOffsetY!==0),k=v.map(D=>p(D)),w=k.map(D=>D.clone().grow(r/2)),S=!1;for(let D=0;D<w.length&&!S;D++){let A=w[D];for(let R=D+1;R<v.length;R++){let N=w[R];if(A.collidesBBox(N)){S=!0;break}}}let C=a.map(D=>{let{startAngle:A,endAngle:R,outerRadius:N}=D;return{startAngle:A,endAngle:R,innerRadius:o,outerRadius:N}}),E=k.some(D=>C.some(A=>T_(D,A)));!S&&!x&&!E||v.filter(D=>D.calloutLabel.textAlign==="center").forEach(D=>{let A=D.calloutLabel;D.midCos<0?A.collisionTextAlign="right":D.midCos>0?A.collisionTextAlign="left":A.collisionTextAlign="center"})};b(c),b(d),y(h),y(u)}updateCalloutLabelNodes(e){let{radiusScale:t}=this,{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:o,color:s}=n,a=new bt;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var c;let{datum:d}=l,h=d.calloutLabel,u=t.convert(d.radius),m=Math.max(0,u);if(!h?.text||m===0||h.hidden){l.visible=!1;return}let p=m+r+o,f=d.midCos*p,b=d.midSin*p+h.collisionOffsetY,y={textAlign:(c=h.collisionTextAlign)!=null?c:h.textAlign,textBaseline:h.textBaseline};a.text=h.text,a.x=f,a.y=b,a.setFont(this.properties.calloutLabel),a.setAlign(y);let v=a.computeBBox(),x=h.text,k=!0;if(n.avoidCollisions){let{textLength:w,hasVerticalOverflow:S}=this.getLabelOverflow(h.text,v,e);x=h.text.length===w?h.text:`${h.text.substring(0,w)}\u2026`,k=!S}l.text=x,l.x=f,l.y=b,l.setFont(this.properties.calloutLabel),l.setAlign(y),l.fill=s,l.visible=k})}computeLabelsBBox(e,t){return T(this,null,function*(){let{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:o,maxCollisionOffset:s,minSpacing:a}=n;if(!n.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let l=[],c=new bt,d,{title:h}=this.properties;if(h?.text&&h.enabled){let u=this.getTitleTranslationY();isFinite(u)&&(c.text=h.text,c.x=0,c.y=u,c.setFont(h),c.setAlign({textBaseline:"bottom",textAlign:"center"}),d=c.computeBBox(),l.push(d))}return this.nodeData.forEach(u=>{var m;let p=u.calloutLabel;if(!p||u.outerRadius===0)return null;let f=u.outerRadius+r+o,b=u.midCos*f,y=u.midSin*f+p.collisionOffsetY;c.text=p.text,c.x=b,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:(m=p.collisionTextAlign)!=null?m:p.textAlign,textBaseline:p.textBaseline});let v=c.computeBBox();if(p.box=v,Math.abs(p.collisionOffsetY)>s){p.hidden=!0;return}if(d){let x=t.y-this.centerY,k=new Q(d.x-a,x,d.width+2*a,d.y+d.height+a-x);if(v.collidesBBox(k)){p.hidden=!0;return}}if(e.hideWhenNecessary){let{textLength:x,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(p.text,v,t),S=p.text.length>2&&x<2;if(k||S||w){p.hidden=!0;return}}p.hidden=!1,l.push(v)}),l.length===0?null:Q.merge(l)})}updateSectorLabelNodes(){let{radiusScale:e}=this,t=e.convert(0),{fontSize:n,fontStyle:i,fontWeight:r,fontFamily:o,positionOffset:s,positionRatio:a,color:l}=this.properties.sectorLabel,c=t>0,d=this.seriesItemEnabled.filter(Boolean).length===1;this.sectorLabelSelection.each((h,u)=>{let{sectorLabel:m,outerRadius:p}=u,f=!1;if(m&&p!==0){let b=t*(1-a)+p*a+s;h.fill=l,h.fontStyle=i,h.fontWeight=r,h.fontSize=n,h.fontFamily=o,h.text=m.text,!c&&d?(h.x=0,h.y=0):(h.x=u.midCos*b,h.y=u.midSin*b),h.textAlign="center",h.textBaseline="middle";let v=h.computeBBox(),x=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:k,endAngle:w}=u,S={startAngle:k,endAngle:w,innerRadius:t,outerRadius:p};x.every(([C,E])=>Rp(C,E,S))&&(f=!0)}h.visible=f})}updateInnerLabelNodes(){let e=[],t=[];this.innerLabelsSelection.each((d,h)=>{let{fontStyle:u,fontWeight:m,fontSize:p,fontFamily:f,color:b,margin:y=2}=h;d.fontStyle=u,d.fontWeight=m,d.fontSize=p,d.fontFamily=f,d.text=h.text,d.x=0,d.y=0,d.fill=b,d.textAlign="center",d.textBaseline="alphabetic",e.push(d.computeBBox()),t.push(y)});let n=d=>d===0?0:t[d],i=d=>d===t.length-1?0:t[d],r=e.reduce((d,h,u)=>d+h.height+n(u)+i(u),0),o=Math.max(...e.map(d=>d.width)),s=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(r/2,2))<=(s>0?s:this.getOuterRadius()),c=[];for(let d=0,h=-r/2;d<e.length;d++){let m=e[d].height+h+n(d);c.push(m),h=m+i(d)}this.innerLabelsSelection.each((d,h,u)=>{d.y=c[u],d.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(e){let{angleKey:t,calloutLabelKey:n,sectorLabelKey:i,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:s,legendItem:a}=e;if(r&&a!==void 0)return a.text;if(n&&n!==t&&s?.text!==void 0)return s.text;if(i&&i!==t&&o?.text!==void 0)return o.text}getTooltipHtml(e){var t;if(!this.properties.isValid())return"";let{datum:n,angleValue:i,sectorFormat:{fill:r}}=e,o=$t((t=this.properties.title)==null?void 0:t.text),s=xt(i)?Zc(i):String(i),a=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:o??a,content:o&&a?`${a}: ${s}`:s,backgroundColor:r},{datum:n,title:o,color:r,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(e){var t,n,i,r,o;let{processedData:s,dataModel:a}=this;if(!a||!s?.data.length||e!=="category")return[];let{angleKey:l,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:h}=this.properties;if(!h&&(!c||c===l)&&(!d||d===l))return[];let{calloutLabelIdx:u,sectorLabelIdx:m,legendItemIdx:p}=this.getProcessedDataIndexes(a),f=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,b=[];for(let y=0;y<s.data.length;y++){let{datum:v,values:x}=s.data[y],k=[];f&&k.push(f);let w=this.getLabels(v,2*Math.PI,2*Math.PI,!1,x[u],x[m],x[p]);if(h&&w.legendItem!==void 0?k.push(w.legendItem.text):c&&c!==l&&((n=w.calloutLabel)==null?void 0:n.text)!==void 0?k.push((i=w.calloutLabel)==null?void 0:i.text):d&&d!==l&&((r=w.sectorLabel)==null?void 0:r.text)!==void 0&&k.push((o=w.sectorLabel)==null?void 0:o.text),k.length===0)continue;let S=this.getSectorFormat(v,y,!1);b.push({legendType:"category",id:this.id,itemId:y,seriesId:this.id,enabled:this.seriesItemEnabled[y],label:{text:k.join(" - ")},marker:{fill:S.fill,stroke:S.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:h!=null?v[h]:void 0})}return b}onLegendItemClick(e){let{enabled:t,itemId:n,series:i,legendItemName:r}=e;i.id===this.id?this.toggleSeriesItem(n,t):r!=null&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){var n;if(!this.properties.legendItemKey||!this.dataModel)return;let i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(n=this.processedData)==null||n.data.forEach(({values:r},o)=>{r[i]===e&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(e){let{animationManager:t}=this.ctx,n=ls(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Ht(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],n.nodes),Ht(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),It(this,"callout",t,[this.calloutLabelSelection]),It(this,"sector",t,[this.sectorLabelSelection]),It(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var e,t,n,i,r,o;let{itemSelection:s,highlightSelection:a,processedData:l,radiusScale:c,previousRadiusScale:d}=this,{animationManager:h}=this.ctx,u=(e=l?.reduced)==null?void 0:e.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let m=((t=u?.moved.length)!=null?t:0)===0&&u?.addedIndices.every(y=>!u.removedIndices.includes(y)),p=((n=l?.defs.keys.length)!=null?n:0)>0,f=(o=(r=(i=l?.reduced)==null?void 0:i.animationValidation)==null?void 0:r.uniqueKeys)!=null?o:!0;(!m||!p||!f)&&this.ctx.animationManager.skipCurrentBatch();let b=ls(!1,this.properties.rotation,c,d);Ht(this.id,"nodes",h,[s,a],b.nodes,(y,v)=>this.getDatumId(v),u),Ht(this.id,"innerCircle",h,[this.innerCircleSelection],b.innerCircle),It(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),It(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),It(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:e,highlightSelection:t,radiusScale:n,previousRadiusScale:i}=this,{animationManager:r}=this.ctx,o=ls(!1,this.properties.rotation,n,i);Ht(this.id,"nodes",r,[e,t],o.nodes),Ht(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),_o(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),_o(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),_o(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){var t,n,i;let{calloutLabelKey:r,sectorLabelKey:o,legendItemKey:s}=this.properties;if((i=(n=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:n.animationValidation)!=null&&i.uniqueKeys){if(s)return e[s];if(r)return e[r];if(o)return e[o]}}getDatumId(e){var t;let{index:n}=e;return(t=this.getDatumIdFromData(e.datum))!=null?t:`${n}`}onDataChange(){this.processSeriesItemEnabled()}};vd.className="PieSeries";vd.type="pie";var fR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:vd,seriesDefaults:{},themeTemplate:O_,paletteFactory:N_};function gR(){Wi(a_),Wi(c_),Wi(ZA),Wi(eR),Wi(oR),Wi(cR),Wi(hR),Wi(mR),Wi(fR),Wi(aR),new Map([[xo.type,xo],[$n.type,$n],[wo.type,wo],[Cr.type,Cr],[Er.type,Er]]).forEach((t,n)=>{vv(n,t)}),Vv("category","legend",si,void 0)}function bR(){for(let e of _n){if(e.packageType==="enterprise"&&!sD(e)&&j.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(let t of e.chartTypes)JC(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);uD(e)}if(e.type==="series-option"&&e.themeTemplate)for(let t of e.seriesTypes)zv(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(let t of e.axisTypes){let n=e.themeTemplate[t],i=I(I({},e.themeTemplate),n);for(let r of e.axisTypes)delete i[r];bb(t,i)}e.type==="axis"&&(vv(e.identifier,e.instanceConstructor),e.themeTemplate&&bb(e.identifier,e.themeTemplate)),e.type==="legend"&&Vv(e.identifier,e.optionsKey,e.instanceConstructor,e.themeTemplate)}if(gm()){let e=aD();e.length>0&&j.errorOnce("Enterprise modules expected but not registered: ",e)}}var Fp=class F_ extends hd{constructor(t,n){super(t,n),this._data={}}performLayout(){return T(this,null,function*(){let t=yield Yn(F_.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:i}=this,r=t.clone();return t.shrink(n.left,"left"),t.shrink(n.top,"top"),t.shrink(n.right,"right"),t.shrink(n.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t,i.translationX=Math.floor(t.x),i.translationY=Math.floor(t.y),yield Promise.all(this.series.map(o=>T(this,null,function*(){yield o.update({seriesRect:t})}))),i.visible=this.series[0].visible,i.setClipRectInGroupCoordinateSpace(new Q(t.x,t.y,t.width,t.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:r,paddedRect:t,visible:!0},axes:[]}),t})}};Fp.className="HierarchyChart";Fp.type="hierarchy";var vR=Fp,cs=class extends Ym{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}};g([_(le(["polygon","circle"],"a polar axis shape"))],cs.prototype,"shape",2);g([_(At)],cs.prototype,"innerRadiusRatio",2);var Bp=class B_ extends hd{constructor(t,n){super(t,n),this.padding=new Mr(40),this.axisGroup.zIndex=5}performLayout(){return T(this,null,function*(){let t=yield Yn(B_.prototype,this,"performLayout").call(this),n=t.clone();return this.computeSeriesRect(t),yield this.computeCircle(t),this.axes.forEach(i=>i.update()),this.hoverRect=t,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:n,paddedRect:t,visible:!0},axes:[]}),t})}updateAxes(t,n,i){var r,o;let s=this.axes.find(h=>h.direction==="x"),a=this.axes.find(h=>h.direction==="y");if(!(s instanceof cs)||!(a instanceof cs))return;let l=s.scale,c=(r=l.ticks)==null?void 0:r.call(l).map(h=>l.convert(h)),d=a.innerRadiusRatio;s.innerRadiusRatio=d,(o=s.computeRange)==null||o.call(s),s.gridLength=i,a.gridAngles=c,a.gridRange=s.range,a.range=[i,i*d],[s,a].forEach(h=>{h.translation.x=t,h.translation.y=n,h.calculateLayout()})}computeSeriesRect(t){let{seriesArea:{padding:n}}=this;t.shrink(n.left,"left"),t.shrink(n.top,"top"),t.shrink(n.right,"right"),t.shrink(n.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}computeCircle(t){return T(this,null,function*(){let n=this.series.filter(d=>d instanceof fd),i=this.axes.filter(d=>d instanceof cs),r=(d,h,u)=>{this.updateAxes(d,h,u),n.forEach(p=>{p.centerX=d,p.centerY=h,p.radius=u});let m=n.filter(p=>p instanceof vd||p instanceof gd);if(m.length>1){let p=m.map(f=>{let b=f.getInnerRadius();return{series:f,innerRadius:b}}).sort((f,b)=>f.innerRadius-b.innerRadius);p.at(-1).series.surroundingRadius=void 0;for(let f=0;f<p.length-1;f++)p[f].series.surroundingRadius=p[f+1].innerRadius}},o=t.x+t.width/2,s=t.y+t.height/2,a=Math.max(0,Math.min(t.width,t.height)/2),l=a;r(o,s,l);let c=(...d)=>T(this,[...d],function*({hideWhenNecessary:h=!1}={}){let u=[];for(let f of[...i,...n]){let b=yield f.computeLabelsBBox({hideWhenNecessary:h},t);b&&u.push(b)}if(u.length===0){r(o,s,a);return}let m=Q.merge(u),p=this.refineCircle(m,l,t);r(p.centerX,p.centerY,p.radius),p.radius!==l&&(l=p.radius)});return yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0}),{radius:l,centerX:o,centerY:s}})}refineCircle(t,n,i){let o=-n,s=-n,a=n,l=n,c=Math.max(0,o-t.x),d=Math.max(0,s-t.y),h=Math.max(0,t.x+t.width-a),u=Math.max(0,t.y+t.height-l);c=h=Math.max(c,h),d=u=Math.max(d,u);let m=i.width-c-h,p=i.height-d-u,f=Math.min(m,p)/2,b=.5*i.width/2,y=.5*i.height/2,v=Math.min(b,y);if(f<v){f=v;let w=c+h,S=d+u;if(2*f+S>i.height){let C=i.height-2*f;Math.min(d,u)*2>C?(d=C/2,u=C/2):d>u?d=C-u:u=C-d}if(2*f+w>i.width){let C=i.width-2*f;Math.min(c,h)*2>C?(c=C/2,h=C/2):c>h?c=C-h:h=C-c}}let x=c+2*f+h,k=d+2*f+u;return{centerX:i.x+(i.width-x)/2+c+f,centerY:i.y+(i.height-k)/2+d+f,radius:f}}};Bp.className="PolarChart";Bp.type="polar";var yR=Bp,kc=ne.create(!0,"opts");function iv(e){if(bo(e))return"cartesian";if(hl(e))return"polar";if(ym(e))return"hierarchy";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}var yd=class Ba{static licenseCheck(t){var n,i,r,o;this.licenseChecked||(this.licenseManager=(i=(n=ts).licenseManager)==null?void 0:i.call(n,t),(r=this.licenseManager)==null||r.setLicenseKey(this.licenseKey,this.gridContext),(o=this.licenseManager)==null||o.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var n,i;return(i=(n=ts).licenseManager)==null?void 0:i.call(n,{}).getLicenseDetails(t)}static getInstance(t){return Zo.getInstance(t)}static create(t){var n,i,r,o;this.licenseCheck(t);let s=Zo.createOrUpdate(t);return(n=this.licenseManager)!=null&&n.isDisplayWatermark()&&((o=(r=ts).injectWatermark)==null||o.call(r,(i=t.document)!=null?i:document,s.chart.element,this.licenseManager.getWatermarkMessage())),s}static update(t,n){if(!Jo.isInstance(t))throw new Error(Ba.INVALID_CHART_REF_MESSAGE);Zo.createOrUpdate(n,t)}static updateDelta(t,n){if(!Jo.isInstance(t))throw new Error(Ba.INVALID_CHART_REF_MESSAGE);Zo.updateUserDelta(t,n)}static download(t,n){if(!(t instanceof Jo))throw new Error(Ba.INVALID_CHART_REF_MESSAGE);Zo.download(t,n)}static getImageDataURL(t,n){if(!(t instanceof Jo))throw new Error(Ba.INVALID_CHART_REF_MESSAGE);return Zo.getImageDataURL(t,n)}};yd.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed";yd.licenseChecked=!1;yd.gridContext=!1;var zp=yd;var z_=class gn{static getInstance(t){let n=hd.getInstance(t);return n!=null?Jo.chartInstances.get(n):void 0}static initialiseModules(){gn.initialised||(gR(),bR(),gn.initialised=!0)}static createOrUpdate(t,n){var i;gn.initialiseModules(),kc(">>> AgChartV2.createOrUpdate() user options",t);let r=t,{overrideDevicePixelRatio:o,document:s,window:a}=r,l=we(r,["overrideDevicePixelRatio","document","window"]),c=new ly(l,{overrideDevicePixelRatio:o,document:s,window:a}),d=n?.chart;return(d==null||iv(l)!==iv(d.processedOptions))&&(d=gn.createChartInstance(c,d)),n==null?n=new Jo(d):n.chart=d,kc.check()&&typeof window<"u"&&((i=window.agChartInstances)!=null||(window.agChartInstances={}),window.agChartInstances[d.id]=d),d.queuedUserOptions.push(l),d.requestFactoryUpdate(h=>{h.applyOptions(c),h.queuedUserOptions.splice(0,h.queuedUserOptions.indexOf(l))}),n}static updateUserDelta(t,n){n=Be(n,{shallow:["data"]}),xn(n,s=>{if(typeof s=="object")for(let[a,l]of Object.entries(s))typeof l>"u"&&Object.assign(s,{[a]:Symbol("UNSET")})},{skip:["data"]});let{chart:i}=t,r=i.getOptions(),o=st(n,r);kc(">>> AgChartV2.updateUserDelta() user delta",n),kc("AgChartV2.updateUserDelta() - base options",r),gn.createOrUpdate(o,t)}static download(t,n){return T(this,null,function*(){try{let i=yield gn.prepareResizedChart(t,n);i.chart.scene.download(n?.fileName,n?.fileFormat),i.destroy()}catch(i){j.errorOnce(i)}})}static getImageDataURL(t,n){return T(this,null,function*(){let i=yield gn.prepareResizedChart(t,n),{canvas:r}=i.chart.scene,o=r.getDataURL(n?.fileFormat);return i.destroy(),o})}static prepareResizedChart(t){return T(this,arguments,function*(n,i={}){let{chart:r}=n,{width:o=r.width,height:s=r.height}=i,a=st({container:document.createElement("div"),overrideDevicePixelRatio:1,autoSize:!1,width:o,height:s},gm()&&{animation:{enabled:!1}},r.userOptions),l=gn.createOrUpdate(a);return l.chart.zoomManager.updateZoom(n.chart.zoomManager.getZoom()),n.chart.series.forEach((c,d)=>{c.visible!==!0&&(l.chart.series[d].visible=c.visible)}),n.chart.update(0,{forceNodeDataRefresh:!0}),yield l.chart.waitForUpdate(),l})}static createChartInstance(t,n){let i=n?.destroy({keepTransferableResources:!0}),r=gn.getChartByOptions(t.processedOptions);return new r(t,i)}static getChartByOptions(t){if(bo(t))return PA;if(ym(t))return vR;if(hl(t))return yR;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};z_.initialised=!1;var Zo=z_;var _R={};Hn(_R,{Arc:()=>Ln,BBox:()=>Q,BandScale:()=>Dn,Caption:()=>Zt,Circle:()=>kn,ContinuousScale:()=>Ot,Diamond:()=>O0,DropShadow:()=>rn,Group:()=>Y,HdpiCanvas:()=>re,Image:()=>As,Label:()=>be,Line:()=>ke,LinearGradientFill:()=>_d,LinearScale:()=>Sn,Marker:()=>Fi,Node:()=>ys,Path:()=>_i,Path2D:()=>us,PointerEvents:()=>uy,RadialColumnShape:()=>on,Rect:()=>Ve,RedrawType:()=>yr,Scene:()=>qm,SceneChangeDetection:()=>W,ScenePathChangeDetection:()=>it,Sector:()=>Bi,Selection:()=>Yt,Shape:()=>Li,Square:()=>ms,Text:()=>bt,Tooltip:()=>By,Triangle:()=>ss,easing:()=>Rm,getFont:()=>Sr,getMarker:()=>Lr,getRadialColumnWidth:()=>xR,motion:()=>wR,nearestSquared:()=>hy,nearestSquaredInContainer:()=>uE,toRadians:()=>ze,toTooltipHtml:()=>Za});var Ln=class extends _i{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return yo(ae(this.startAngle),ae(this.endAngle))}updatePath(){let e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Q(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){let n=this.transformPoint(e,t),i=this.computeBBox();return this.type!==0&&i.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)}};Ln.className="Arc";Ln.defaultStyles=Object.assign({},Li.defaultStyles,{lineWidth:1,fillStyle:null});g([it()],Ln.prototype,"centerX",2);g([it()],Ln.prototype,"centerY",2);g([it()],Ln.prototype,"radius",2);g([it()],Ln.prototype,"startAngle",2);g([it()],Ln.prototype,"endAngle",2);g([it()],Ln.prototype,"counterClockwise",2);g([it()],Ln.prototype,"type",2);var _d=class extends Li{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(e){this._mask!=null&&this.removeChild(this._mask),e!=null&&this.appendChild(e),this._mask=e}isPointInPath(e,t){var n,i;return(i=(n=this.mask)==null?void 0:n.isPointInPath(e,t))!=null?i:!1}computeBBox(){var e;return(e=this.mask)==null?void 0:e.computeBBox()}render(e){let{mask:t,stops:n}=this,{ctx:i,devicePixelRatio:r}=e,o=1/r,s=t?.computeTransformedBBox();if(t==null||n==null||s==null)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),i.save(),i.beginPath(),t.path.draw(i),i.clip(),i.resetTransform();let a=Math.floor(s.x),l=Math.ceil(s.x+s.width),c=Math.floor(s.y),d=Math.ceil(s.y+s.height),h=new Ro,[u,m]=this.direction==="to-right"?[a,l]:[c,d];if(h.domain=n.map((p,f)=>u+(m-u)*f/(n.length-1)),h.range=n,h.update(),this.direction==="to-right"){let p=d-c;for(let f=a;f<=l;f+=o)i.fillStyle=h.convert(f),i.fillRect(f,c,o,p)}else{let p=l-a;for(let f=c;f<=d;f+=o)i.fillStyle=h.convert(f),i.fillRect(a,f,p,o)}i.restore()}};g([W({redraw:3})],_d.prototype,"direction",2);g([W({redraw:3})],_d.prototype,"stops",2);g([W({redraw:3})],_d.prototype,"_mask",2);function nv(e,t,n){let i=Math.sqrt(nt(e,2)+nt(t,2)),o=Math.atan2(t,e)+n;return{x:Math.cos(o)*i,y:Math.sin(o)*i}}var on=class extends _i{constructor(){super(...arguments),this.borderPath=new us,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){let{startAngle:e,endAngle:t}=this,n=Mm(e,t);return ae(e+n/2+Math.PI/2)}updatePath(){let{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:e,innerRadius:t,outerRadius:n,path:i}=this,r=-e/2,o=e/2,s=-n,a=-t,l=this.getRotation(),c=[[r,a],[r,s],[o,s],[o,a],[r,a]].map(([d,h])=>nv(d,h,l));i.clear({trackChanges:!0}),i.moveTo(c[0].x,c[0].y),i.lineTo(c[1].x,c[1].y),i.lineTo(c[2].x,c[2].y),i.lineTo(c[3].x,c[3].y),i.lineTo(c[0].x,c[0].y),i.closePath()}updateBeveledPath(){let{columnWidth:e,path:t,outerRadius:n,innerRadius:i,axisInnerRadius:r,axisOuterRadius:o,isRadiusAxisReversed:s}=this,a=yo(i,r),l=Math.asin(e/2/i),c=this.getRotation(),d=(E,D)=>nv(E,D,c),h=(E,D)=>Math.sqrt(nt(E,2)+nt(D,2)),u=(E,D)=>D>E?0:Math.sqrt(nt(E,2)-nt(D,2)),m=(E,D,A)=>A?E<D:E>D,p=a&&!isNaN(l)&&l<Math.PI/6,f=-e/2,b=e/2,y=-n,v=-i*(p?Math.cos(l):1),x=m(o,h(i,e/2),!s);if(x){let E=u(o,i);f=-E,b=E}t.clear({trackChanges:!0});let k=d(f,v);t.moveTo(k.x,k.y);let w=yo(i,n),S=m(o,h(n,e/2),!s);if(w&&p)t.arc(0,0,i,ae(-l-Math.PI/2)+c,ae(l-Math.PI/2)+c,!1);else if(S){let E=-u(o,e/2),D=u(o,n);if(!x){let A=d(f,E);t.lineTo(A.x,A.y)}if(t.arc(0,0,o,Math.atan2(E,f)+c,Math.atan2(y,-D)+c,!1),!yo(D,0)){let A=d(D,y);t.lineTo(A.x,A.y)}t.arc(0,0,o,Math.atan2(y,D)+c,Math.atan2(E,b)+c,!1)}else{let E=d(f,y),D=d(b,y);t.lineTo(E.x,E.y),t.lineTo(D.x,D.y)}let C=d(b,v);if(t.lineTo(C.x,C.y),p)t.arc(0,0,i,ae(l-Math.PI/2)+c,ae(-l-Math.PI/2)+c,!0);else{let E=d(f,v);t.lineTo(E.x,E.y)}t.closePath()}};on.className="RadialColumnShape";g([it()],on.prototype,"isBeveled",2);g([it()],on.prototype,"columnWidth",2);g([it()],on.prototype,"startAngle",2);g([it()],on.prototype,"endAngle",2);g([it()],on.prototype,"outerRadius",2);g([it()],on.prototype,"innerRadius",2);g([it()],on.prototype,"axisInnerRadius",2);g([it()],on.prototype,"axisOuterRadius",2);g([it()],on.prototype,"isRadiusAxisReversed",2);function xR(e,t,n,i,r){let o=Mm(e,t),s=o*(1-i)/2;if(e+=s,t-=s,o<.001)return 2*n*r;if(o>=2*Math.PI){let m=e+o/2;e=m-Math.PI,t=m+Math.PI}let a=n*Math.cos(e),l=n*Math.sin(e),c=n*Math.cos(t),d=n*Math.sin(t),h=Math.floor(Math.sqrt(nt(a-c,2)+nt(l-d,2))),u=2*n*r;return Math.max(1,Math.min(u,h))}var As=class extends ys{constructor(e){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=e}render(e){let{ctx:t,forceRender:n,stats:i}=e;if(this.dirty===0&&!n){i&&i.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(t);let r=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(r,0,0,r.width,r.height,this.x,this.y,this.width,this.height),super.render(e)}};g([W({redraw:3})],As.prototype,"x",2);g([W({redraw:3})],As.prototype,"y",2);g([W({redraw:3})],As.prototype,"width",2);g([W({redraw:3})],As.prototype,"height",2);g([W({redraw:3})],As.prototype,"opacity",2);var wR=I(I({},cy),Hy),kR={};Hn(kR,{CARTESIAN_AXIS_TYPE:()=>Hv,ChartTheme:()=>Xn,DEFAULT_AXIS_GRID_COLOUR:()=>zc,DEFAULT_AXIS_LINE_COLOUR:()=>Cc,DEFAULT_BACKGROUND_COLOUR:()=>Ka,DEFAULT_CROSS_LINES_COLOUR:()=>za,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Qi,DEFAULT_FONT_FAMILY:()=>_e,DEFAULT_HIERARCHY_FILLS:()=>xm,DEFAULT_HIERARCHY_STROKES:()=>wm,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>bs,DEFAULT_INVERTED_LABEL_COLOUR:()=>oy,DEFAULT_LABEL_COLOUR:()=>_t,DEFAULT_MUTED_LABEL_COLOUR:()=>ns,DEFAULT_POLAR_SERIES_STROKE:()=>_m,DEFAULT_SHADOW_COLOUR:()=>vs,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>Zi,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>Xi,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>Ki,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>qi,EXTENDS_AXES_DEFAULTS:()=>Jv,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>ny,EXTENDS_AXES_LABEL_DEFAULTS:()=>ty,EXTENDS_AXES_LINE_DEFAULTS:()=>ey,EXTENDS_AXES_TICK_DEFAULTS:()=>iy,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>gs,EXTENDS_CHART_DEFAULTS:()=>Xv,EXTENDS_LEGEND_DEFAULTS:()=>qv,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>Zv,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>Qv,EXTENDS_SERIES_DEFAULTS:()=>Kn,FONT_SIZE:()=>Gv,FONT_WEIGHT:()=>Wv,IS_DARK_THEME:()=>fo,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>ry,POLAR_AXIS_SHAPE:()=>Kv,POLAR_AXIS_TYPE:()=>Yv,POSITION:()=>$v,getChartTheme:()=>km,themes:()=>SR});var SR=Object.entries(sy).reduce((e,[t,n])=>(e[t]=n(),e),{}),CR={};Hn(CR,{BandScale:()=>Dn,ColorScale:()=>Ro,ContinuousScale:()=>Ot,Invalidating:()=>oi,LinearScale:()=>Sn,TimeScale:()=>Hm});var DR={};Hn(DR,{Color:()=>yn,Logger:()=>j,Padding:()=>Mr,angleBetween:()=>Mm,checkDatum:()=>Qa,clamp:()=>gt,clampArray:()=>Vc,countFractionDigits:()=>Im,createId:()=>In,deepClone:()=>Be,extent:()=>En,findMinMax:()=>Wn,findRangeExtent:()=>ds,isContinuous:()=>Um,isDate:()=>cl,isEqual:()=>yo,isNegative:()=>fl,isNumber:()=>xt,isNumberEqual:()=>yo,isString:()=>Ti,isStringObject:()=>Vm,jsonApply:()=>kr,jsonDiff:()=>bi,jsonWalk:()=>xn,mod:()=>Qc,normalisedExtent:()=>ay,normalisedExtentWithMetadata:()=>pl,normalizeAngle180:()=>qa,normalizeAngle360:()=>ae,normalizeAngle360Inclusive:()=>xE,range:()=>tl,resetIds:()=>dy,round:()=>Em,sanitizeHtml:()=>$t,shallowClone:()=>Bc,tickFormat:()=>Qy,tickStep:()=>hs,ticks:()=>sd,toDegrees:()=>wE,toFixed:()=>Zc,toRadians:()=>ze,transformIntegratedCategoryValue:()=>rs,zipObject:()=>Wu});var ER={};Hn(ER,{ADD_PHASE:()=>Tm,AGG_VALUES_EXTENT:()=>xA,AND:()=>Rn,ANIMATION_PHASE_ORDER:()=>ho,ANIMATION_PHASE_TIMINGS:()=>xy,ARRAY:()=>gl,ARRAY_OF:()=>qn,AbstractBarSeries:()=>y_,AbstractBarSeriesProperties:()=>kp,ActionOnSet:()=>Se,Animation:()=>ky,AnimationManager:()=>S0,AreaSeriesTag:()=>g_,Axis:()=>Ym,AxisLabel:()=>ve,AxisTick:()=>tn,BOOLEAN:()=>Z,BOOLEAN_ARRAY:()=>kE,Background:()=>Dl,BackgroundModule:()=>a_,BaseModuleInstance:()=>fm,BaseProperties:()=>Ft,COLOR_STRING:()=>mt,COLOR_STRING_ARRAY:()=>Ni,CartesianAxis:()=>kl,CartesianSeries:()=>Pr,CartesianSeriesNodeClickEvent:()=>hp,CartesianSeriesProperties:()=>Nr,CategoryAxis:()=>$n,ChartAxisDirection:()=>My,ChartEventManager:()=>C0,ChartOptions:()=>ly,ChartUpdateType:()=>Ga,ContextMenuRegistry:()=>D0,CursorManager:()=>E0,DATE:()=>Lm,DATE_ARRAY:()=>SE,DATE_OR_DATETIME_MS:()=>Om,DEGREE:()=>Ir,DIRECTION:()=>Ay,DataController:()=>x0,DataModel:()=>_0,DataService:()=>ld,Default:()=>Jn,Deprecated:()=>So,DeprecatedAndRenamedTo:()=>sE,FONT_STYLE:()=>Ar,FONT_WEIGHT:()=>Rr,FUNCTION:()=>Oi,GREATER_THAN:()=>vl,GestureDetector:()=>I0,GroupedCategoryAxis:()=>Cr,HierarchyNode:()=>Oc,HierarchySeries:()=>AR,HierarchySeriesProperties:()=>Br,HighlightManager:()=>sm,HighlightStyle:()=>Cl,INITIAL_LOAD:()=>by,INTERACTION_RANGE:()=>Fm,INTERACTION_TYPES:()=>w0,InteractionManager:()=>k0,InteractionState:()=>Wc,LABEL_PHASE:()=>_y,LESS_THAN:()=>bl,LINE_CAP:()=>Ey,LINE_DASH:()=>Zn,LINE_JOIN:()=>CE,Layers:()=>Gy,LayoutService:()=>R0,MATCHING_CROSSLINE_TYPE:()=>Gm,MAX_SPACING:()=>Bm,MIN_SPACING:()=>Ty,Motion:()=>Rm,NAN:()=>ed,NODE_UPDATE_PHASES:()=>Sy,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Ke,NUMBER:()=>zt,NUMBER_ARRAY:()=>id,NUMBER_OR_NAN:()=>_s,Navigator:()=>nn,NavigatorModule:()=>c_,OBJECT:()=>K,OBJECT_ARRAY:()=>Nm,OR:()=>Co,OVERFLOW_STRATEGY:()=>EE,ObserveChanges:()=>xs,PLACEMENT:()=>Ry,POSITION:()=>Pm,POSITIVE_NUMBER:()=>L,PolarAxis:()=>cs,PolarSeries:()=>fd,PropertiesArray:()=>ul,ProxyOnWrite:()=>BE,ProxyProperty:()=>Tr,ProxyPropertyOnWrite:()=>jt,QUICK_TRANSITION:()=>Jc,RATIO:()=>At,REGISTERED_MODULES:()=>_n,REMOVE_PHASE:()=>vy,RepeatType:()=>wy,SMALLEST_KEY_INTERVAL:()=>um,SORT_DOMAIN_GROUPS:()=>Y0,STRING:()=>F,STRING_ARRAY:()=>Dy,Series:()=>Ds,SeriesGroupingChangedEvent:()=>cp,SeriesItemHighlightStyle:()=>er,SeriesMarker:()=>ai,SeriesNodeClickEvent:()=>Sl,SeriesNodePickMode:()=>X0,SeriesProperties:()=>en,SeriesTooltip:()=>li,StateMachine:()=>xl,TEXT_ALIGN:()=>Iy,TEXT_WRAP:()=>nd,Tags:()=>c0,TooltipManager:()=>am,UNION:()=>le,UPDATE_PHASE:()=>yy,UpdateService:()=>Q0,VERTICAL_ALIGN:()=>DE,Validate:()=>_,ZoomManager:()=>A0,__FORCE_MODULE_DETECTION:()=>RR,accumulateGroup:()=>K0,accumulatedValue:()=>$0,accumulativeValueProperty:()=>lp,adjustLabelPlacement:()=>C_,animationValidation:()=>Cs,area:()=>hm,arraysEqual:()=>Va,assignJsonApplyConstructedArray:()=>jy,average:()=>_A,backfillPathPointData:()=>bp,buildResetPathFn:()=>_p,checkCrisp:()=>k_,circularSliceArray:()=>Uu,clamp:()=>gt,clampArray:()=>Vc,collapsedStartingBarPosition:()=>sl,count:()=>yA,countFractionDigits:()=>Im,createDatumId:()=>Dr,createDeprecationWarning:()=>Dm,deconstructSelectionsOrNodes:()=>td,deepClone:()=>Be,deepMerge:()=>ZC,determinePathStatus:()=>p_,diff:()=>Ao,enterpriseModule:()=>ts,extent:()=>En,extractDecoratedProperties:()=>YC,findMinMax:()=>Wn,findRangeExtent:()=>ds,fixNumericExtent:()=>Xe,fromToMotion:()=>Ht,getMissCount:()=>Zm,getPath:()=>Ev,getRectConfig:()=>w_,groupAccumulativeValueProperty:()=>_r,groupAverage:()=>W0,groupBy:()=>Cm,groupCount:()=>dm,groupSum:()=>U0,hasRegisteredEnterpriseModules:()=>gm,injectStyle:()=>od,invertShapeDirection:()=>IR,isArray:()=>fe,isBoolean:()=>xv,isDate:()=>qc,isDecoratedObject:()=>Xc,isDefined:()=>Lu,isEnumKey:()=>qC,isEnumValue:()=>Sv,isEqual:()=>yo,isFiniteNumber:()=>xt,isFunction:()=>ps,isHtmlElement:()=>kv,isNegative:()=>fl,isNumber:()=>Hi,isObject:()=>Cn,isObjectLike:()=>XC,isPlainObject:()=>Mi,isProperties:()=>gi,isRegExp:()=>wv,isString:()=>Ti,isSymbol:()=>Cv,isValidDate:()=>cl,jsonApply:()=>kr,jsonDiff:()=>bi,jsonWalk:()=>xn,keyProperty:()=>Pe,listDecoratedProperties:()=>is,mapValues:()=>Dv,markerFadeInAnimation:()=>il,markerPaletteFactory:()=>Il,markerScaleInAnimation:()=>pp,markerSwipeScaleInAnimation:()=>fp,mergeArrayDefaults:()=>Ou,mergeDefaults:()=>st,midpointStartingBarPosition:()=>QA,minMax:()=>mm,mod:()=>Qc,normaliseGroupTo:()=>Hc,normalisePropertyTo:()=>el,normalisedExtent:()=>ay,normalisedExtentWithMetadata:()=>pl,pairCategoryData:()=>ol,pairContinuousData:()=>rl,partialAssign:()=>Nu,pathFadeInAnimation:()=>Ha,pathFadeOutAnimation:()=>WA,pathSwipeInAnimation:()=>yp,predicateWithMessage:()=>Pt,prepareAreaPathAnimation:()=>b_,prepareAxisAnimationContext:()=>rm,prepareAxisAnimationFunctions:()=>r0,prepareBarAnimationFunctions:()=>al,prepareLinePathAnimation:()=>f_,prepareLinePathAnimationFns:()=>xp,prepareMarkerAnimation:()=>gp,range:()=>G0,rangedValueProperty:()=>ap,registerModule:()=>Wi,renderPartialPath:()=>vp,resetAxisGroupFn:()=>o0,resetAxisLabelSelectionFn:()=>a0,resetAxisLineSelectionFn:()=>l0,resetAxisSelectionFn:()=>s0,resetBarSelectionsFn:()=>ll,resetIds:()=>dy,resetLabelFn:()=>ir,resetMarkerFn:()=>Al,resetMarkerPositionFn:()=>nl,resetMotion:()=>xe,round:()=>Em,seriesLabelFadeInAnimation:()=>It,seriesLabelFadeOutAnimation:()=>_o,setPath:()=>Iv,shallowClone:()=>Bc,singleSeriesPaletteFactory:()=>mp,staticFromToMotion:()=>An,stringify:()=>Ua,sum:()=>vA,toArray:()=>jc,toFixed:()=>Zc,trailingAccumulatedValue:()=>H0,trailingAccumulatedValueProperty:()=>EA,trailingValue:()=>Z0,trailingValueProperty:()=>DA,unique:()=>Sm,updateClipPath:()=>Yc,updateLabelNode:()=>S_,updateRect:()=>x_,validateCrossLineValues:()=>Wy,valueProperty:()=>Nt});function IR(...e){for(let t of e)if(t instanceof Ve){let{x:n,y:i,width:r,height:o}=t;t.setProperties({x:i,y:n,width:o,height:r})}else if(t instanceof ke){let{x1:n,y1:i,x2:r,y2:o}=t;t.setProperties({x1:i,y1:n,x2:o,y2:r})}}var j_=class Lc{constructor(t,n,i,r,o,s,a,l,c,d,h){this.series=t,this.index=n,this.datum=i,this.size=r,this.colorValue=o,this.fill=s,this.stroke=a,this.sumSize=l,this.depth=c,this.parent=d,this.children=h,this.midPoint={x:0,y:0}}contains(t){let n=t;for(;n!=null&&n.index>=this.index;){if(n===this)return!0;n=n.parent}return!1}walk(t,n=Lc.Walk.PreOrder){n===Lc.Walk.PreOrder&&t(this),this.children.forEach(i=>{i.walk(t,n)}),n===Lc.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(let t of this.children)yield*xf(QS(t))}};j_.Walk={PreOrder:0,PostOrder:1};var Oc=j_,AR=class extends Ds{constructor(e){super({moduleCtx:e,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new Oc(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new xl("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){return T(this,null,function*(){var e,t;let{childrenKey:n,sizeKey:i,colorKey:r,fills:o,strokes:s,colorRange:a}=this.properties,l=0,c=()=>(l+=1,l),d=0,h=1/0,u=-1/0,m=new Array(((t=(e=this.data)==null?void 0:e.length)!=null?t:0)+1).fill(void 0),p=(x,k)=>{let w=c(),S=k.depth!=null?k.depth+1:0,C=n!=null?x[n]:void 0,E=C==null||C.length===0,D=i!=null?x[i]:void 0;Number.isFinite(D)?D=Math.max(D,0):D=E?1:0;let A=D;d=Math.max(d,S);let R=r!=null?x[r]:void 0;return typeof R=="number"&&(m[w]=R,h=Math.min(h,R),u=Math.max(u,R)),f(new Oc(this,w,x,D,R,void 0,void 0,A,S,k,[]),C)},f=(x,k)=>(k?.forEach(w=>{let S=p(w,x);x.children.push(S),x.sumSize+=S.sumSize}),x),b=f(new Oc(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),y=[h,u],v;a!=null&&Number.isFinite(h)&&Number.isFinite(u)&&(v=new Ro,v.domain=y,v.range=a,v.update()),b.children.forEach((x,k)=>{x.walk(w=>{let S,C=m[w.index];C!=null&&(S=v?.convert(C)),S??(S=o?.[k%o.length]),w.fill=S,w.stroke=v==null?s?.[k%s.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=b,this.maxDepth=d,this.colorDomain=y})}update(e){return T(this,arguments,function*({seriesRect:t}){yield this.updateSelections(),yield this.updateNodes();let n=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",n),this.animationState.transition("update",n)})}resetAllAnimation(e){var t;let n=(t=this.animationResetFns)==null?void 0:t.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),n!=null&&xe(e.datumSelections,n)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){var t;let n=(t=this.animationResetFns)==null?void 0:t.datum;n!=null&&xe([e],n)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){let{colorKey:t,colorName:n,colorRange:i,visible:r}=this.properties;return e==="gradient"&&t!=null&&i!=null?[{legendType:"gradient",enabled:r,seriesId:this.id,colorName:n,colorRange:i,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}},Br=class extends en{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(bn),this.strokes=Object.values(vo)}};g([_(F)],Br.prototype,"childrenKey",2);g([_(F,{optional:!0})],Br.prototype,"sizeKey",2);g([_(F,{optional:!0})],Br.prototype,"colorKey",2);g([_(F,{optional:!0})],Br.prototype,"colorName",2);g([_(Ni)],Br.prototype,"fills",2);g([_(Ni)],Br.prototype,"strokes",2);g([_(Ni,{optional:!0})],Br.prototype,"colorRange",2);var RR=0;var V_=(()=>{class e{constructor(n,i){this.ngZone=i,this._initialised=!1,this.options={},this.onChartReady=new Re,this._nativeElement=n.nativeElement}ngAfterViewInit(){let n=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>zp.create(n)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(n){this.runOutsideAngular(()=>{!this._initialised||!this.chart||zp.update(this.chart,this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(n){let i=r=>{let o=r??{};Object.entries(o).forEach(([s,a])=>{a&&typeof a=="function"&&(o[s]=(...l)=>{this.runInsideAngular(()=>a(...l))})})};return i(n?.legend?.listeners),i(n?.listeners),n.series?.forEach(r=>{i(r.listeners)}),n.container?n:Xt(z({},n),{container:this._nativeElement})}runOutsideAngular(n){return this.ngZone?this.ngZone.runOutsideAngular(n):n()}runInsideAngular(n){return this.ngZone?this.ngZone.run(n):n()}}return e.\u0275fac=function(n){return new(n||e)(P(Ct),P(tt))},e.\u0275cmp=kt({type:e,selectors:[["ag-charts-angular"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},standalone:!0,features:[hr,Et],decls:0,vars:0,template:function(n,i){},encapsulation:2}),e})();var U_=(()=>{let t=class t{constructor(){this.postType=Mt.Pin,this.stats=[]}mapStatsToOptions(i,r){return{title:{text:gc(i),fontFamily:"Titillium Web"},series:[{type:"bubble",xKey:"hour",yKey:"weekday",sizeKey:"postsCount",data:r}],axes:[{type:"category",position:"bottom",title:{text:"Hour of the day (UTC)",fontFamily:"Titillium Web"},gridLine:{enabled:!0}},{type:"category",position:"left",title:{text:"Day of the week (UTC)",fontFamily:"Titillium Web"},gridLine:{enabled:!0}}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-chart"]],inputs:{postType:"postType",stats:"stats"},standalone:!0,features:[Et],decls:1,vars:1,consts:[[3,"options"]],template:function(r,o){r&1&&$e(0,"ag-charts-angular",0),r&2&&ii("options",o.mapStatsToOptions(o.postType,o.stats))},dependencies:[V_]});let e=t;return e})();var xd=(()=>{let t=class t{constructor(){this._pinStats$=new ht([]),this._instagramMediaStats$=new ht([]),this._youTubeVideoStats$=new ht([]),this._articleStats$=new ht([]),this._tweetStats$=new ht([]),this._facebookStatusStats$=new ht([])}statsStore$(i){switch(i){case Mt.Pin:return this._pinStats$;case Mt.InstagramMedia:return this._instagramMediaStats$;case Mt.YouTubeVideo:return this._youTubeVideoStats$;case Mt.Article:return this._articleStats$;case Mt.Tweet:return this._tweetStats$;case Mt.FacebookStatus:return this._facebookStatusStats$}}updateStats(i,r){this.statsStore$(i).next(r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var W_=(()=>{let t=class t{get stats(){return this.statsStore.statsStore$(this.postType).value}constructor(i,r){this.route=i,this.statsStore=r,this.subscriptions=[],this.postType$=this.route.paramMap.pipe(X(o=>o.get("postType"))).pipe(X(o=>mb(o)?o:null)),this.postType=Mt.Pin}ngOnInit(){this.subscriptions.push(this.postType$.subscribe(i=>{this.postType=i}))}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}};t.\u0275fac=function(r){return new(r||t)(P(zn),P(xd))},t.\u0275cmp=kt({type:t,selectors:[["chart-view"]],standalone:!0,features:[Et],decls:1,vars:2,consts:[[3,"postType","stats"]],template:function(r,o){r&1&&$e(0,"app-chart",0),r&2&&ii("postType",o.postType)("stats",o.stats)},dependencies:[U_]});let e=t;return e})();var $_=[{path:"chart/:postType",title:"Chart View",component:W_},{path:"chart",redirectTo:`/chart/${Mt.Pin}`,pathMatch:"full"},{path:"",redirectTo:"/chart",pathMatch:"full"}];var TR="@",MR=(()=>{let t=class t{constructor(i,r,o,s,a){this.doc=i,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=B(Xf,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-IHNCFC6V.js")).catch(r=>{throw new Gt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(i,r){let o=this.delegate.createRenderer(i,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new jp(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(i,r);s.use(l)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){Hs()},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),jp=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,i,r){this.delegate.insertBefore(t,n,i,r)}removeChild(t,n,i){this.delegate.removeChild(t,n,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(t,n,i)),this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(t,n,i)),this.delegate.listen(t,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(TR)}};function H_(e="animations"){return On([{provide:Hl,useFactory:(t,n,i)=>new MR(t,n,i,e),deps:[ft,Ql,tt]},{provide:Si,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Vp(e,t){let n=!t?.manualCleanup;n&&!t?.injector&&jf(Vp);let i=n?t?.injector?.get(nh)??B(nh):null,r;t?.requireSync?r=ih({kind:0}):r=ih({kind:1,value:t?.initialValue});let o=e.subscribe({next:s=>r.set({kind:1,value:s}),error:s=>{if(t?.rejectErrors)throw s;r.set({kind:2,error:s})}});return i?.onDestroy(o.unsubscribe.bind(o)),Yl(()=>{let s=r();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new Gt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var Wp={};function rx(e,t){if(Wp[e]=(Wp[e]||0)+1,typeof t=="function")return Up(e,(...i)=>Xt(z({},t(...i)),{type:e}));switch(t?t._as:"empty"){case"empty":return Up(e,()=>({type:e}));case"props":return Up(e,i=>Xt(z({},i),{type:e}));default:throw new Error("Unexpected config.")}}function Up(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var ox="@ngrx/store/init",Rs=(()=>{let t=class t extends ht{constructor(){super({type:ox})}next(i){if(typeof i=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof i>"u")throw new TypeError("Actions must be objects");if(typeof i.type>"u")throw new TypeError("Actions must have a type property");super.next(i)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),LR=[Rs],sx=new H("@ngrx/store Internal Root Guard"),Y_=new H("@ngrx/store Internal Initial State"),Xp=new H("@ngrx/store Initial State"),ax=new H("@ngrx/store Reducer Factory"),K_=new H("@ngrx/store Internal Reducer Factory Provider"),lx=new H("@ngrx/store Initial Reducers"),Gp=new H("@ngrx/store Internal Initial Reducers"),iP=new H("@ngrx/store Store Features"),X_=new H("@ngrx/store Internal Store Reducers"),nP=new H("@ngrx/store Internal Feature Reducers"),rP=new H("@ngrx/store Internal Feature Configs"),oP=new H("@ngrx/store Internal Store Features"),sP=new H("@ngrx/store Internal Feature Reducers Token"),aP=new H("@ngrx/store Feature Reducers"),q_=new H("@ngrx/store User Provided Meta Reducers"),wd=new H("@ngrx/store Meta Reducers"),Z_=new H("@ngrx/store Internal Resolved Meta Reducers"),Q_=new H("@ngrx/store User Runtime Checks Config"),J_=new H("@ngrx/store Internal User Runtime Checks Config"),Rl=new H("@ngrx/store Internal Runtime Checks"),cx=new H("@ngrx/store Check if Action types are unique"),kd=new H("@ngrx/store Root Store Provider"),dx=new H("@ngrx/store Feature State Provider");function OR(e,t={}){let n=Object.keys(e),i={};for(let o=0;o<n.length;o++){let s=n[o];typeof e[s]=="function"&&(i[s]=e[s])}let r=Object.keys(i);return function(s,a){s=s===void 0?t:s;let l=!1,c={};for(let d=0;d<r.length;d++){let h=r[d],u=i[h],m=s[h],p=u(m,a);c[h]=p,l=l||p!==m}return l?c:s}}function NR(e,t){return Object.keys(e).filter(n=>n!==t).reduce((n,i)=>Object.assign(n,{[i]:e[i]}),{})}function hx(...e){return function(t){if(e.length===0)return t;let n=e[e.length-1];return e.slice(0,-1).reduceRight((r,o)=>o(r),n(t))}}function ux(e,t){return Array.isArray(t)&&t.length>0&&(e=hx.apply(null,[...t,e])),(n,i)=>{let r=e(n);return(o,s)=>(o=o===void 0?i:o,r(o,s))}}function PR(e){let t=Array.isArray(e)&&e.length>0?hx(...e):n=>n;return(n,i)=>(n=t(n),(r,o)=>(r=r===void 0?i:r,n(r,o)))}var Tl=class extends di{},Sd=class extends Rs{},FR="@ngrx/store/update-reducers",$p=(()=>{let t=class t extends ht{get currentReducers(){return this.reducers}constructor(i,r,o,s){super(s(o,r)),this.dispatcher=i,this.initialState=r,this.reducers=o,this.reducerFactory=s}addFeature(i){this.addFeatures([i])}addFeatures(i){let r=i.reduce((o,{reducers:s,reducerFactory:a,metaReducers:l,initialState:c,key:d})=>{let h=typeof s=="function"?PR(l)(s,c):ux(a,l)(s,c);return o[d]=h,o},{});this.addReducers(r)}removeFeature(i){this.removeFeatures([i])}removeFeatures(i){this.removeReducers(i.map(r=>r.key))}addReducer(i,r){this.addReducers({[i]:r})}addReducers(i){this.reducers=z(z({},this.reducers),i),this.updateReducers(Object.keys(i))}removeReducer(i){this.removeReducers([i])}removeReducers(i){i.forEach(r=>{this.reducers=NR(this.reducers,r)}),this.updateReducers(i)}updateReducers(i){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:FR,features:i})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(r){return new(r||t)(M(Sd),M(Xp),M(lx),M(ax))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),BR=[$p,{provide:Tl,useExisting:$p},{provide:Sd,useExisting:Rs}],Dd=(()=>{let t=class t extends yt{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ci(t)))(o||t)}})(),t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),zR=[Dd],Cd=class extends di{},tx=(()=>{let t=class t extends ht{constructor(i,r,o,s){super(s);let l=i.pipe(Sf(kf)).pipe(Of(r)),c={state:s},d=l.pipe(Vl(jR,c));this.stateSubscription=d.subscribe(({state:h,action:u})=>{this.next(h),o.next(u)}),this.state=Vp(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=ox,t.\u0275fac=function(r){return new(r||t)(M(Rs),M(Tl),M(Dd),M(Xp))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})();function jR(e={state:void 0},[t,n]){let{state:i}=e;return{state:n(i,t),action:t}}var VR=[tx,{provide:Cd,useExisting:tx}],To=(()=>{let t=class t extends di{constructor(i,r,o){super(),this.actionsObserver=r,this.reducerManager=o,this.source=i,this.state=i.state}select(i,...r){return GR.call(null,i,...r)(this)}selectSignal(i,r){return Yl(()=>i(this.state()),r)}lift(i){let r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=i,r}dispatch(i){this.actionsObserver.next(i)}next(i){this.actionsObserver.next(i)}error(i){this.actionsObserver.error(i)}complete(){this.actionsObserver.complete()}addReducer(i,r){this.reducerManager.addReducer(i,r)}removeReducer(i){this.reducerManager.removeReducer(i)}};t.\u0275fac=function(r){return new(r||t)(M(Cd),M(Rs),M($p))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})(),UR=[To];function GR(e,t,...n){return function(r){let o;if(typeof e=="string"){let s=[t,...n].filter(Boolean);o=r.pipe(Mf(e,...s))}else if(typeof e=="function")o=r.pipe(X(s=>e(s,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(Hr())}}var qp="https://ngrx.io/guide/store/configuration/runtime-checks";function ex(e){return e===void 0}function ix(e){return e===null}function mx(e){return Array.isArray(e)}function WR(e){return typeof e=="string"}function $R(e){return typeof e=="boolean"}function HR(e){return typeof e=="number"}function px(e){return typeof e=="object"&&e!==null}function YR(e){return px(e)&&!mx(e)}function KR(e){if(!YR(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function Hp(e){return typeof e=="function"}function XR(e){return Hp(e)&&e.hasOwnProperty("\u0275cmp")}function qR(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ZR(e){return e instanceof H?B(e):e}function QR(e){return typeof e=="function"?e():e}function JR(e,t){return e.concat(t)}function tT(){if(B(To,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function eT(e,t){return function(n,i){let r=t.action(i)?Yp(i):i,o=e(n,r);return t.state()?Yp(o):o}}function Yp(e){Object.freeze(e);let t=Hp(e);return Object.getOwnPropertyNames(e).forEach(n=>{if(!n.startsWith("\u0275")&&qR(e,n)&&(!t||n!=="caller"&&n!=="callee"&&n!=="arguments")){let i=e[n];(px(i)||Hp(i))&&!Object.isFrozen(i)&&Yp(i)}}),e}function iT(e,t){return function(n,i){if(t.action(i)){let o=Kp(i);nx(o,"action")}let r=e(n,i);if(t.state()){let o=Kp(r);nx(o,"state")}return r}}function Kp(e,t=[]){return(ex(e)||ix(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((i,r)=>{if(i)return i;let o=e[r];return XR(o)?i:ex(o)||ix(o)||HR(o)||$R(o)||WR(o)||mx(o)?!1:KR(o)?Kp(o,[...t,r]):{path:[...t,r],value:o}},!1)}function nx(e,t){if(e===!1)return;let n=e.path.join("."),i=new Error(`Detected unserializable ${t} at "${n}". ${qp}#strict${t}serializability`);throw i.value=e.value,i.unserializablePath=n,i}function nT(e,t){return function(n,i){if(t.action(i)&&!tt.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${qp}#strictactionwithinngzone`);return e(n,i)}}function rT(e){return rg()?z({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function oT({strictActionSerializability:e,strictStateSerializability:t}){return n=>e||t?iT(n,{action:i=>e&&!Zp(i),state:()=>t}):n}function sT({strictActionImmutability:e,strictStateImmutability:t}){return n=>e||t?eT(n,{action:i=>e&&!Zp(i),state:()=>t}):n}function Zp(e){return e.type.startsWith("@ngrx")}function aT({strictActionWithinNgZone:e}){return t=>e?nT(t,{action:n=>e&&!Zp(n)}):t}function lT(e){return[{provide:J_,useValue:e},{provide:Q_,useFactory:dT,deps:[J_]},{provide:Rl,deps:[Q_],useFactory:rT},{provide:wd,multi:!0,deps:[Rl],useFactory:sT},{provide:wd,multi:!0,deps:[Rl],useFactory:oT},{provide:wd,multi:!0,deps:[Rl],useFactory:aT}]}function cT(){return[{provide:cx,multi:!0,deps:[Rl],useFactory:hT}]}function dT(e){return e}function hT(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(Wp).filter(([,n])=>n>1).map(([n])=>n);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(n=>`"${n}"`).join(", ")}. ${qp}#strictactiontypeuniqueness`)}function uT(e={},t={}){return[{provide:sx,useFactory:tT},{provide:Y_,useValue:t.initialState},{provide:Xp,useFactory:QR,deps:[Y_]},{provide:Gp,useValue:e},{provide:X_,useExisting:e instanceof H?e:Gp},{provide:lx,deps:[Gp,[new Bf(X_)]],useFactory:ZR},{provide:q_,useValue:t.metaReducers?t.metaReducers:[]},{provide:Z_,deps:[wd,q_],useFactory:JR},{provide:K_,useValue:t.reducerFactory?t.reducerFactory:OR},{provide:ax,deps:[K_,Z_],useFactory:ux},LR,BR,zR,VR,UR,lT(t.runtimeChecks),cT()]}function mT(){B(Rs),B(Tl),B(Dd),B(To),B(sx,{optional:!0}),B(cx,{optional:!0})}var pT=[{provide:kd,useFactory:mT},{provide:Bo,multi:!0,useFactory(){return()=>B(kd)}}];function fx(e,t){return On([...uT(e,t),pT])}var gT={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Ed="__@ngrx/effects_create__";function gx(e,t={}){let n=t.functional?e:e(),i=z(z({},gT),t);return Object.defineProperty(n,Ed,{value:i}),n}function bT(e){return Object.getOwnPropertyNames(e).filter(i=>e[i]&&e[i].hasOwnProperty(Ed)?e[i][Ed].hasOwnProperty("dispatch"):!1).map(i=>{let r=e[i][Ed];return z({propertyName:i},r)})}function vT(e){return bT(e)}function bx(e){return Object.getPrototypeOf(e)}function yT(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function vx(e){return typeof e=="function"}function _T(e){return e.filter(vx)}function xT(e,t,n){let i=bx(e),o=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,s=vT(e).map(({propertyName:a,dispatch:l,useEffectsErrorHandler:c})=>{let d=typeof e[a]=="function"?e[a]():e[a],h=c?n(d,t):d;return l===!1?h.pipe(Ef()):h.pipe(Tf()).pipe(X(m=>({effect:e[a],notification:m,propertyName:a,sourceName:o,sourceInstance:e})))});return Wr(...s)}var wT=10;function yx(e,t,n=wT){return e.pipe(cn(i=>(t&&t.handleError(i),n<=1?e:yx(e,t,n-1))))}var yP=new H("@ngrx/effects Internal Root Guard"),_P=new H("@ngrx/effects User Provided Effects"),xP=new H("@ngrx/effects Internal Root Effects"),wP=new H("@ngrx/effects Internal Root Effects Instances"),kP=new H("@ngrx/effects Internal Feature Effects"),SP=new H("@ngrx/effects Internal Feature Effects Instance Groups"),kT=new H("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>yx}),ST="@ngrx/effects/init",CT=rx(ST);function DT(e,t){if(e.notification.kind==="N"){let n=e.notification.value;!ET(n)&&t.handleError(new Error(`Effect ${IT(e)} dispatched an invalid action: ${AT(n)}`))}}function ET(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function IT({propertyName:e,sourceInstance:t,sourceName:n}){let i=typeof t[e]=="function";return!!n?`"${n}.${String(e)}${i?"()":""}"`:`"${String(e)}()"`}function AT(e){try{return JSON.stringify(e)}catch{return e}}var RT="ngrxOnIdentifyEffects";function TT(e){return Qp(e,RT)}var MT="ngrxOnRunEffects";function LT(e){return Qp(e,MT)}var OT="ngrxOnInitEffects";function NT(e){return Qp(e,OT)}function Qp(e,t){return e&&t in e&&typeof e[t]=="function"}var _x=(()=>{let t=class t extends yt{constructor(i,r){super(),this.errorHandler=i,this.effectsErrorHandler=r}addEffects(i){this.next(i)}toActions(){return this.pipe(qd(i=>yT(i)?bx(i):i),We(i=>i.pipe(qd(PT))),We(i=>{let r=i.pipe(Af(s=>FT(this.errorHandler,this.effectsErrorHandler)(s)),X(s=>(DT(s,this.errorHandler),s.notification)),te(s=>s.kind==="N"&&s.value!=null),If()),o=i.pipe(Le(1),te(NT),X(s=>s.ngrxOnInitEffects()));return Wr(r,o)}))}};t.\u0275fac=function(r){return new(r||t)(M(Nn),M(kT))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function PT(e){return TT(e)?e.ngrxOnIdentifyEffects():""}function FT(e,t){return n=>{let i=xT(n,e,t);return LT(n)?n.ngrxOnRunEffects(i):i}}var BT=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(i,r){this.effectSources=i,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(M(_x),M(To))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function xx(...e){let t=e.flat(),n=_T(t);return On([n,{provide:Bo,multi:!0,useValue:()=>{B(kd),B(dx,{optional:!0});let i=B(BT),r=B(_x),o=!i.isStarted;o&&i.start();for(let s of t){let a=vx(s)?B(s):s;r.addEffects(a)}o&&B(To).dispatch(CT())}}])}var nr;(function(e){let t;(function(r){r.InitStream="INIT_STREAM"})(t=e.Commands||(e.Commands={}));let n;(function(r){r.WorkerReady="WORKER_READY",r.StreamInitialized="STREAM_INITIALIZED",r.NewPost="NewPost"})(n=e.Messages||(e.Messages={}));let i;(function(r){r.InvalidCommand="INVALID_COMMAND",r.InvalidMessage="INVALID_MESSAGE"})(i=e.Errors||(e.Errors={})),e.isValidCommand=r=>vr(t)(r),e.isValidMessage=r=>vr(n)(r)})(nr||(nr={}));var wx=(()=>{let t=class t{constructor(){this.pin$=new ht({}),this.instagramMedia$=new ht({}),this.youTubeVideo$=new ht({}),this.article$=new ht({}),this.tweet$=new ht({}),this.facebookStatus$=new ht({})}postsStore$(i){switch(i){case Mt.Pin:return this.pin$;case Mt.InstagramMedia:return this.instagramMedia$;case Mt.YouTubeVideo:return this.youTubeVideo$;case Mt.Article:return this.article$;case Mt.Tweet:return this.tweet$;case Mt.FacebookStatus:return this.facebookStatus$}}saveNewPost(i,r){let o=this.postsStore$(i);o.next(Xt(z({},o.value),{[r.id]:r}))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Mo;(function(e){let t;(function(r){r.ComputeStats="COMPUTE_POST_TYPE_STATS"})(t=e.Commands||(e.Commands={}));let n;(function(r){r.StatsComputed="POST_TYPE_STATS_COMPUTED"})(n=e.Messages||(e.Messages={}));let i;(function(r){r.InvalidCommand="INVALID_COMMAND",r.InvalidMessage="INVALID_MESSAGE"})(i=e.Errors||(e.Errors={})),e.isValidCommand=r=>vr(t)(r),e.isValidMessage=r=>vr(n)(r)})(Mo||(Mo={}));var kx=(()=>{let t=class t{constructor(i){this.statsStore=i,this.worker=null,this.initWorker()}ngOnDestroy(){this.destroyWorker()}computeStats(i,r){this.postCommand({type:Mo.Commands.ComputeStats,payload:{postType:i,post:r}})}initWorker(){try{this.destroyWorker();let i=new Worker(new URL("worker-5OTM4HCI.js",import.meta.url),{type:"module"});this.initMessageHandler(i),this.worker=i}catch(i){throw new Error("Web Workers are not supported in this environment",{cause:i})}}destroyWorker(){this.worker?.terminate(),this.worker=null}initMessageHandler(i){i.addEventListener("message",r=>{if(this.isValidMessage(r))this.handleMessage(r.data);else throw new Error(Mo.Errors.InvalidMessage)})}postCommand(i){this.worker?.postMessage(i)}isValidMessage(i){try{return Mo.isValidMessage(i.data.type)}catch{return!1}}handleMessage(i){switch(i.type){case Mo.Messages.StatsComputed:this.handleStatsComputed(i.payload);break}}handleStatsComputed({postType:i,stats:r}){this.statsStore.updateStats(i,r)}};t.\u0275fac=function(r){return new(r||t)(M(xd))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Sx=(()=>{let t=class t{constructor(i,r){this.postsStore=i,this.statsService=r,this.worker=null,this._workerReady$=new ht(!1),this.workerReady$=this._workerReady$.asObservable(),this.initWorker()}ngOnDestroy(){this.destroyWorker()}initStream(){this.postCommand({type:nr.Commands.InitStream})}initWorker(){try{this.destroyWorker();let i=new Worker(new URL("worker-4CLZWCJP.js",import.meta.url),{type:"module"});this.initMessageHandler(i),this.worker=i}catch(i){throw new Error("Web Workers are not supported in this environment",{cause:i})}}destroyWorker(){this.worker?.terminate(),this._workerReady$.next(!1),this.worker=null}initMessageHandler(i){i.addEventListener("message",r=>{if(this.isValidMessage(r))this.handleMessage(r.data);else throw new Error(nr.Errors.InvalidMessage)})}postCommand(i){this.worker?.postMessage(i)}isValidMessage(i){try{return nr.isValidMessage(i.data.type)}catch{return!1}}handleMessage(i){switch(i?.type){case nr.Messages.WorkerReady:this.handleWorkerReady();break;case nr.Messages.StreamInitialized:break;case nr.Messages.NewPost:this.handleNewPost(i.payload);break}}handleWorkerReady(){this._workerReady$.next(!0)}handleNewPost({postType:i,post:r}){this.postsStore.saveNewPost(i,r),this.statsService.computeStats(i,r)}};t.\u0275fac=function(r){return new(r||t)(M(wx),M(kx))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Cx=(()=>{let t=class t{constructor(i){this.upfluenceStreamService=i,this.initUpfluenceStream$=gx(()=>this.upfluenceStreamService.workerReady$.pipe(te(r=>r),Ut(()=>this.upfluenceStreamService.initStream())),{dispatch:!1})}};t.\u0275fac=function(r){return new(r||t)(M(Sx))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let e=t;return e})();var Dx={providers:[ub($_),H_(),xx(Cx),fx()]};function ci(e){return e!=null&&`${e}`!="false"}function rr(e,t=0){return UT(e)?Number(e):t}function UT(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Jp(e){return Array.isArray(e)?e:[e]}function sn(e){return e instanceof Ct?e.nativeElement:e}var ef;try{ef=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ef=!1}var Kt=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?hg(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ef)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(M(Yr))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ml;function GT(){if(Ml==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ml=!0}))}finally{Ml=Ml||!1}return Ml}function Ts(e){return GT()?e:!!e.capture}var an=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(an||{}),Id,Lo;function Ex(){if(Lo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Lo=!1,Lo;if("scrollBehavior"in document.documentElement.style)Lo=!0;else{let e=Element.prototype.scrollTo;e?Lo=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Lo=!1}}return Lo}function Ms(){if(typeof document!="object"||!document)return an.NORMAL;if(Id==null){let e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),Id=an.NORMAL,e.scrollLeft===0&&(e.scrollLeft=1,Id=e.scrollLeft===0?an.NEGATED:an.INVERTED),e.remove()}return Id}var tf;function WT(){if(tf==null){let e=typeof document<"u"?document.head:null;tf=!!(e&&(e.createShadowRoot||e.attachShadow))}return tf}function Ix(e){if(WT()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function zr(e){return e.composedPath?e.composedPath()[0]:e.target}function Ax(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Rx=new Set,Oo,$T=(()=>{let t=class t{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):YT}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&HT(i,this._nonce),this._matchMedia(i)}};t.\u0275fac=function(r){return new(r||t)(M(Kt),M(Gs,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function HT(e,t){if(!Rx.has(e))try{Oo||(Oo=document.createElement("style"),t&&(Oo.nonce=t),Oo.setAttribute("type","text/css"),document.head.appendChild(Oo)),Oo.sheet&&(Oo.sheet.insertRule(`@media ${e} {body{ }}`,0),Rx.add(e))}catch(n){console.error(n)}}function YT(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var Ad=(()=>{let t=class t{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new yt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return Tx(Jp(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=Tx(Jp(i)).map(a=>this._registerQuery(a).observable),s=Fs(o);return s=zl(s.pipe(Le(1)),s.pipe(Ul(1),$r(0))),s.pipe(X(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new di(a=>{let l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(dr(r),X(({matches:a})=>({query:i,matches:a})),Ae(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};t.\u0275fac=function(r){return new(r||t)(M($T),M(tt))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Tx(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var Mx={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function Lx(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var Ox=(()=>{let t=class t{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),KT=(()=>{let t=class t{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,r)=>this._cleanupObserver(r))}observe(i){let r=sn(i);return new di(o=>{let a=this._observeElement(r).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{let r=new yt,o=this._mutationObserverFactory.create(s=>r.next(s));o&&o.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:o,stream:r,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){let{observer:r,stream:o}=this._observedElements.get(i);r&&r.disconnect(),o.complete(),this._observedElements.delete(i)}}};t.\u0275fac=function(r){return new(r||t)(M(Ox))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Nx=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=rr(i),this._subscribe()}constructor(i,r,o){this._contentObserver=i,this._elementRef=r,this._ngZone=o,this.event=new Re,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe($r(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)(P(KT),P(Ct),P(tt))},t.\u0275dir=qt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[ee.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",He],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[Vi]});let e=t;return e})(),Px=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({providers:[Ox]});let e=t;return e})();var of=(()=>{let t=class t{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return qT(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=XT(rM(i));if(r&&(Fx(r)===-1||!this.isVisible(r)))return!1;let o=i.nodeName.toLowerCase(),s=Fx(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!iM(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return nM(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};t.\u0275fac=function(r){return new(r||t)(M(Kt))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function XT(e){try{return e.frameElement}catch{return null}}function qT(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function ZT(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function QT(e){return tM(e)&&e.type=="hidden"}function JT(e){return eM(e)&&e.hasAttribute("href")}function tM(e){return e.nodeName.toLowerCase()=="input"}function eM(e){return e.nodeName.toLowerCase()=="a"}function jx(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Fx(e){if(!jx(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function iM(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function nM(e){return QT(e)?!1:ZT(e)||JT(e)||e.hasAttribute("contenteditable")||jx(e)}function rM(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var rf=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,i,r,o=!1){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(t),!!i}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Le(1)).subscribe(t)}},Vx=(()=>{let t=class t{constructor(i,r,o){this._checker=i,this._ngZone=r,this._document=o}create(i,r=!1){return new rf(i,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(M(of),M(tt),M(ft))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function sf(e){return e.buttons===0||e.detail===0}function af(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var oM=new H("cdk-input-modality-detector-options"),sM={ignoreKeys:[18,17,224,91,16]},Ux=650,Ls=Ts({passive:!0,capture:!0}),aM=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new ht(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<Ux||(this._modality.next(sf(a)?"keyboard":"mouse"),this._mostRecentTarget=zr(a))},this._onTouchstart=a=>{if(af(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zr(a)},this._options=z(z({},sM),s),this.modalityDetected=this._modality.pipe(Ul(1)),this.modalityChanged=this.modalityDetected.pipe(Hr()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Ls),o.addEventListener("mousedown",this._onMousedown,Ls),o.addEventListener("touchstart",this._onTouchstart,Ls)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ls),document.removeEventListener("mousedown",this._onMousedown,Ls),document.removeEventListener("touchstart",this._onTouchstart,Ls))}};t.\u0275fac=function(r){return new(r||t)(M(Kt),M(tt),M(ft),M(oM,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Td=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Td||{}),lM=new H("cdk-focus-monitor-default-options"),Rd=Ts({passive:!0,capture:!0}),Md=(()=>{let t=class t{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new yt,this._rootNodeFocusAndBlurListener=l=>{let c=zr(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=s,this._detectionMode=a?.detectionMode||Td.IMMEDIATE}monitor(i,r=!1){let o=sn(i);if(!this._platform.isBrowser||o.nodeType!==1)return q();let s=Ix(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new yt,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let r=sn(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=sn(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,c])=>this._originChanged(l,r,c)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Td.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===Td.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Ux:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=zr(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rd)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ae(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(M(tt),M(Kt),M(aM),M(ft,8),M(lM,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var No=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(No||{}),Bx="cdk-high-contrast-black-on-white",zx="cdk-high-contrast-white-on-black",nf="cdk-high-contrast-active",Gx=(()=>{let t=class t{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=B(Ad).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return No.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return No.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return No.BLACK_ON_WHITE}return No.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(nf,Bx,zx),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===No.BLACK_ON_WHITE?i.add(nf,Bx):r===No.WHITE_ON_BLACK&&i.add(nf,zx)}}};t.\u0275fac=function(r){return new(r||t)(M(Kt),M(ft))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var cM=new H("cdk-dir-doc",{providedIn:"root",factory:dM});function dM(){return B(ft)}var hM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function uM(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?hM.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ld=(()=>{let t=class t{constructor(i){if(this.value="ltr",this.change=new Re,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=uM(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(M(cM,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var lf=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({});let e=t;return e})();function mM(){return!0}var pM=new H("mat-sanity-checks",{providedIn:"root",factory:mM}),ye=(()=>{let t=class t{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Ax()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};t.\u0275fac=function(r){return new(r||t)(M(Gx),M(pM,8),M(ft))},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[lf,lf]});let e=t;return e})();var zi=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(zi||{}),hf=class{constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=zi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Hx=Ts({passive:!0,capture:!0}),uf=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=zr(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Hx)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Hx)))}},Yx={enterDuration:225,exitDuration:150},fM=800,Kx=Ts({passive:!0,capture:!0}),Xx=["mousedown","touchstart"],qx=["mouseup","mouseleave","touchend","touchcancel"],Ll=class Ll{constructor(t,n,i,r){this._target=t,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=sn(i))}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=z(z({},Yx),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||gM(t,n,r),a=t-r.left,l=n-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),u=h.transitionProperty,m=h.transitionDuration,p=u==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,f=new hf(this,d,i,p);d.style.transform="scale3d(1, 1, 1)",f.state=zi.FADING_IN,i.persistent||(this._mostRecentTransientRipple=f);let b=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>this._finishRippleTransition(f),v=()=>this._destroyRipple(f);d.addEventListener("transitionend",y),d.addEventListener("transitioncancel",v),b={onTransitionEnd:y,onTransitionCancel:v}}),this._activeRipples.set(f,b),(p||!c)&&this._finishRippleTransition(f),f}fadeOutRipple(t){if(t.state===zi.FADING_OUT||t.state===zi.HIDDEN)return;let n=t.element,i=z(z({},Yx),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=zi.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=sn(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Xx.forEach(i=>{Ll._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{qx.forEach(n=>{this._triggerElement.addEventListener(n,this,Kx)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===zi.FADING_IN?this._startFadeOutTransition(t):t.state===zi.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=zi.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=zi.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){let n=sf(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+fM;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!af(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===zi.VISIBLE||t.config.terminateOnPointerUp&&t.state===zi.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Xx.forEach(n=>Ll._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&qx.forEach(n=>t.removeEventListener(n,this,Kx)))}};Ll._eventManager=new uf;var Ol=Ll;function gM(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var Nl=new H("mat-ripple-global-options"),bM=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ol(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:z(z(z({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,z(z({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,z(z({},this.rippleConfig),i))}};t.\u0275fac=function(r){return new(r||t)(P(Ct),P(tt),P(Kt),P(Nl,8),P(Si,8))},t.\u0275dir=qt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&se("mat-ripple-unbounded",o.unbounded)},inputs:{color:[ee.None,"matRippleColor","color"],unbounded:[ee.None,"matRippleUnbounded","unbounded"],centered:[ee.None,"matRippleCentered","centered"],radius:[ee.None,"matRippleRadius","radius"],animation:[ee.None,"matRippleAnimation","animation"],disabled:[ee.None,"matRippleDisabled","disabled"],trigger:[ee.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),Nd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[ye,ye]});let e=t;return e})();var tw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[ye]});let e=t;return e})();var Zx={capture:!0},Qx=["focus","click","mouseenter","touchstart"],cf="mat-ripple-loader-uninitialized",df="mat-ripple-loader-class-name",Jx="mat-ripple-loader-centered",Od="mat-ripple-loader-disabled",ew=(()=>{let t=class t{constructor(){this._document=B(ft,{optional:!0}),this._animationMode=B(Si,{optional:!0}),this._globalRippleOptions=B(Nl,{optional:!0}),this._platform=B(Kt),this._ngZone=B(tt),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let o=i.target.closest(`[${cf}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let i of Qx)this._document?.addEventListener(i,this._onInteraction,Zx)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of Qx)this._document?.removeEventListener(r,this._onInteraction,Zx)}configureRipple(i,r){i.setAttribute(cf,""),(r.className||!i.hasAttribute(df))&&i.setAttribute(df,r.className||""),r.centered&&i.setAttribute(Jx,""),r.disabled&&i.setAttribute(Od,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(Od,""):i.removeAttribute(Od)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(df)),i.append(o);let s=new bM(new Ct(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(Jx),s.disabled=i.hasAttribute(Od),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(cf),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var vM=["*",[["mat-toolbar-row"]]],yM=["*","mat-toolbar-row"],_M=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=qt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let e=t;return e})(),iw=(()=>{let t=class t{constructor(i,r,o){this._elementRef=i,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(r){return new(r||t)(P(Ct),P(Kt),P(ft))},t.\u0275cmp=kt({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&ni(s,_M,5),r&2){let a;he(a=ue())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(Vo(o.color?"mat-"+o.color:""),se("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Et],ngContentSelectors:yM,decls:2,vars:0,template:function(r,o){r&1&&(de(vM),Rt(0),Rt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var nw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[ye,ye]});let e=t;return e})();var wM=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var kM=["mat-icon-button",""],SM=["*"];var CM=new H("MAT_BUTTON_CONFIG");var DM=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],EM=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=B(Md),this._rippleLoader=B(ew),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=B(CM,{optional:!0}),l=i.nativeElement,c=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:h}of DM)l.hasAttribute(d)&&c.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){Hs()},t.\u0275dir=qt({type:t,inputs:{color:"color",disableRipple:[ee.HasDecoratorInputTransform,"disableRipple","disableRipple",He],disabled:[ee.HasDecoratorInputTransform,"disabled","disabled",He],ariaDisabled:[ee.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",He],disabledInteractive:[ee.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",He]},features:[Vi]});let e=t;return e})();var rw=(()=>{let t=class t extends EM{constructor(i,r,o,s){super(i,r,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(r){return new(r||t)(P(Ct),P(Kt),P(tt),P(Si,8))},t.\u0275cmp=kt({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Te("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Vo(o.color?"mat-"+o.color:""),se("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ui,Et],attrs:kM,ngContentSelectors:SM,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(de(),$e(0,"span",0),Rt(1),$e(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',wM],encapsulation:2,changeDetection:0});let e=t;return e})();var ow=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[ye,Nd,ye]});let e=t;return e})();var AM=20,Pd=(()=>{let t=class t{constructor(i,r,o){this._ngZone=i,this._platform=r,this._scrolled=new yt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=AM){return this._platform.isBrowser?new di(r=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(Kd(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let o=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(te(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let o=sn(r),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return Bs(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(M(tt),M(Kt),M(ft,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Os=(()=>{let t=class t{constructor(i,r,o,s){this.elementRef=i,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new yt,this._elementScrolled=new di(a=>this.ngZone.runOutsideAngular(()=>Bs(this.elementRef.nativeElement,"scroll").pipe(Ae(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){let r=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";i.left==null&&(i.left=o?i.end:i.start),i.right==null&&(i.right=o?i.start:i.end),i.bottom!=null&&(i.top=r.scrollHeight-r.clientHeight-i.bottom),o&&Ms()!=an.NORMAL?(i.left!=null&&(i.right=r.scrollWidth-r.clientWidth-i.left),Ms()==an.INVERTED?i.left=i.right:Ms()==an.NEGATED&&(i.left=i.right?-i.right:i.right)):i.right!=null&&(i.left=r.scrollWidth-r.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){let r=this.elementRef.nativeElement;Ex()?r.scrollTo(i):(i.top!=null&&(r.scrollTop=i.top),i.left!=null&&(r.scrollLeft=i.left))}measureScrollOffset(i){let r="left",o="right",s=this.elementRef.nativeElement;if(i=="top")return s.scrollTop;if(i=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return i=="start"?i=a?o:r:i=="end"&&(i=a?r:o),a&&Ms()==an.INVERTED?i==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&Ms()==an.NEGATED?i==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:i==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};t.\u0275fac=function(r){return new(r||t)(P(Ct),P(Pd),P(tt),P(Ld,8))},t.\u0275dir=qt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let e=t;return e})(),RM=20,sw=(()=>{let t=class t{constructor(i,r,o){this._platform=i,this._change=new yt,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(i=RM){return i>0?this._change.pipe(Kd(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(M(Kt),M(tt),M(ft,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mf=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({});let e=t;return e})();var zd=["*"],LM=["content"];function OM(e,t){if(e&1){let n=Ks();Lt(0,"div",1),hn("click",function(){Vs(n);let r=Bn();return Us(r._onBackdropClicked())}),Wt()}if(e&2){let n=Bn();se("mat-drawer-shown",n._isShowingBackdrop())}}function NM(e,t){e&1&&(Lt(0,"mat-drawer-content"),Rt(1,2),Wt())}var PM=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],FM=["mat-drawer","mat-drawer-content","*"];function BM(e,t){if(e&1){let n=Ks();Lt(0,"div",1),hn("click",function(){Vs(n);let r=Bn();return Us(r._onBackdropClicked())}),Wt()}if(e&2){let n=Bn();se("mat-drawer-shown",n._isShowingBackdrop())}}function zM(e,t){e&1&&(Lt(0,"mat-sidenav-content"),Rt(1,2),Wt())}var jM=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],VM=["mat-sidenav","mat-sidenav-content","*"],UM='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',aw={transformDrawer:mg("transform",[ph("open, open-instant",mh({transform:"none",visibility:"visible"})),ph("void",mh({"box-shadow":"none",visibility:"hidden"})),fh("void => open-instant",uh("0ms")),fh("void <=> open, open-instant => void",uh("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var GM=new H("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:WM}),pf=new H("MAT_DRAWER_CONTAINER");function WM(){return!1}var Fd=(()=>{let t=class t extends Os{constructor(i,r,o,s,a){super(o,s,a),this._changeDetectorRef=i,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};t.\u0275fac=function(r){return new(r||t)(P(dn),P(Wl(()=>cw)),P(Ct),P(Pd),P(tt))},t.\u0275cmp=kt({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,o){r&2&&Ys("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[un([{provide:Os,useExisting:t}]),ui,Et],ngContentSelectors:zd,decls:1,vars:0,template:function(r,o){r&1&&(de(),Rt(0))},encapsulation:2,changeDetection:0});let e=t;return e})(),lw=(()=>{let t=class t{get position(){return this._position}set position(i){i=i==="end"?"end":"start",i!==this._position&&(this._isAttached&&this._updatePositionInParent(i),this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=ci(i)}get autoFocus(){let i=this._autoFocus;return i??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(i){(i==="true"||i==="false"||i==null)&&(i=ci(i)),this._autoFocus=i}get opened(){return this._opened}set opened(i){this.toggle(ci(i))}constructor(i,r,o,s,a,l,c,d){this._elementRef=i,this._focusTrapFactory=r,this._focusMonitor=o,this._platform=s,this._ngZone=a,this._interactivityChecker=l,this._doc=c,this._container=d,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new yt,this._animationEnd=new yt,this._animationState="void",this.openedChange=new Re(!0),this._openedStream=this.openedChange.pipe(te(h=>h),X(()=>{})),this.openedStart=this._animationStarted.pipe(te(h=>h.fromState!==h.toState&&h.toState.indexOf("open")===0),zs(void 0)),this._closedStream=this.openedChange.pipe(te(h=>!h),X(()=>{})),this.closedStart=this._animationStarted.pipe(te(h=>h.fromState!==h.toState&&h.toState==="void"),zs(void 0)),this._destroyed=new yt,this.onPositionChanged=new Re,this._modeChanged=new yt,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Bs(this._elementRef.nativeElement,"keydown").pipe(te(h=>h.keyCode===27&&!this.disableClose&&!Lx(h)),Ae(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(Hr((h,u)=>h.fromState===u.fromState&&h.toState===u.toState)).subscribe(h=>{let{fromState:u,toState:m}=h;(m.indexOf("open")===0&&u==="void"||m==="void"&&u.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i.removeEventListener("blur",o),i.removeEventListener("mousedown",o),i.removeAttribute("tabindex")};i.addEventListener("blur",o),i.addEventListener("mousedown",o)})),i.focus(r)}_focusByCssSelector(i,r){let o=this._elementRef.nativeElement.querySelector(i);o&&this._forceFocus(o,r)}_takeFocus(){if(!this._focusTrap)return;let i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&typeof this._elementRef.nativeElement.focus=="function"&&i.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(i){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let i=this._doc.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,r){i&&r&&(this._openedVia=r);let o=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),o}_setOpen(i,r,o){return this._opened=i,i?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Le(1)).subscribe(a=>s(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(i){if(!this._platform.isBrowser)return;let r=this._elementRef.nativeElement,o=r.parentNode;i==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,r)),o.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}};t.\u0275fac=function(r){return new(r||t)(P(Ct),P(Vx),P(Md),P(Kt),P(tt),P(of),P(ft,8),P(pf,8))},t.\u0275cmp=kt({type:t,selectors:[["mat-drawer"]],viewQuery:function(r,o){if(r&1&&ur(LM,5),r&2){let s;he(s=ue())&&(o._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(r,o){r&1&&eg("@transform.start",function(a){return o._animationStarted.next(a)})("@transform.done",function(a){return o._animationEnd.next(a)}),r&2&&(Te("align",null),tg("@transform",o._animationState),se("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[Et],ngContentSelectors:zd,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,o){r&1&&(de(),Lt(0,"div",0,1),Rt(2),Wt())},dependencies:[Os],encapsulation:2,data:{animation:[aw.transformDrawer]},changeDetection:0});let e=t;return e})(),cw=(()=>{let t=class t{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=ci(i)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(i){this._backdropOverride=i==null?null:ci(i)}get scrollable(){return this._userContent||this._content}constructor(i,r,o,s,a,l=!1,c){this._dir=i,this._element=r,this._ngZone=o,this._changeDetectorRef=s,this._animationMode=c,this._drawers=new th,this.backdropClick=new Re,this._destroyed=new yt,this._doCheckSubject=new yt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new yt,i&&i.change.pipe(Ae(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Ae(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(dr(this._allDrawers),Ae(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(dr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe($r(10),Ae(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,r=0;if(this._left&&this._left.opened){if(this._left.mode=="side")i+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();i+=o,r-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")r+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();r+=o,i-=o}}i=i||null,r=r||null,(i!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:i,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(te(r=>r.fromState!==r.toState),Ae(this._drawers.changes)).subscribe(r=>{r.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),i.mode!=="side"&&i.openedChange.pipe(Ae(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){i&&i.onPositionChanged.pipe(Ae(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Le(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(Ae(Wr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){let r=this._element.nativeElement.classList,o="mat-drawer-container-has-open";i?r.add(o):r.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{i.position=="end"?(this._end!=null,this._end=i):(this._start!=null,this._start=i)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._drawerHasBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(i){return i!=null&&i.opened}_drawerHasBackdrop(i){return this._backdropOverride==null?!!i&&i.mode!=="side":this._backdropOverride}};t.\u0275fac=function(r){return new(r||t)(P(Ld,8),P(Ct),P(tt),P(dn),P(sw),P(GM),P(Si,8))},t.\u0275cmp=kt({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(r,o,s){if(r&1&&(ni(s,Fd,5),ni(s,lw,5)),r&2){let a;he(a=ue())&&(o._content=a.first),he(a=ue())&&(o._allDrawers=a)}},viewQuery:function(r,o){if(r&1&&ur(Fd,5),r&2){let s;he(s=ue())&&(o._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,o){r&2&&se("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[un([{provide:pf,useExisting:t}]),Et],ngContentSelectors:FM,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,o){r&1&&(de(PM),Pn(0,OM,1,2,"div",0),Rt(1),Rt(2,1),Pn(3,NM,2,0,"mat-drawer-content")),r&2&&(Fn(0,o.hasBackdrop?0:-1),oe(3),Fn(3,o._content?-1:3))},dependencies:[Fd],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let e=t;return e})(),Bd=(()=>{let t=class t extends Fd{constructor(i,r,o,s,a){super(i,r,o,s,a)}};t.\u0275fac=function(r){return new(r||t)(P(dn),P(Wl(()=>gf)),P(Ct),P(Pd),P(tt))},t.\u0275cmp=kt({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,o){r&2&&Ys("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},standalone:!0,features:[un([{provide:Os,useExisting:t}]),ui,Et],ngContentSelectors:zd,decls:1,vars:0,template:function(r,o){r&1&&(de(),Rt(0))},encapsulation:2,changeDetection:0});let e=t;return e})(),ff=(()=>{let t=class t extends lw{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(i){this._fixedInViewport=ci(i)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(i){this._fixedTopGap=rr(i)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(i){this._fixedBottomGap=rr(i)}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ci(t)))(o||t)}})(),t.\u0275cmp=kt({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,o){r&2&&(Te("align",null),Ys("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),se("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-drawer-opened",o.opened)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[ui,Et],ngContentSelectors:zd,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,o){r&1&&(de(),Lt(0,"div",0,1),Rt(2),Wt())},dependencies:[Os],encapsulation:2,data:{animation:[aw.transformDrawer]},changeDetection:0});let e=t;return e})(),gf=(()=>{let t=class t extends cw{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ci(t)))(o||t)}})(),t.\u0275cmp=kt({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(r,o,s){if(r&1&&(ni(s,Bd,5),ni(s,ff,5)),r&2){let a;he(a=ue())&&(o._content=a.first),he(a=ue())&&(o._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,o){r&2&&se("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[un([{provide:pf,useExisting:t}]),ui,Et],ngContentSelectors:VM,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,o){r&1&&(de(jM),Pn(0,BM,1,2,"div",0),Rt(1),Rt(2,1),Pn(3,zM,2,0,"mat-sidenav-content")),r&2&&(Fn(0,o.hasBackdrop?0:-1),oe(3),Fn(3,o._content?-1:3))},dependencies:[Bd],styles:[UM],encapsulation:2,changeDetection:0});let e=t;return e})(),dw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[ye,mf,mf,ye]});let e=t;return e})();var hw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[ye,ye]});let e=t;return e})();var HM=["*"],YM='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}a.mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}a.mdc-list-item.mdc-list-item--activated.mdc-list-item{border-radius:var(--mat-list-active-indicator-shape)}',KM=["unscopedContent"],XM=["text"],qM=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ZM=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var QM=new H("ListOption"),JM=(()=>{let t=class t{constructor(i){this._elementRef=i}};t.\u0275fac=function(r){return new(r||t)(P(Ct))},t.\u0275dir=qt({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0});let e=t;return e})(),t1=(()=>{let t=class t{constructor(i){this._elementRef=i}};t.\u0275fac=function(r){return new(r||t)(P(Ct))},t.\u0275dir=qt({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0});let e=t;return e})(),e1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=qt({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0});let e=t;return e})(),uw=(()=>{let t=class t{constructor(i){this._listOption=i}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}};t.\u0275fac=function(r){return new(r||t)(P(QM,8))},t.\u0275dir=qt({type:t,hostVars:4,hostBindings:function(r,o){r&2&&se("mdc-list-item__start",o._isAlignedAtStart())("mdc-list-item__end",!o._isAlignedAtStart())},standalone:!0});let e=t;return e})(),i1=(()=>{let t=class t extends uw{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ci(t)))(o||t)}})(),t.\u0275dir=qt({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[ui]});let e=t;return e})(),n1=(()=>{let t=class t extends uw{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ci(t)))(o||t)}})(),t.\u0275dir=qt({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[ui]});let e=t;return e})(),r1=new H("MAT_LIST_CONFIG"),jd=(()=>{let t=class t{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=B(r1,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=ci(i)}get disabled(){return this._disabled}set disabled(i){this._disabled=ci(i)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=qt({type:t,hostVars:1,hostBindings:function(r,o){r&2&&Te("aria-disabled",o.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let e=t;return e})(),o1=(()=>{let t=class t{set lines(i){this._explicitLines=rr(i,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(i){this._disableRipple=ci(i)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(i){this._disabled=ci(i)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(i,r,o,s,a,l){this._elementRef=i,this._ngZone=r,this._listBase=o,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new sr,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=l==="NoopAnimations",o&&!o._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Ol(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Wr(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(i){if(!this._lines||!this._titles||!this._unscopedContent)return;i&&this._checkDomForUnscopedTextContent();let r=this._explicitLines??this._inferLinesFromContent(),o=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",r===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",r===3),this._hasUnscopedTextContent){let s=this._titles.length===0&&r===1;o.classList.toggle("mdc-list-item__primary-text",s),o.classList.toggle("mdc-list-item__secondary-text",!s)}else o.classList.remove("mdc-list-item__primary-text"),o.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let i=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(i+=1),i}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(i=>i.nodeType!==i.COMMENT_NODE).some(i=>!!(i.textContent&&i.textContent.trim()))}};t.\u0275fac=function(r){return new(r||t)(P(Ct),P(tt),P(jd,8),P(Kt),P(Nl,8),P(Si,8))},t.\u0275dir=qt({type:t,contentQueries:function(r,o,s){if(r&1&&(ni(s,i1,4),ni(s,n1,4)),r&2){let a;he(a=ue())&&(o._avatars=a),he(a=ue())&&(o._icons=a)}},hostVars:4,hostBindings:function(r,o){r&2&&(Te("aria-disabled",o.disabled)("disabled",o._isButtonElement&&o.disabled||null),se("mdc-list-item--disabled",o.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let e=t;return e})();var mw=(()=>{let t=class t extends o1{get activated(){return this._activated}set activated(i){this._activated=ci(i)}constructor(i,r,o,s,a,l){super(i,r,o,s,a,l),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}};t.\u0275fac=function(r){return new(r||t)(P(Ct),P(tt),P(jd,8),P(Kt),P(Nl,8),P(Si,8))},t.\u0275cmp=kt({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,o,s){if(r&1&&(ni(s,t1,5),ni(s,JM,5),ni(s,e1,5)),r&2){let a;he(a=ue())&&(o._lines=a),he(a=ue())&&(o._titles=a),he(a=ue())&&(o._meta=a)}},viewQuery:function(r,o){if(r&1&&(ur(KM,5),ur(XM,5)),r&2){let s;he(s=ue())&&(o._unscopedContent=s.first),he(s=ue())&&(o._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&2&&(Te("aria-current",o._getAriaCurrent()),se("mdc-list-item--activated",o.activated)("mdc-list-item--with-leading-avatar",o._avatars.length!==0)("mdc-list-item--with-leading-icon",o._icons.length!==0)("mdc-list-item--with-trailing-meta",o._meta.length!==0)("_mat-animation-noopable",o._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[ui,Et],ngContentSelectors:ZM,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(r,o){r&1&&(de(qM),Rt(0),Lt(1,"span",0),Rt(2,1),Rt(3,2),Lt(4,"span",1,2),hn("cdkObserveContent",function(){return o._updateItemLines(!0)}),Rt(6,3),Wt()(),Rt(7,4),Rt(8,5),$e(9,"div",3))},dependencies:[Nx],encapsulation:2,changeDetection:0});let e=t;return e})();var pw=(()=>{let t=class t extends jd{constructor(){super(...arguments),this._isNonInteractive=!1}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ci(t)))(o||t)}})(),t.\u0275cmp=kt({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[un([{provide:jd,useExisting:t}]),ui,Et],ngContentSelectors:HM,decls:1,vars:0,template:function(r,o){r&1&&(de(),Rt(0))},styles:[YM],encapsulation:2,changeDetection:0});let e=t;return e})();var fw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[Px,dh,ye,Nd,tw,hw]});let e=t;return e})();var a1=["*"],Vd;function l1(){if(Vd===void 0&&(Vd=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(Vd=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Vd}function Pl(e){return l1()?.createHTML(e)||e}function gw(e){return Error(`Unable to find icon with the name "${e}"`)}function c1(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function bw(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function vw(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var or=class{constructor(t,n,i){this.url=t,this.svgText=n,this.options=i}},d1=(()=>{let t=class t{constructor(i,r,o,s){this._httpClient=i,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(i,r,o){return this.addSvgIconInNamespace("",i,r,o)}addSvgIconLiteral(i,r,o){return this.addSvgIconLiteralInNamespace("",i,r,o)}addSvgIconInNamespace(i,r,o,s){return this._addSvgIconConfig(i,r,new or(o,null,s))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,o,s){let a=this._sanitizer.sanitize(hi.HTML,o);if(!a)throw vw(o);let l=Pl(a);return this._addSvgIconConfig(i,r,new or("",l,s))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,o){return this._addSvgIconSetConfig(i,new or(r,null,o))}addSvgIconSetLiteralInNamespace(i,r,o){let s=this._sanitizer.sanitize(hi.HTML,r);if(!s)throw vw(r);let a=Pl(s);return this._addSvgIconSetConfig(i,new or("",a,o))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(hi.RESOURCE_URL,i);if(!r)throw bw(i);let o=this._cachedIconsByUrl.get(r);return o?q(Ud(o)):this._loadSvgIconFromConfig(new or(i,null)).pipe(Ut(s=>this._cachedIconsByUrl.set(r,s)),X(s=>Ud(s)))}getNamedSvgIcon(i,r=""){let o=yw(r,i),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,i),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(i,a):Gr(gw(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?q(Ud(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(X(r=>Ud(r)))}_getSvgFromIconSetConfigs(i,r){let o=this._extractIconWithNameFromAnySet(i,r);if(o)return q(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(cn(l=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(hi.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),q(null)})));return Df(s).pipe(X(()=>{let a=this._extractIconWithNameFromAnySet(i,r);if(!a)throw gw(i);return a}))}_extractIconWithNameFromAnySet(i,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(i)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,i,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Ut(r=>i.svgText=r),X(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?q(null):this._fetchIcon(i).pipe(Ut(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,o){let s=i.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(Pl("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(i){let r=this._svgElementFromString(Pl("<svg></svg>")),o=i.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&r.setAttribute(a,l)}for(let s=0;s<i.childNodes.length;s++)i.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:o}=i,s=o?.withCredentials??!1;if(!this._httpClient)throw c1();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(hi.RESOURCE_URL,r);if(!a)throw bw(r);let l=this._inProgressUrlFetches.get(a);if(l)return l;let c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(X(d=>Pl(d)),lr(()=>this._inProgressUrlFetches.delete(a)),Lf());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(i,r,o){return this._svgIconConfigs.set(yw(i,r),o),this}_addSvgIconSetConfig(i,r){let o=this._iconSetConfigs.get(i);return o?o.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,i);if(s)return h1(s)?new or(s.url,null,s.options):new or(s,null)}}};t.\u0275fac=function(r){return new(r||t)(M(_g,8),M(Ah),M(ft,8),M(Nn))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ud(e){return e.cloneNode(!0)}function yw(e,t){return e+":"+t}function h1(e){return!!(e.url&&e.options)}var u1=new H("MAT_ICON_DEFAULT_OPTIONS"),m1=new H("mat-icon-location",{providedIn:"root",factory:p1});function p1(){let e=B(ft),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var _w=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],f1=_w.map(e=>`[${e}]`).join(", "),g1=/^url\(['"]?#(.*?)['"]?\)$/,xw=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,o,s,a,l){this._elementRef=i,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=sr.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=i.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>i.classList.remove(o)),r.forEach(o=>i.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${i}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(f1),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)_w.forEach(a=>{let l=r[s],c=l.getAttribute(a),d=c?c.match(g1):null;if(d){let h=o.get(l);h||(h=[],o.set(l,h)),h.push({name:a,value:d[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,o]=this._splitIconName(i);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Le(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};t.\u0275fac=function(r){return new(r||t)(P(Ct),P(d1),$l("aria-hidden"),P(m1),P(Nn),P(u1,8))},t.\u0275cmp=kt({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(Te("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Vo(o.color?"mat-"+o.color:""),se("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[ee.HasDecoratorInputTransform,"inline","inline",He],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Vi,Et],ngContentSelectors:a1,decls:1,vars:0,template:function(r,o){r&1&&(de(),Rt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let e=t;return e})(),ww=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=St({type:t}),t.\u0275inj=Dt({imports:[ye,ye]});let e=t;return e})();function v1(e,t){if(e&1){let n=Ks();Lt(0,"button",7),hn("click",function(){Vs(n),Bn();let r=oh(2);return Us(r.toggle())}),Lt(1,"mat-icon",8),Ui(2,"menu"),Wt()()}}var Ns=e=>["chart",e],y1=["*"],kw=(()=>{let t=class t{constructor(){this.breakpointObserver=B(Ad),this.PostType=Mt,this.isHandset$=this.breakpointObserver.observe(Mx.Handset).pipe(X(i=>i.matches),Qd()),this.postTypeLabel=gc}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-navigation"]],standalone:!0,features:[Et],ngContentSelectors:y1,decls:29,vars:36,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","",3,"routerLink"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],[1,"view-container"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(r,o){r&1&&(de(),Lt(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),Xs(3,"async"),Xs(4,"async"),Xs(5,"async"),Lt(6,"mat-toolbar"),Ui(7,"Menu"),Wt(),Lt(8,"mat-nav-list")(9,"a",3),Ui(10),Wt(),Lt(11,"a",3),Ui(12),Wt(),Lt(13,"a",3),Ui(14),Wt(),Lt(15,"a",3),Ui(16),Wt(),Lt(17,"a",3),Ui(18),Wt(),Lt(19,"a",3),Ui(20),Wt()()(),Lt(21,"mat-sidenav-content")(22,"mat-toolbar",4),Pn(23,v1,3,0,"button",5),Xs(24,"async"),Lt(25,"span"),Ui(26,"social-stream"),Wt()(),Lt(27,"div",6),Rt(28),Wt()()()),r&2&&(oe(),ii("mode",qs(4,18,o.isHandset$)?"over":"side")("opened",qs(5,20,o.isHandset$)===!1),Te("role",qs(3,16,o.isHandset$)?"dialog":"navigation"),oe(8),ii("routerLink",qr(24,Ns,o.PostType.Pin)),oe(),Xr(o.postTypeLabel(o.PostType.Pin)),oe(),ii("routerLink",qr(26,Ns,o.PostType.InstagramMedia)),oe(),Xr(o.postTypeLabel(o.PostType.InstagramMedia)),oe(),ii("routerLink",qr(28,Ns,o.PostType.YouTubeVideo)),oe(),Xr(o.postTypeLabel(o.PostType.YouTubeVideo)),oe(),ii("routerLink",qr(30,Ns,o.PostType.Article)),oe(),Xr(o.postTypeLabel(o.PostType.Article)),oe(),ii("routerLink",qr(32,Ns,o.PostType.Tweet)),oe(),Xr(o.postTypeLabel(o.PostType.Tweet)),oe(),ii("routerLink",qr(34,Ns,o.PostType.FacebookStatus)),oe(),Xr(o.postTypeLabel(o.PostType.FacebookStatus)),oe(3),Fn(23,qs(24,22,o.isHandset$)?23:-1))},dependencies:[nw,iw,ow,rw,dw,ff,gf,Bd,fw,pw,mw,ww,xw,cg,hb],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:absolute;top:0;z-index:1}.view-container[_ngcontent-%COMP%]{height:100%;max-height:100%;padding-top:64px;overflow:hidden;box-sizing:border-box}"]});let e=t;return e})();var Sw=(()=>{let t=class t{constructor(){this.title="social-stream"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=kt({type:t,selectors:[["app-root"]],standalone:!0,features:[Et],decls:2,vars:0,template:function(r,o){r&1&&(Lt(0,"app-navigation"),$e(1,"router-outlet"),Wt())},dependencies:[du,kw]});let e=t;return e})();Ag(Sw,Dx).catch(e=>console.error(e));
